<!DOCTYPE html>
<html>
	<head lang="en">

	</head>

	<body>

		<!-- Ze canvas -->
		<div id="container" style="width: 1024px; height: 768px;"></div>

		<!-- Ze requirejs -->
		<script src="../scripts/vendor/requirejs/require.js"></script>

		<!-- Ze game code -->
		<script>


			require.config ({
				'baseUrl' : '../scripts/',
				'urlArgs' : 'bust=v2',

				paths: {
					EaselJS: "vendor/EaselJS/lib/easeljs-0.8.0.combined",
					Movieclip: "vendor/EaselJS/lib/movieclip-0.8.0.combined",
					PreloadJS: "vendor/PreloadJS/lib/preloadjs-0.6.0.combined",
					SoundJS: "vendor/SoundJS/lib/soundjs-0.6.0.combined",
					TweenJS: "vendor/TweenJS/lib/tweenjs-0.6.0.combined",
					jquery: "vendor/jquery/dist/jquery",
					requirejs: "vendor/requirejs/require",
					underscore: "vendor/underscore/underscore",
					backbone: "vendor/backbone/backbone",
					easelhacks: "vendor/easelhacks/dist/scripts/easelhacks"
					//easelhacks : 'http://easelhacks.local/dist/scripts/easelhacks'
				},
				shim: {
					EaselJS: {
						deps: [

						],
						exports: "createjs"
					},
					PreloadJS: {
						deps: [
							"EaselJS"
						],
						exports: "createjs"
					},
					Movieclip: {
						deps: [
							"EaselJS",
							"TweenJS"
						],
						exports: "createjs"
					},

					'easelbone' : {
						'deps' : [
							'CatLab/Easelbone/Hacks'
						]
					}
				},
				packages: [

				]
			});

			require ([ 'easelbone' ], function (easelbone)
			{
				// Some additional config to load the assets is required here.
				require.config ({
					'paths' : {
						'assets' : '../examples/assets/easelboneassets'
					},

					'shim' : {
						assets: {
							deps: [
								"Movieclip"
							],
							exports: "lib"
						}
					}
				});

				// We'll need backbone to define our view, and easeljs to handle our rendering.
				// We'll also need the assets.
				require ([
					'backbone',
					'EaselJS',
					'assets'
				],
				function (
					backbone,
					createjs,
					assets
				) {

					createjs.Ticker.timingMode = createjs.Ticker.TIMEOUT;
					createjs.Ticker.setFPS (24);

					var rootView = new easelbone.Views.Root ({'container': document.getElementById ('container') });

					rootView.stage.enableMouseOver(20);

					// Set default properties
					easelbone.setProperties (assets.properties);

					// Ticker
					//createjs.Ticker.setFPS (assets.properties.fps);


					// Load assets
					easelbone.Loader.loadAssets (assets, '../examples/assets/');

					// Prepare our "users"
					var users = [
						new easelbone.FakeWebremote.KeyboardUser ()
					];

					// And actually do load them.
					easelbone.Loader.load (function () {

						// NOW WE ARE READY FOR THE REAL SHIZZLE
						// Create a view and add it to the root.

						// An example settings view.slider1
						var ExampleView = easelbone.Views.Navigatable.extend ({

							'initialize' : function () {

								// First call the parent.
								this.initializeNavigatable ({ 'orientation' : 'vertical' });

								// Now set the view
								this.view = new assets.ExampleScrollArea ();

								this.list = new easelbone.Controls.List (assets.ExampleListElement, 2);
								this.scroll = new easelbone.Controls.ScrollArea (this.view.scrollcontent);
								this.scroll.content.addChild (this.list);

								this.list.createElement ().element.text.text = 'Item 1';
								this.list.createElement ().element.text.text = 'Item 2';
								this.list.createElement ().element.text.text = 'Item 3';
								this.list.createElement ().element.text.text = 'Item 4';
								this.list.createElement ().element.text.text = 'Item 5';
								this.list.createElement ().element.text.text = 'Item 6';
								this.list.createElement ().element.text.text = 'Item 7';
								this.list.createElement ().element.text.text = 'Item 8';

							},

							'render' : function () {

								this.addCenter (this.view);

							}

						});

						var view = new ExampleView ();
						view.setUsers (users);

						rootView.setView (view);
					});
				});
			});

		</script>

	</body>
</html>