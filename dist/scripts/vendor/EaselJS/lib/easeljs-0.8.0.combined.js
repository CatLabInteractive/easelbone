/*!
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

this.createjs=this.createjs||{},createjs.extend=function(e,t){function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){var n=e.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(r){n[(t+="_")+"constructor"]=r.constructor;for(var i in r)n.hasOwnProperty(i)&&typeof r[i]=="function"&&(n[t+i]=r[i])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t===e[n])return n;return-1},this.createjs=this.createjs||{},function(){function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var r;n?r=this._captureListeners=this._captureListeners||{}:r=this._listeners=this._listeners||{};var i=r[e];return i&&this.removeEventListener(e,t,n),i=r[e],i?i.push(t):r[e]=[t],t},t.on=function(e,t,n,r,i,s){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,function(e){t.call(n,e,i),r&&e.remove()},s)},t.removeEventListener=function(e,t,n){var r=n?this._captureListeners:this._listeners;if(!r)return;var i=r[e];if(!i)return;for(var s=0,o=i.length;s<o;s++)if(i[s]==t){o==1?delete r[e]:i.splice(s,1);break}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if(typeof e=="string"){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(n){}if(!e.bubbles||!this.parent)this._dispatchEvent(e,2);else{var r=this,i=[r];while(r.parent)i.push(r=r.parent);var s,o=i.length;for(s=o-1;s>=0&&!e.propagationStopped;s--)i[s]._dispatchEvent(e,1+(s==0));for(s=1;s<o&&!e.propagationStopped;s++)i[s]._dispatchEvent(e,3)}return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){var t=this;while(t){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,r=t==1?this._captureListeners:this._listeners;if(e&&r){var i=r[e.type];if(!i||!(n=i.length))return;try{e.currentTarget=this}catch(s){}try{e.eventPhase=t}catch(s){}e.removed=!1,i=i.slice();for(var o=0;o<n&&!e.immediatePropagationStopped;o++){var u=i[o];u.handleEvent?u.handleEvent(e):u(e),e.removed&&(this.off(e.type,u,t==1),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t;if(!e._inited)return;e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(t){console.log(t)}e.init=function(){if(e._inited)return;e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var n=0,r=e._tickTimes;if(!r||r.length<1)return-1;t=Math.min(r.length,t||e.getFPS()|0);for(var i=0;i<t;i++)n+=r[i];return n/t},e.getMeasuredFPS=function(t){var n=e._times;return!n||n.length<2?-1:(t=Math.min(n.length-1,t||e.getFPS()|0),1e3/((n[0]-n[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=(e._interval-1)*.97&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(e._timerId!=null)return;var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n){e._timerId=n(t==e.RAF?e._handleRAF:e._handleSynch),e._raf=!0;return}}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)},e._tick=function(){var t=e.paused,n=e._getTime(),r=n-e._lastTime;e._lastTime=n,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=r);if(e.hasEventListener("tick")){var i=new createjs.Event("tick"),s=e.maxDelta;i.delta=s&&r>s?s:r,i.paused=t,i.time=n,i.runTime=n-e._pausedTime,e.dispatchEvent(i)}e._tickTimes.unshift(e._getTime()-n);while(e._tickTimes.length>100)e._tickTimes.pop();e._times.unshift(n);while(e._times.length>100)e._times.pop()};var n=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(n&&n.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r,i,s,o,u,a,f){this.Event_constructor(e,t,n),this.stageX=r,this.stageY=i,this.rawX=a==null?r:a,this.rawY=f==null?i:f,this.nativeEvent=s,this.pointerID=o,this.primary=!!u}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(n){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r,i,s){this.setValues(e,t,n,r,i,s)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,n,r,i,s){return this.a=e==null?1:e,this.b=t||0,this.c=n||0,this.d=r==null?1:r,this.tx=i||0,this.ty=s||0,this},t.append=function(e,t,n,r,i,s){var o=this.a,u=this.b,a=this.c,f=this.d;if(e!=1||t!=0||n!=0||r!=1)this.a=o*e+a*t,this.b=u*e+f*t,this.c=o*n+a*r,this.d=u*n+f*r;return this.tx=o*i+a*s+this.tx,this.ty=u*i+f*s+this.ty,this},t.prepend=function(e,t,n,r,i,s){var o=this.a,u=this.c,a=this.tx;return this.a=e*o+n*this.b,this.b=t*o+r*this.b,this.c=e*u+n*this.d,this.d=t*u+r*this.d,this.tx=e*a+n*this.ty+i,this.ty=t*a+r*this.ty+s,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,n,r,i,s,o,u,a,f){if(s%360)var l=s*e.DEG_TO_RAD,c=Math.cos(l),h=Math.sin(l);else c=1,h=0;o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.append(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n),this.append(c*r,h*r,-h*i,c*i,0,0)):this.append(c*r,h*r,-h*i,c*i,t,n);if(a||f)this.tx-=a*this.a+f*this.c,this.ty-=a*this.b+f*this.d;return this},t.prependTransform=function(t,n,r,i,s,o,u,a,f){if(s%360)var l=s*e.DEG_TO_RAD,c=Math.cos(l),h=Math.sin(l);else c=1,h=0;if(a||f)this.tx-=a,this.ty-=f;return o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.prepend(c*r,h*r,-h*i,c*i,0,0),this.prepend(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n)):this.prepend(c*r,h*r,-h*i,c*i,t,n),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var n=Math.cos(t),r=Math.sin(t),i=this.a,s=this.b;return this.a=i*n+this.c*r,this.b=s*n+this.d*r,this.c=-i*r+this.c*n,this.d=-s*r+this.d*n,this},t.skew=function(t,n){return t*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;return this.a=r/s,this.b=-t/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-r*i)/s,this.ty=-(e*this.ty-t*i)/s,this},t.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,n){return n=n||{},n.x=e*this.a+t*this.c+this.tx,n.y=e*this.b+t*this.d+this.ty,n},t.decompose=function(t){t==null&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a),i=Math.abs(1-n/r);return i<1e-5?(t.rotation=r/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=r/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r,i){this.setValues(e,t,n,r,i)}var t=e.prototype;t.setValues=function(e,t,n,r,i){return this.visible=e==null?!0:!!e,this.alpha=t==null?1:t,this.shadow=n,this.compositeOperation=n,this.matrix=i||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(e,t,n,r,i){return this.alpha*=t,this.shadow=n||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&e,i&&this.matrix.appendMatrix(i),this},t.prepend=function(e,t,n,r,i){return this.alpha*=t,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&e,i&&this.matrix.prependMatrix(i),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r){this.setValues(e,t,n,r)}var t=e.prototype;t.setValues=function(e,t,n,r){return this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this},t.extend=function(e,t,n,r){return n=n||0,r=r||0,e+n>this.x+this.width&&(this.width=e+n-this.x),t+r>this.y+this.height&&(this.height=t+r-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,n,r){return this.x-=e,this.y-=t,this.width+=e+n,this.height+=t+r,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,n,r){return n=n||0,r=r||0,e>=this.x&&e+n<=this.x+this.width&&t>=this.y&&t+r<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var n=t.x,r=t.y,i=n+t.width,s=r+t.height;return this.x>n&&(n=this.x),this.y>r&&(r=this.y),this.x+this.width<i&&(i=this.x+this.width),this.y+this.height<s&&(s=this.y+this.height),i<=n||s<=r?null:new e(n,r,i-n,s-r)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r,i,s,o){if(!e.addEventListener)return;this.target=e,this.overLabel=n==null?"over":n,this.outLabel=t==null?"out":t,this.downLabel=r==null?"down":r,this.play=i,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),s&&(o&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(o)),e.hitArea=s)}var t=e.prototype;t.setEnabled=function(e){if(e==this._enabled)return;var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this))},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(n){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,n=this.target,r=e.type;r=="mousedown"?(this._isPressed=!0,t=this.downLabel):r=="pressup"?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):r=="rollover"?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(t):n.gotoAndStop&&n.gotoAndStop(t)},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r){this.color=e||"black",this.offsetX=t||0,this.offsetY=n||0,this.blur=r||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(n){}t.getNumFrames=function(e){if(e==null)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return t==null?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var n=this.getFrame(e);return n?(t||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,n,r,i;if(e==null)return;this.framerate=e.framerate||0;if(e.images&&(n=e.images.length)>0){i=this._images=[];for(t=0;t<n;t++){var s=e.images[t];if(typeof s=="string"){var o=s;s=document.createElement("img"),s.src=o}i.push(s),!s.getContext&&!s.complete&&(this._loadCount++,this.complete=!1,function(e){s.onload=function(){e._handleImageLoad()}}(this))}}if(e.frames!=null)if(e.frames instanceof Array){this._frames=[],i=e.frames;for(t=0,n=i.length;t<n;t++){var u=i[t];this._frames.push({image:this._images[u[4]?u[4]:0],rect:new createjs.Rectangle(u[0],u[1],u[2],u[3]),regX:u[5]||0,regY:u[6]||0})}}else r=e.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._spacing=r.spacing||0,this._margin=r.margin||0,this._numFrames=r.count,this._loadCount==0&&this._calculateFrames();this._animations=[];if((r=e.animations)!=null){this._data={};var a;for(a in r){var f={name:a},l=r[a];if(typeof l=="number")i=f.frames=[l];else if(l instanceof Array)if(l.length==1)f.frames=[l[0]];else{f.speed=l[3],f.next=l[2],i=f.frames=[];for(t=l[0];t<=l[1];t++)i.push(t)}else{f.speed=l.speed,f.next=l.next;var c=l.frames;i=f.frames=typeof c=="number"?[c]:c.slice(0)}if(f.next===!0||f.next===undefined)f.next=a;if(f.next===!1||i.length<2&&f.next==a)f.next=null;f.speed||(f.speed=1),this._animations.push(a),this._data[a]=f}}},t._handleImageLoad=function(){--this._loadCount==0&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._calculateFrames=function(){if(this._frames||this._frameWidth==0)return;this._frames=[];var e=this._numFrames||1e5,t=0,n=this._frameWidth,r=this._frameHeight,i=this._spacing,s=this._margin;e:for(var o=0,u=this._images;o<u.length;o++){var a=u[o],f=a.width,l=a.height,c=s;while(c<=l-s-r){var h=s;while(h<=f-s-n){if(t>=e)break e;t++,this._frames.push({image:a,rect:new createjs.Rectangle(h,c,n,r),regX:this._regX,regY:this._regY}),h+=n+i}c+=r+i}}this._numFrames=t},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,n=e;e.getRGB=function(e,t,n,r){return e!=null&&n==null&&(r=t,n=e&255,t=e>>8&255,e=e>>16&255),r==null?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+r+")"},e.getHSL=function(e,t,n,r){return r==null?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+r+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(e._ctx=r.getContext("2d"),r.width=r.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(i){}t.isEmpty=function(){return!this._instructions.length&&!this._activeInstructions.length},t.draw=function(e,t){this._updateInstructions();var n=this._instructions;for(var r=this._storeIndex,i=n.length;r<i;r++)n[r].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();var t,n=this._instructions;for(var r=this._storeIndex,i=n.length;r<i;r++)(t=n[r]).path!==!1&&t.exec(e)},t.moveTo=function(e,t){return this.append(new n.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new n.LineTo(e,t))},t.arcTo=function(e,t,r,i,s){return this.append(new n.ArcTo(e,t,r,i,s))},t.arc=function(e,t,r,i,s,o){return this.append(new n.Arc(e,t,r,i,s,o))},t.quadraticCurveTo=function(e,t,r,i){return this.append(new n.QuadraticCurveTo(e,t,r,i))},t.bezierCurveTo=function(e,t,r,i,s,o){return this.append(new n.BezierCurveTo(e,t,r,i,s,o))},t.rect=function(e,t,r,i){return this.append(new n.Rect(e,t,r,i))},t.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._stroke=this._fill=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new n.Fill(e):null)},t.beginLinearGradientFill=function(e,t,r,i,s,o){return this._setFill((new n.Fill).linearGradient(e,t,r,i,s,o))},t.beginRadialGradientFill=function(e,t,r,i,s,o,u,a){return this._setFill((new n.Fill).radialGradient(e,t,r,i,s,o,u,a))},t.beginBitmapFill=function(e,t,r){return this._setFill((new n.Fill(null,r)).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,r,i,s){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(e,t,r,i,s),this._stroke&&(this._stroke.ignoreScale=s),this._strokeIgnoreScale=s,this},t.beginStroke=function(e){return this._setStroke(e?new n.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,r,i,s,o){return this._setStroke((new n.Stroke).linearGradient(e,t,r,i,s,o))},t.beginRadialGradientStroke=function(e,t,r,i,s,o,u,a){return this._setStroke((new n.Stroke).radialGradient(e,t,r,i,s,o,u,a))},t.beginBitmapStroke=function(e,t){return this._setStroke((new n.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,n,r,i){return this.drawRoundRectComplex(e,t,n,r,i,i,i,i)},t.drawRoundRectComplex=function(e,t,r,i,s,o,u,a){return this.append(new n.RoundRect(e,t,r,i,s,o,u,a))},t.drawCircle=function(e,t,r){return this.append(new n.Circle(e,t,r))},t.drawEllipse=function(e,t,r,i){return this.append(new n.Ellipse(e,t,r,i))},t.drawPolyStar=function(e,t,r,i,s,o){return this.append(new n.PolyStar(e,t,r,i,s,o))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],i=0,s=t.length,o=[],u=0,a=0,f=e.BASE_64;while(i<s){var l=t.charAt(i),c=f[l],h=c>>3,p=n[h];if(!p||c&3)throw"bad path data (@"+i+"): "+l;var d=r[h];h||(u=a=0),o.length=0,i++;var v=(c>>2&1)+2;for(var m=0;m<d;m++){var g=f[t.charAt(i)],y=g>>5?-1:1;g=(g&31)<<6|f[t.charAt(i+1)],v==3&&(g=g<<6|f[t.charAt(i+2)]),g=y*g/10,m%2?u=g+=u:a=g+=a,o[m]=g,i+=v}p.apply(this,o)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var n=this._instructions,r=this._activeInstructions,i=this._commitIndex;if(this._dirty&&r.length){n.length=i,n.push(e.beginCmd);var s=r.length,o=n.length;n.length=o+s;for(var u=0;u<s;u++)n[u+o]=r[u];this._fill&&n.push(this._fill),this._stroke&&this._strokeStyle&&n.push(this._strokeStyle),this._stroke&&n.push(this._stroke),this._dirty=!1}t&&(r.length=0,this._commitIndex=n.length)},t._setFill=function(e){this._updateInstructions(!0);if(this._fill=e)this.command=e;return this},t._setStroke=function(e){this._updateInstructions(!0);if(this._stroke=e)this.command=e,e.ignoreScale=this._strokeIgnoreScale;return this},(n.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(n.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(n.ArcTo=function(e,t,n,r,i){this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.radius=i}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(e,t,n,r,i,s){this.x=e,this.y=t,this.radius=n,this.startAngle=r,this.endAngle=i,this.anticlockwise=!!s}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(e,t,n,r){this.cpx=e,this.cpy=t,this.x=n,this.y=r}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(e,t,n,r,i,s){this.cp1x=e,this.cp1y=t,this.cp2x=n,this.cp2y=r,this.x=i,this.y=s}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(n.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},t=(n.Fill=function(e,t){this.style=e,this.matrix=t}).prototype,t.exec=function(e){if(!this.style)return;e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()},t.linearGradient=function(t,n,r,i,s,o){var u=this.style=e._ctx.createLinearGradient(r,i,s,o);for(var a=0,f=t.length;a<f;a++)u.addColorStop(n[a],t[a]);return u.props={colors:t,ratios:n,x0:r,y0:i,x1:s,y1:o,type:"linear"},this},t.radialGradient=function(t,n,r,i,s,o,u,a){var f=this.style=e._ctx.createRadialGradient(r,i,s,o,u,a);for(var l=0,c=t.length;l<c;l++)f.addColorStop(n[l],t[l]);return f.props={colors:t,ratios:n,x0:r,y0:i,r0:s,x1:o,y1:u,r1:a,type:"radial"},this},t.bitmap=function(t,n){var r=this.style=e._ctx.createPattern(t,n||"");return r.props={image:t,repetition:n,type:"bitmap"},this},t.path=!1,t=(n.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype,t.exec=function(e){if(!this.style)return;e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore()},t.linearGradient=n.Fill.prototype.linearGradient,t.radialGradient=n.Fill.prototype.radialGradient,t.bitmap=n.Fill.prototype.bitmap,t.path=!1,t=(n.StrokeStyle=function(e,t,n,r){this.width=e,this.caps=t,this.joints=n,this.miterLimit=r}).prototype,t.exec=function(t){t.lineWidth=this.width==null?"1":this.width,t.lineCap=this.caps==null?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=this.joints==null?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=this.miterLimit==null?"10":this.miterLimit},t.path=!1,(n.RoundRect=function(e,t,n,r,i,s,o,u){this.x=e,this.y=t,this.w=n,this.h=r,this.radiusTL=i,this.radiusTR=s,this.radiusBR=o,this.radiusBL=u}).prototype.exec=function(e){var t=(a<f?a:f)/2,n=0,r=0,i=0,s=0,o=this.x,u=this.y,a=this.w,f=this.h,l=this.radiusTL,c=this.radiusTR,h=this.radiusBR,p=this.radiusBL;l<0&&(l*=n=-1),l>t&&(l=t),c<0&&(c*=r=-1),c>t&&(c=t),h<0&&(h*=i=-1),h>t&&(h=t),p<0&&(p*=s=-1),p>t&&(p=t),e.moveTo(o+a-c,u),e.arcTo(o+a+c*r,u-c*r,o+a,u+c,c),e.lineTo(o+a,u+f-h),e.arcTo(o+a+h*i,u+f+h*i,o+a-h,u+f,h),e.lineTo(o+p,u+f),e.arcTo(o-p*s,u+f+p*s,o,u+f-p,p),e.lineTo(o,u+l),e.arcTo(o-l*n,u-l*n,o+l,u,l),e.closePath()},(n.Circle=function(e,t,n){this.x=e,this.y=t,this.radius=n}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,Math.PI*2)},(n.Ellipse=function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}).prototype.exec=function(e){var t=this.x,n=this.y,r=this.w,i=this.h,s=.5522848,o=r/2*s,u=i/2*s,a=t+r,f=n+i,l=t+r/2,c=n+i/2;e.moveTo(t,c),e.bezierCurveTo(t,c-u,l-o,n,l,n),e.bezierCurveTo(l+o,n,a,c-u,a,c),e.bezierCurveTo(a,c+u,l+o,f,l,f),e.bezierCurveTo(l-o,f,t,c+u,t,c)},(n.PolyStar=function(e,t,n,r,i,s){this.x=e,this.y=t,this.radius=n,this.sides=r,this.pointSize=i,this.angle=s}).prototype.exec=function(e){var t=this.x,n=this.y,r=this.radius,i=(this.angle||0)/180*Math.PI,s=this.sides,o=1-(this.pointSize||0),u=Math.PI/s;e.moveTo(t+Math.cos(i)*r,n+Math.sin(i)*r);for(var a=0;a<s;a++)i+=u,o!=1&&e.lineTo(t+Math.cos(i)*r*o,n+Math.sin(i)*r*o),i+=u,e.lineTo(t+Math.cos(i)*r,n+Math.sin(i)*r);e.closePath()},e.beginCmd=new n.BeginPath,createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var t=createjs.extend(e,createjs.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._hitTestCanvas=n,e._hitTestContext=n.getContext("2d"),n.width=n.height=1),e._nextCacheID=1,t.getStage=function(){var e=this,t=createjs.Stage;while(e.parent)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(r){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)},t.draw=function(e,t){var n=this.cacheCanvas;if(t||!n)return!1;var r=this._cacheScale;return e.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/r,n.height/r),!0},t.updateContext=function(t){var n=this,r=n.mask,i=n._props.matrix;r&&r.graphics&&!r.graphics.isEmpty()&&(r.getMatrix(i),t.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),r.graphics.drawAsPath(t),t.clip(),i.invert(),t.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),this.getMatrix(i);var s=i.tx,o=i.ty;e._snapToPixelEnabled&&n.snapToPixel&&(s=s+(s<0?-0.5:.5)|0,o=o+(o<0?-0.5:.5)|0),t.transform(i.a,i.b,i.c,i.d,s,o),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)},t.cache=function(e,t,n,r,i){i=i||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=r,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=i,this.updateCache()},t.updateCache=function(t){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var r=this._cacheScale,i=this._cacheOffsetX*r,s=this._cacheOffsetY*r,o=this._cacheWidth,u=this._cacheHeight,a=n.getContext("2d"),f=this._getFilterBounds();i+=this._filterOffsetX=f.x,s+=this._filterOffsetY=f.y,o=Math.ceil(o*r)+f.width,u=Math.ceil(u*r)+f.height,o!=n.width||u!=n.height?(n.width=o,n.height=u):t||a.clearRect(0,0,o+1,u+1),a.save(),a.globalCompositeOperation=t,a.setTransform(r,0,0,r,-i,-s),this.draw(a,!0),this._applyFilters(),a.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,n||new createjs.Point)},t.globalToLocal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,n||new createjs.Point)},t.localToLocal=function(e,t,n,r){return r=this.localToGlobal(e,t,r),n.globalToLocal(r.x,r.y,r)},t.setTransform=function(e,t,n,r,i,s,o,u,a){return this.x=e||0,this.y=t||0,this.scaleX=n==null?1:n,this.scaleY=r==null?1:r,this.rotation=i||0,this.skewX=s||0,this.skewY=o||0,this.regX=u||0,this.regY=a||0,this},t.getMatrix=function(e){var t=this,n=e&&e.identity()||new createjs.Matrix2D;return t.transformMatrix?n.copy(t.transformMatrix):n.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){var t=this,n=this.getMatrix(e);while(t=t.parent)n.prependMatrix(t.getMatrix(t._props.matrix));return n},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,n=t.getMatrix(e.matrix);do e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&n.prependMatrix(t.getMatrix(t._props.matrix));while(t=t.parent);return e},t.hitTest=function(t,n){var r=e._hitTestContext;r.setTransform(1,0,0,1,-t,-n),this.draw(r);var i=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),i},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,n,r){e==null&&(this._bounds=e),this._bounds=(this._bounds||new createjs.Rectangle).setValues(e,t,n,r)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=this.filters==null?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var n=t.getImageData(0,0,1,1).data[3]>1}catch(r){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},t._applyFilters=function(){if(!this.filters||this.filters.length==0||!this.cacheCanvas)return;var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,r=this.cacheCanvas.height;for(var i=0;i<e;i++)this.filters[i].applyFilter(t,0,0,n,r)},t._getFilterBounds=function(e){var t,n=this.filters,r=this._rectangle.setValues(0,0,0,0);if(!n||!(t=n.length))return r;for(var i=0;i<t;i++){var s=this.filters[i];s.getBounds&&s.getBounds(r)}return r},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,n){if(!e)return e;var r=e.x,i=e.y,s=e.width,o=e.height,u=this._props.matrix;u=n?u.identity():this.getMatrix(u),(r||i)&&u.appendTransform(0,0,1,1,0,0,0,-r,-i),t&&u.prependMatrix(t);var a=s*u.a,f=s*u.b,l=o*u.c,c=o*u.d,h=u.tx,p=u.ty,d=h,v=h,m=p,g=p;return(r=a+h)<d?d=r:r>v&&(v=r),(r=a+l+h)<d?d=r:r>v&&(v=r),(r=l+h)<d?d=r:r>v&&(v=r),(i=f+p)<m?m=i:i>g&&(g=i),(i=f+c+p)<m?m=i:i>g&&(g=i),(i=c+p)<m?m=i:i>g&&(g=i),e.setValues(d,m,v-d,g-m)},t._hasMouseEventListener=function(){var t=e._MOUSE_EVENTS;for(var n=0,r=t.length;n<r;n++)if(this.hasEventListener(t[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(e,createjs.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(n){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.children.slice();for(var r=0,i=n.length;r<i;r++){var s=n[r];if(!s.isVisible())continue;e.save(),s.updateContext(e),s.draw(e),e.restore()}return!0},t.addChild=function(e){if(e==null)return e;var t=arguments.length;if(t>1){for(var n=0;n<t;n++)this.addChild(arguments[n]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var n=arguments.length,r=arguments[n-1];if(r<0||r>this.children.length)return arguments[n-2];if(n>2){for(var i=0;i<n-1;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){var n=!0;for(var r=0;r<t;r++)n=n&&this.removeChild(arguments[r]);return n}return this.removeChildAt(createjs.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){var n=[];for(var r=0;r<t;r++)n[r]=arguments[r];n.sort(function(e,t){return t-e});var i=!0;for(var r=0;r<t;r++)i=i&&this.removeChildAt(n[r]);return i}if(e<0||e>this.children.length-1)return!1;var s=this.children[e];return s&&(s.parent=null),this.children.splice(e,1),s.dispatchEvent("removed"),!0},t.removeAllChildren=function(){var e=this.children;while(e.length)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){var t=this.children;for(var n=0,r=t.length;n<r;n++)if(t[n].name==e)return t[n];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return createjs.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var n=this.children,r=n[e],i=n[t];if(!r||!i)return;n[e]=i,n[t]=r},t.swapChildren=function(e,t){var n=this.children,r,i;for(var s=0,o=n.length;s<o;s++){n[s]==e&&(r=s),n[s]==t&&(i=s);if(r!=null&&i!=null)break}if(s==o)return;n[r]=t,n[i]=e},t.setChildIndex=function(e,t){var n=this.children,r=n.length;if(e.parent!=this||t<0||t>=r)return;for(var i=0;i<r;i++)if(n[i]==e)break;if(i==r||i==t)return;n.splice(i,1),n.splice(t,0,e)},t.contains=function(e){while(e){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return this.getObjectUnderPoint(e,t)!=null},t.getObjectsUnderPoint=function(e,t,n){var r=[],i=this.localToGlobal(e,t);return this._getObjectsUnderPoint(i.x,i.y,r,n>0,n==1),r},t.getObjectUnderPoint=function(e,t,n){var r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,null,n>0,n==1)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var n=this._cloneProps(new e);return t&&this._cloneChildren(n),n},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var n=this.children[t];n.tickEnabled&&n._tick&&n._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();var t=e.children;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].clone(!0);i.parent=e,t.push(i)}},t._getObjectsUnderPoint=function(t,n,r,i,s,o){o=o||0;if(!o&&!this._testMask(this,t,n))return null;var u,a=createjs.DisplayObject._hitTestContext;s=s||i&&this._hasMouseEventListener();var f=this.children,l=f.length;for(var c=l-1;c>=0;c--){var h=f[c],p=h.hitArea;if(!h.visible||!p&&!h.isVisible()||i&&!h.mouseEnabled)continue;if(!p&&!this._testMask(h,t,n))continue;if(!p&&h instanceof e){var d=h._getObjectsUnderPoint(t,n,r,i,s,o+1);if(!r&&d)return i&&!this.mouseChildren?this:d}else{if(i&&!s&&!h._hasMouseEventListener())continue;var v=h.getConcatenatedDisplayProps(h._props);u=v.matrix,p&&(u.appendMatrix(p.getMatrix(p._props.matrix)),v.alpha=p.alpha),a.globalAlpha=v.alpha,a.setTransform(u.a,u.b,u.c,u.d,u.tx-t,u.ty-n),(p||h).draw(a);if(!this._testHit(a))continue;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2);if(!r)return i&&!this.mouseChildren?this:h;r.push(h)}}return null},t._testMask=function(e,t,n){var r=e.mask;if(!r||!r.graphics||r.graphics.isEmpty())return!0;var i=this._props.matrix,s=e.parent;i=s?s.getConcatenatedMatrix(i):i.identity(),i=r.getMatrix(r._props.matrix).prependMatrix(i);var o=createjs.DisplayObject._hitTestContext;return o.setTransform(i.a,i.b,i.c,i.d,i.tx-t,i.ty-n),r.graphics.drawAsPath(o),o.fillStyle="#000",o.fill(),this._testHit(o)?(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),!0):!1},t._getBounds=function(e,t){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,e,t);var r=this._props.matrix;r=t?r.identity():this.getMatrix(r),e&&r.prependMatrix(e);var i=this.children.length,s=null;for(var o=0;o<i;o++){var u=this.children[o];if(!u.visible||!(n=u._getBounds(r)))continue;s?s.extend(n.x,n.y,n.width,n.height):s=n.clone()}return s},createjs.Container=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas=typeof e=="string"?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(n){}t.update=function(e){if(!this.canvas)return;this.tickOnUpdate&&this.tick(e);if(this.dispatchEvent("drawstart"))return;createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(t?n.clearRect(t.x,t.y,t.width,t.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")},t.tick=function(e){if(!this.tickEnabled||this.dispatchEvent("tickstart"))return;var t=new createjs.Event("tick");if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);this._tick(t),this.dispatchEvent("tickend")},t.handleEvent=function(e){e.type=="tick"&&this.update(e)},t.clear=function(){if(!this.canvas)return;var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)},t.toDataURL=function(e,t){var n,r=this.canvas.getContext("2d"),i=this.canvas.width,s=this.canvas.height;if(e){n=r.getImageData(0,0,i,s);var o=r.globalCompositeOperation;r.globalCompositeOperation="destination-over",r.fillStyle=e,r.fillRect(0,0,i,s)}var u=this.canvas.toDataURL(t||"image/png");return e&&(r.putImageData(n,0,0),r.globalCompositeOperation=o),u},t.enableMouseOver=function(e){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,e==0&&this._testMouseOver(!0));if(e==null)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){e==null&&(e=!0);var t,n,r=this._eventListeners;if(!e&&r){for(t in r)n=r[t],n.t.removeEventListener(t,n.f,!1);this._eventListeners=null}else if(e&&!r&&this.canvas){var i=window.addEventListener?window:document,s=this;r=this._eventListeners={},r.mouseup={t:i,f:function(e){s._handleMouseUp(e)}},r.mousemove={t:i,f:function(e){s._handleMouseMove(e)}},r.dblclick={t:this.canvas,f:function(e){s._handleDoubleClick(e)}},r.mousedown={t:this.canvas,f:function(e){s._handleMouseDown(e)}};for(t in r)n=r[t],n.t.addEventListener(t,n.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,o=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),u=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),a=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),f=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:t.left+r+o,right:t.right+r-a,top:t.top+i+u,bottom:t.bottom+i-f}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,n,r,i){if(this._prevStage&&i===undefined)return;if(!this.canvas)return;var s=this._nextStage,o=this._getPointerData(e),u=o.inBounds;this._updatePointerPosition(e,t,n,r);if(u||o.inBounds||this.mouseMoveOutside)e===-1&&o.inBounds==!u&&this._dispatchMouseEvent(this,u?"mouseleave":"mouseenter",!1,e,o,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,o,t),this._dispatchMouseEvent(o.target,"pressmove",!0,e,o,t);s&&s._handlePointerMove(e,t,n,r,null)},t._updatePointerPosition=function(e,t,n,r){var i=this._getElementRect(this.canvas);n-=i.left,r-=i.top;var s=this.canvas.width,o=this.canvas.height;n/=(i.right-i.left)/s,r/=(i.bottom-i.top)/o;var u=this._getPointerData(e);(u.inBounds=n>=0&&r>=0&&n<=s-1&&r<=o-1)?(u.x=n,u.y=r):this.mouseMoveOutside&&(u.x=n<0?0:n>s-1?s-1:n,u.y=r<0?0:r>o-1?o-1:r),u.posEvtObj=t,u.rawX=n,u.rawY=r;if(e===this._primaryPointerID||e===-1)this.mouseX=u.x,this.mouseY=u.y,this.mouseInBounds=u.inBounds},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,n,r){var i=this._nextStage,s=this._getPointerData(e);if(this._prevStage&&r===undefined)return;s.down&&this._dispatchMouseEvent(this,"stagemouseup",!1,e,s,t),s.down=!1;var o=null,u=s.target;!r&&(u||i)&&(o=this._getObjectsUnderPoint(s.x,s.y,null,!0)),o==u&&this._dispatchMouseEvent(u,"click",!0,e,s,t),this._dispatchMouseEvent(u,"pressup",!0,e,s,t),n?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):s.target=null,i&&i._handlePointerUp(e,t,n,r||o&&this)},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,n,r,i){this.preventSelection&&t.preventDefault();if(this._primaryPointerID==null||e===-1)this._primaryPointerID=e;r!=null&&this._updatePointerPosition(e,t,n,r);var s=null,o=this._nextStage,u=this._getPointerData(e);u.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,u,t),u.down=!0),i||(s=u.target=this._getObjectsUnderPoint(u.x,u.y,null,!0),this._dispatchMouseEvent(u.target,"mousedown",!0,e,u,t)),o&&o._handlePointerDown(e,t,n,r,i||s&&this)},t._testMouseOver=function(e,t,n){if(this._prevStage&&t===undefined)return;var r=this._nextStage;if(!this._mouseOverIntervalID){r&&r._testMouseOver(e,t,n);return}var i=this._getPointerData(-1);if(!i||!e&&this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)return;var s=i.posEvtObj,o=n||s&&s.target==this.canvas,u=null,a=-1,f="",l,c,h;!t&&(e||this.mouseInBounds&&o)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var p=this._mouseOverTarget||[],d=p[p.length-1],v=this._mouseOverTarget=[];l=u;while(l)v.unshift(l),l.cursor!=null&&(f=l.cursor),l=l.parent;this.canvas.style.cursor=f,!t&&n&&(n.canvas.style.cursor=f);for(c=0,h=v.length;c<h;c++){if(v[c]!=p[c])break;a=c}d!=u&&this._dispatchMouseEvent(d,"mouseout",!0,-1,i,s);for(c=p.length-1;c>a;c--)this._dispatchMouseEvent(p[c],"rollout",!1,-1,i,s);for(c=v.length-1;c>a;c--)this._dispatchMouseEvent(v[c],"rollover",!1,-1,i,s);d!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,i,s),r&&r._testMouseOver(e,t||u&&this,n||o&&this)},t._handleDoubleClick=function(e,t){var n=null,r=this._nextStage,i=this._getPointerData(-1);t||(n=this._getObjectsUnderPoint(i.x,i.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,i,e)),r&&r._handleDoubleClick(e,t||n&&this)},t._dispatchMouseEvent=function(e,t,n,r,i,s){if(!e||!n&&!e.hasEventListener(t))return;var o=new createjs.MouseEvent(t,n,!1,i.x,i.y,s,r,r===this._primaryPointerID||r===-1,i.rawX,i.rawY);e.dispatchEvent(o)},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),typeof e=="string"?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2);return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var n=this.image,r=this.sourceRect;if(r){var i=r.x,s=r.y,o=i+r.width,u=s+r.height,a=0,f=0,l=n.width,c=n.height;i<0&&(a-=i,i=0),o>l&&(o=l),s<0&&(f-=s,s=0),u>c&&(u=c),e.drawImage(n,i,s,o-i,u-s,a,f,o-i,u-s)}else e.drawImage(n,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.sourceRect||this.image,n=this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2);return n?this._rectangle.setValues(0,0,t.width,t.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(this._currentFrame|0);if(!n)return!1;var r=n.rect;return r.width&&r.height&&e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,n=t&&e!=null?e/(1e3/t):1;this._normalizeFrame(n)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t=this._animation,n=this.paused,r=this._currentFrame,i;if(t){var s=t.speed||1,o=this.currentAnimationFrame;i=t.frames.length;if(o+e*s>=i){var u=t.next;if(this._dispatchAnimationEnd(t,r,n,u,i-1))return;if(u)return this._goto(u,e-(i-o)/s);this.paused=!0,o=t.frames.length-1}else o+=e*s;this.currentAnimationFrame=o,this._currentFrame=t.frames[o|0]}else{r=this._currentFrame+=e,i=this.spriteSheet.getNumFrames();if(r>=i&&i>0&&!this._dispatchAnimationEnd(t,r,n,i-1)&&(this._currentFrame-=i)>=i)return this._normalizeFrame()}r=this._currentFrame|0,this.currentFrame!=r&&(this.currentFrame=r,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,n,r,i){var s=e?e.name:null;if(this.hasEventListener("animationend")){var o=new createjs.Event("animationend");o.name=s,o.next=r,this.dispatchEvent(o)}var u=this._animation!=e||this._currentFrame!=t;return!u&&!n&&this.paused&&(this.currentAnimationFrame=i,u=!0),u},t._goto=function(e,t){this.currentAnimationFrame=0;if(isNaN(e)){var n=this.spriteSheet.getAnimation(e);n&&(this._animation=n,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),this.graphics=e?e:new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this.graphics.draw(e,this),!0)},t.clone=function(t){var n=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(n))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(e,t,n){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(e,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._workingContext=n.getContext("2d"),n.width=n.height=1),e.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||this.text!=null&&this.text!=="";return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.color||"#000";return this.outline?(e.strokeStyle=n,e.lineWidth=this.outline*1):e.fillStyle=n,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return this._getMeasuredWidth("M")*1.2},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(this.text==null||this.text=="")return null;var n=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,i=r*e.H_OFFSETS[this.textAlign||"left"],s=this.lineHeight||this.getMeasuredLineHeight(),o=s*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(i,o,r,n.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,n,r){var i=!!t;i||(t=e._workingContext,t.save(),this._prepContext(t));var s=this.lineHeight||this.getMeasuredLineHeight(),o=0,u=0,a=String(this.text).split(/(?:\r\n|\r|\n)/);for(var f=0,l=a.length;f<l;f++){var c=a[f],h=null;if(this.lineWidth!=null&&(h=t.measureText(c).width)>this.lineWidth){var p=c.split(/(\s)/);c=p[0],h=t.measureText(c).width;for(var d=1,v=p.length;d<v;d+=2){var m=t.measureText(p[d]+p[d+1]).width;h+m>this.lineWidth?(i&&this._drawTextLine(t,c,u*s),r&&r.push(c),h>o&&(o=h),c=p[d+1],h=t.measureText(c).width,u++):(c+=p[d]+p[d+1],h+=m)}}i&&this._drawTextLine(t,c,u*s),r&&r.push(c),n&&h==null&&(h=t.measureText(c).width),h>o&&(o=h),u++}return n&&(n.width=o,n.height=u*s),i||t.restore(),n},t._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var n=e._workingContext;n.save();var r=this._prepContext(n).measureText(t).width;return n.restore(),r},createjs.Text=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=createjs.extend(e,createjs.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return;this._updateText(),this.Container_draw(e,t)},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var n,r=t.getAnimation(e);return r||(e!=(n=e.toUpperCase())||e!=(n=e.toLowerCase())||(n=null),n&&(r=t.getAnimation(n))),r&&r.frames[0]},t._getFrame=function(e,t){var n=this._getFrameIndex(e,t);return n==null?n:t.getFrame(n)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t=0,n=0,r=this._oldProps,i=!1,s=this.spaceWidth,o=this.lineHeight,u=this.spriteSheet,a=e._spritePool,f=this.children,l=0,c=f.length,h;for(var p in r)r[p]!=this[p]&&(r[p]=this[p],i=!0);if(!i)return;var d=!!this._getFrame(" ",u);!d&&!s&&(s=this._getSpaceWidth(u)),o||(o=this._getLineHeight(u));for(var v=0,m=this.text.length;v<m;v++){var g=this.text.charAt(v);if(g==" "&&!d){t+=s;continue}if(g=="\n"||g=="\r"){g=="\r"&&this.text.charAt(v+1)=="\n"&&v++,t=0,n+=o;continue}var y=this._getFrameIndex(g,u);if(y==null)continue;l<c?h=f[l]:(f.push(h=a.length?a.pop():new createjs.Sprite),h.parent=this,c++),h.spriteSheet=u,h.gotoAndStop(y),h.x=t,h.y=n,l++,t+=h.getBounds().width+this.letterSpacing}while(c>l)a.push(h=f.pop()),h.parent=null,c--;a.length>e.maxPoolSize&&(a.length=e.maxPoolSize)},createjs.BitmapText=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,n,r,i){if(!n&&!r&&!i)return;var s=0;n&&e._flip(t,++s,!0,!1),r&&e._flip(t,++s,!1,!0),i&&e._flip(t,++s,!0,!0)},e.extractFrame=function(t,n){isNaN(n)&&(n=t.getAnimation(n).frames[0]);var r=t.getFrame(n);if(!r)return null;var i=r.rect,s=e._workingCanvas;s.width=i.width,s.height=i.height,e._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);var o=document.createElement("img");return o.src=s.toDataURL("image/png"),o},e.mergeAlpha=function(e,t,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(t.width,e.width),n.height=Math.max(t.height,e.height);var r=n.getContext("2d");return r.save(),r.drawImage(e,0,0),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),r.restore(),n},e._flip=function(t,n,r,i){var s=t._images,o=e._workingCanvas,u=e._workingContext,a=s.length/n;for(var f=0;f<a;f++){var l=s[f];l.__tmp=f,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,o.width+1,o.height+1),o.width=l.width,o.height=l.height,u.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0),u.drawImage(l,0,0);var c=document.createElement("img");c.src=o.toDataURL("image/png"),c.width=l.width,c.height=l.height,s.push(c)}var h=t._frames,p=h.length/n;for(f=0;f<p;f++){l=h[f];var d=l.rect.clone();c=s[l.image.__tmp+a*n];var v={image:c,rect:d,regX:l.regX,regY:l.regY};r&&(d.x=c.width-d.x-d.width,v.regX=d.width-l.regX),i&&(d.y=c.height-d.y-d.height,v.regY=d.height-l.regY),h.push(v)}var m="_"+(r?"h":"")+(i?"v":""),g=t._animations,y=t._data,b=g.length/n;for(f=0;f<b;f++){var w=g[f];l=y[w];var E={name:w+m,speed:l.speed,next:l.next,frames:[]};l.next&&(E.next+=m),h=l.frames;for(var S=0,x=h.length;S<x;S++)E.frames.push(h[S]+p*n);y[E.name]=E,g.push(E.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){function e(){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(e,createjs.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,n,r,i,s){if(this._data)throw e.ERR_RUNNING;var o=n||t.bounds||t.nominalBounds;return!o&&t.getBounds&&(o=t.getBounds()),o?(r=r||1,this._frames.push({source:t,sourceRect:o,scale:r,funct:i,data:s,index:this._frames.length,height:o.height*r})-1):null},t.addAnimation=function(t,n,r,i){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:r,frequency:i}},t.addMovieClip=function(t,n,r,i,s,o){if(this._data)throw e.ERR_RUNNING;var u=t.frameBounds,a=n||t.bounds||t.nominalBounds;!a&&t.getBounds&&(a=t.getBounds());if(!a&&!u)return;var f,l,c=this._frames.length,h=t.timeline.duration;for(f=0;f<h;f++){var p=u&&u[f]?u[f]:a;this.addFrame(t,p,r,this._setupMovieClipFrame,{i:f,f:i,d:s})}var d=t.timeline._labels,v=[];for(var m in d)v.push({index:d[m],label:m});if(v.length){v.sort(function(e,t){return e.index-t.index});for(f=0,l=v.length;f<l;f++){var g=v[f].label,y=c+v[f].index,b=c+(f==l-1?h:v[f+1].index),w=[];for(var E=y;E<b;E++)w.push(E);if(o){g=o(g,t,y,b);if(!g)continue}this.addAnimation(g,w,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;this._startBuild();while(this._drawNext());return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-Math.max(.01,Math.min(.99,this.timeSlice||.3))*50)},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,animations:this._animations};var r=this._frames.slice();r.sort(function(e,t){return e.height<=t.height?-1:1});if(r[r.length-1].height+t*2>this.maxHeight)throw e.ERR_DIMENSIONS;var i=0,s=0,o=0;while(r.length){var u=this._fillRow(r,i,o,n,t);u.w>s&&(s=u.w),i+=u.h;if(!u.h||!r.length){var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.width=this._getSize(s,this.maxWidth),a.height=this._getSize(i,this.maxHeight),this._data.images[o]=a,u.h||(s=i=0,o++)}}},t._setupMovieClipFrame=function(e,t){var n=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=n,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){var n=4;while(Math.pow(2,++n)<e);return Math.min(t,Math.pow(2,n))},t._fillRow=function(t,n,r,i,s){var o=this.maxWidth,u=this.maxHeight;n+=s;var a=u-n,f=s,l=0;for(var c=t.length-1;c>=0;c--){var h=t[c],p=this._scale*h.scale,d=h.sourceRect,v=h.source,m=Math.floor(p*d.x-s),g=Math.floor(p*d.y-s),y=Math.ceil(p*d.height+s*2),b=Math.ceil(p*d.width+s*2);if(b>o)throw e.ERR_DIMENSIONS;if(y>a||f+b>o)continue;h.img=r,h.rect=new createjs.Rectangle(f,n,b,y),l=l||y,t.splice(c,1),i[h.index]=[f,n,b,y,r,Math.round(-m+p*v.regX-s),Math.round(-g+p*v.regY-s)],f+=b}return{w:f,h:l}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){var e=Math.max(.01,Math.min(.99,this.timeSlice||.3))*50,t=(new Date).getTime()+e,n=!1;while(t>(new Date).getTime())if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-e)}var i=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var s=new createjs.Event("progress");s.progress=i,this.dispatchEvent(s)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,r=e.sourceRect,i=this._data.images[e.img],s=i.getContext("2d");return e.funct&&e.funct(e.source,e.data),s.save(),s.beginPath(),s.rect(n.x,n.y,n.width,n.height),s.clip(),s.translate(Math.ceil(n.x-r.x*t),Math.ceil(n.y-r.y*t)),s.scale(t,t),e.source.draw(s),s.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),typeof e=="string"&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return this.htmlElement!=null},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(!t)return;var n=t.style,r=this.getConcatenatedDisplayProps(this._props),i=r.matrix,s=r.visible?"visible":"hidden";s!=n.visibility&&(n.visibility=s);if(!r.visible)return;var o=this._oldProps,u=o&&o.matrix,a=1e4;if(!u||!u.equals(i)){var f="matrix("+(i.a*a|0)/a+","+(i.b*a|0)/a+","+(i.c*a|0)/a+","+(i.d*a|0)/a+","+(i.tx+.5|0);n.transform=n.WebkitTransform=n.OTransform=n.msTransform=f+","+(i.ty+.5|0)+")",n.MozTransform=f+"px,"+(i.ty+.5|0)+"px)",o||(o=this._oldProps=new createjs.DisplayProps(!0,NaN)),o.matrix.copy(i)}o.alpha!=r.alpha&&(n.opacity=""+(r.alpha*a|0)/a,o.alpha=r.alpha)},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,n,r,i,s,o,u){s=s||e,o==null&&(o=t),u==null&&(u=n);try{var a=e.getImageData(t,n,r,i)}catch(f){return!1}return this._applyFilter(a)?(s.putImageData(a,o,u),!0):!1},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n){if(isNaN(e)||e<0)e=0;if(isNaN(t)||t<0)t=0;if(isNaN(n)||n<1)n=1;this.blurX=e|0,this.blurY=t|0,this.quality=n|0}var t=createjs.extend(e,createjs.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=this.blurX|0,n=this.blurY|0;if(t<=0&&n<=0)return e;var r=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(t*r+1,n*r+1,t*r+1,n*r+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var n=this.blurX>>1;if(isNaN(n)||n<0)return!1;var r=this.blurY>>1;if(isNaN(r)||r<0)return!1;if(n==0&&r==0)return!1;var i=this.quality;if(isNaN(i)||i<1)i=1;i|=0,i>3&&(i=3),i<1&&(i=1);var s=t.data,o=0,u=0,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m=0,g=0,y=0,b=0,w=0,E=n+n+1|0,S=r+r+1|0,x=t.width|0,T=t.height|0,N=x-1|0,C=T-1|0,k=n+1|0,L=r+1|0,A={r:0,b:0,g:0,a:0},O=A;for(a=1;a<E;a++)O=O.n={r:0,b:0,g:0,a:0};O.n=A;var M={r:0,b:0,g:0,a:0},_=M;for(a=1;a<S;a++)_=_.n={r:0,b:0,g:0,a:0};_.n=M;var D=null,P=e.MUL_TABLE[n]|0,H=e.SHG_TABLE[n]|0,B=e.MUL_TABLE[r]|0,j=e.SHG_TABLE[r]|0;while(i-->0){h=c=0;var F=P,I=H;for(u=T;--u>-1;){p=k*(g=s[c|0]),d=k*(y=s[c+1|0]),v=k*(b=s[c+2|0]),m=k*(w=s[c+3|0]),O=A;for(a=k;--a>-1;)O.r=g,O.g=y,O.b=b,O.a=w,O=O.n;for(a=1;a<k;a++)f=c+((N<a?N:a)<<2)|0,p+=O.r=s[f],d+=O.g=s[f+1],v+=O.b=s[f+2],m+=O.a=s[f+3],O=O.n;D=A;for(o=0;o<x;o++)s[c++]=p*F>>>I,s[c++]=d*F>>>I,s[c++]=v*F>>>I,s[c++]=m*F>>>I,f=h+((f=o+n+1)<N?f:N)<<2,p-=D.r-(D.r=s[f]),d-=D.g-(D.g=s[f+1]),v-=D.b-(D.b=s[f+2]),m-=D.a-(D.a=s[f+3]),D=D.n;h+=x}F=B,I=j;for(o=0;o<x;o++){c=o<<2|0,p=L*(g=s[c])|0,d=L*(y=s[c+1|0])|0,v=L*(b=s[c+2|0])|0,m=L*(w=s[c+3|0])|0,_=M;for(a=0;a<L;a++)_.r=g,_.g=y,_.b=b,_.a=w,_=_.n;l=x;for(a=1;a<=r;a++)c=l+o<<2,p+=_.r=s[c],d+=_.g=s[c+1],v+=_.b=s[c+2],m+=_.a=s[c+3],_=_.n,a<C&&(l+=x);c=o,D=M;if(i>0)for(u=0;u<T;u++)f=c<<2,s[f+3]=w=m*F>>>I,w>0?(s[f]=p*F>>>I,s[f+1]=d*F>>>I,s[f+2]=v*F>>>I):s[f]=s[f+1]=s[f+2]=0,f=o+((f=u+L)<C?f:C)*x<<2,p-=D.r-(D.r=s[f]),d-=D.g-(D.g=s[f+1]),v-=D.b-(D.b=s[f+2]),m-=D.a-(D.a=s[f+3]),D=D.n,c+=x;else for(u=0;u<T;u++)f=c<<2,s[f+3]=w=m*F>>>I,w>0?(w=255/w,s[f]=(p*F>>>I)*w,s[f+1]=(d*F>>>I)*w,s[f+2]=(v*F>>>I)*w):s[f]=s[f+1]=s[f+2]=0,f=o+((f=u+L)<C?f:C)*x<<2,p-=D.r-(D.r=s[f]),d-=D.g-(D.g=s[f+1]),v-=D.b-(D.b=s[f+2]),m-=D.a-(D.a=s[f+3]),D=D.n,c+=x}}return!0},createjs.BlurFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=createjs.extend(e,createjs.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;var t=e.data,n=this._mapData;for(var r=0,i=t.length;r<i;r+=4)t[r+3]=n[r]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e=this._alphaMap=this.alphaMap,t=e,n;e instanceof HTMLCanvasElement?n=t.getContext("2d"):(t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t.width=e.width,t.height=e.height,n=t.getContext("2d"),n.drawImage(e,0,0));try{var r=n.getImageData(0,0,e.width,e.height)}catch(i){return!1}return this._mapData=r.data,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){function e(e){this.mask=e}var t=createjs.extend(e,createjs.Filter);t.applyFilter=function(e,t,n,r,i,s,o,u){return this.mask?(s=s||e,o==null&&(o=t),u==null&&(u=n),s.save(),e!=s?!1:(s.globalCompositeOperation="destination-in",s.drawImage(this.mask,o,u),s.restore(),!0)):!0},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r,i,s,o,u){this.redMultiplier=e!=null?e:1,this.greenMultiplier=t!=null?t:1,this.blueMultiplier=n!=null?n:1,this.alphaMultiplier=r!=null?r:1,this.redOffset=i||0,this.greenOffset=s||0,this.blueOffset=o||0,this.alphaOffset=u||0}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){var t=e.data,n=t.length;for(var r=0;r<n;r+=4)t[r]=t[r]*this.redMultiplier+this.redOffset,t[r+1]=t[r+1]*this.greenMultiplier+this.greenOffset,t[r+2]=t[r+2]*this.blueMultiplier+this.blueOffset,t[r+3]=t[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){function e(e,t,n,r){this.setColor(e,t,n,r)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,n,r){return this.reset().adjustColor(e,t,n,r)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,n,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(n)},t.adjustBrightness=function(e){return e==0||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},t.adjustContrast=function(t){if(t==0||isNaN(t))return this;t=this._cleanValue(t,100);var n;return t<0?n=127+t/100*127:(n=t%1,n==0?n=e.DELTA_INDEX[t]:n=e.DELTA_INDEX[t<<0]*(1-n)+e.DELTA_INDEX[(t<<0)+1]*n,n=n*127+127),this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this},t.adjustSaturation=function(e){if(e==0||isNaN(e))return this;e=this._cleanValue(e,100);var t=1+(e>0?3*e/100:e/100),n=.3086,r=.6094,i=.082;return this._multiplyMatrix([n*(1-t)+t,r*(1-t),i*(1-t),0,0,n*(1-t),r*(1-t)+t,i*(1-t),0,0,n*(1-t),r*(1-t),i*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(e==0||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),n=Math.sin(e),r=.213,i=.715,s=.072;return this._multiplyMatrix([r+t*(1-r)+n*-r,i+t*-i+n*-i,s+t*-s+n*(1-s),0,0,r+t*-r+n*.143,i+t*(1-i)+n*.14,s+t*-s+n*-0.283,0,0,r+t*-r+n*-(1-r),i+t*-i+n*i,s+t*(1-s)+n*s,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return t=this._fixMatrix(t),t.length!=e.LENGTH?this:(this._multiplyMatrix(t),this)},t.clone=function(){return(new e).copy(this)},t.toArray=function(){var t=[];for(var n=0,r=e.LENGTH;n<r;n++)t[n]=this[n];return t},t.copy=function(t){var n=e.LENGTH;for(var r=0;r<n;r++)this[r]=t[r];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,n,r,i=[];for(t=0;t<5;t++){for(n=0;n<5;n++)i[n]=this[n+t*5];for(n=0;n<5;n++){var s=0;for(r=0;r<5;r++)s+=e[n+r*5]*i[r];this[n+t*5]=s}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){function e(e){this.matrix=e}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){var t=e.data,n=t.length,r,i,s,o,u=this.matrix,a=u[0],f=u[1],l=u[2],c=u[3],h=u[4],p=u[5],d=u[6],v=u[7],m=u[8],g=u[9],y=u[10],b=u[11],w=u[12],E=u[13],S=u[14],x=u[15],T=u[16],N=u[17],C=u[18],k=u[19];for(var L=0;L<n;L+=4)r=t[L],i=t[L+1],s=t[L+2],o=t[L+3],t[L]=r*a+i*f+s*l+o*c+h,t[L+1]=r*p+i*d+s*v+o*m+g,t[L+2]=r*y+i*b+s*w+o*E+S,t[L+3]=r*x+i*T+s*N+o*C+k;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,n,r){return!t||!t.canvas||!e.isSupported()?!1:t.__touch?!0:(t.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t),!0)},e.disable=function(t){if(!t)return;"ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch},e._IOS_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",r,!1),n.addEventListener("touchmove",r,!1),n.addEventListener("touchend",r,!1),n.addEventListener("touchcancel",r,!1)},e._IOS_disable=function(e){var t=e.canvas;if(!t)return;var n=e.__touch.f;t.removeEventListener("touchstart",n,!1),t.removeEventListener("touchmove",n,!1),t.removeEventListener("touchend",n,!1),t.removeEventListener("touchcancel",n,!1)},e._IOS_handleEvent=function(e,t){if(!e)return;e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.changedTouches,r=t.type;for(var i=0,s=n.length;i<s;i++){var o=n[i],u=o.identifier;if(o.target!=e.canvas)continue;r=="touchstart"?this._handleStart(e,u,t,o.pageX,o.pageY):r=="touchmove"?this._handleMove(e,u,t,o.pageX,o.pageY):(r=="touchend"||r=="touchcancel")&&this._handleEnd(e,u,t)}},e._IE_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IE_handleEvent(t,n)};window.navigator.pointerEnabled===undefined?(n.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),t.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),t.__touch.preventDefault&&(n.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;window.navigator.pointerEnabled===undefined?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(!e)return;e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,r=t.pointerId,i=e.__touch.activeIDs;if(n=="MSPointerDown"||n=="pointerdown"){if(t.srcElement!=e.canvas)return;i[r]=!0,this._handleStart(e,r,t,t.pageX,t.pageY)}else if(i[r])if(n=="MSPointerMove"||n=="pointermove")this._handleMove(e,r,t,t.pageX,t.pageY);else if(n=="MSPointerUp"||n=="MSPointerCancel"||n=="pointerup"||n=="pointercancel")delete i[r],this._handleEnd(e,r,t)},e._handleStart=function(e,t,n,r,i){var s=e.__touch;if(!s.multitouch&&s.count)return;var o=s.pointers;if(o[t])return;o[t]=!0,s.count++,e._handlePointerDown(t,n,r,i)},e._handleMove=function(e,t,n,r,i){if(!e.__touch.pointers[t])return;e._handlePointerMove(t,n,r,i)},e._handleEnd=function(e,t,n){var r=e.__touch,i=r.pointers;if(!i[t])return;r.count--,e._handlePointerUp(t,n,!0),delete i[t]},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){var e=createjs.EaselJS=createjs.EaselJS||{};e.version="0.8.0",e.buildDate="Fri, 12 Dec 2014 17:32:57 GMT"}();