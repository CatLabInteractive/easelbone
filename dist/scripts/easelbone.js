define("CatLab/Easelbone/Utilities/Deferred",[],function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(n,t){if(e(n))for(var i=0;i<n.length;i++)t(n[i]);else t(n)}function t(i){var r="pending",o=[],f=[],l=[],u=null,s={done:function(){for(var n=0;n<arguments.length;n++)if(arguments[n])if(e(arguments[n]))for(var t=arguments[n],i=0;i<t.length;i++)"resolved"===r&&t[i].apply(this,u),o.push(t[i]);else"resolved"===r&&arguments[n].apply(this,u),o.push(arguments[n]);return this},fail:function(){for(var n=0;n<arguments.length;n++)if(arguments[n])if(e(arguments[n]))for(var t=arguments[n],i=0;i<t.length;i++)"rejected"===r&&t[i].apply(this,u),f.push(t[i]);else"rejected"===r&&arguments[n].apply(this,u),f.push(arguments[n]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var n=0;n<arguments.length;n++)if(arguments[n])if(e(arguments[n]))for(var t=arguments[n],i=0;i<t.length;i++)"pending"===r&&l.push(t[i]);else"pending"===r&&l.push(arguments[n]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(e){if(null==e)return s;for(var n in s)e[n]=s[n];return e},state:function(){return r},debug:function(){console.log("[debug]",o,f,r)},isRejected:function(){return"rejected"===r},isResolved:function(){return"resolved"===r},pipe:function(e,i,r){return t(function(t){n(e,function(e){"function"==typeof e?c.done(function(){var n=e.apply(this,arguments);n&&"function"==typeof n?n.promise().then(t.resolve,t.reject,t.notify):t.resolve(n)}):c.done(t.resolve)}),n(i,function(e){"function"==typeof e?c.fail(function(){var n=e.apply(this,arguments);n&&"function"==typeof n?n.promise().then(t.resolve,t.reject,t.notify):t.reject(n)}):c.fail(t.reject)})}).promise()}},c={resolveWith:function(e){if("pending"===r){r="resolved";for(var n=u=arguments.length>1?arguments[1]:[],t=0;t<o.length;t++)o[t].apply(e,n)}return this},rejectWith:function(e){if("pending"===r){r="rejected";for(var n=u=arguments.length>1?arguments[1]:[],t=0;t<f.length;t++)f[t].apply(e,n)}return this},notifyWith:function(e){if("pending"===r)for(var n=u=arguments.length>1?arguments[1]:[],t=0;t<l.length;t++)l[t].apply(e,n);return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},h=s.promise(c);return i&&i.apply(h,[h]),h}return t.when=function(){if(arguments.length<2){var e=arguments.length?arguments[0]:void 0;return e&&"function"==typeof e.isResolved&&"function"==typeof e.isRejected?e.promise():t().resolve(e).promise()}return function(e){for(var n=t(),i=e.length,r=0,o=new Array(i),f=0;f<e.length;f++)!function(f){var l=null;e[f].done?e[f].done(function(){o[f]=arguments.length<2?arguments[0]:arguments,++r==i&&n.resolve.apply(n,o)}).fail(function(){n.reject(arguments)}):e[f].then?(e[f].then(function(){o[f]=arguments.length<2?arguments[0]:arguments,++r==i&&n.resolve.apply(n,o)}),e[f].fail?e[f].fail(function(){n.reject(arguments)}):e[f].catch&&e[f].catch(function(){n.reject(arguments)})):(l=e[f],e[f]=new t,e[f].done(function(){o[f]=arguments.length<2?arguments[0]:arguments,++r==i&&n.resolve.apply(n,o)}).fail(function(){n.reject(arguments)}).resolve(l))}(f);return n.promise()}(arguments)},t});
define("CatLab/Easelbone/Utilities/Loader",["preloadjs","easeljs","CatLab/Easelbone/Utilities/Deferred"],function(e,t,i){"use strict";var s=function(e){void 0===e&&(e={}),void 0===e.queue?this.queue=new t.LoadQueue(!1):this.queue=e.queue,this.queue.on("fileload",this.handleFileLoad.bind(this)),this.compositions=[],this.tasks=[]},o=s.prototype;return o.loadComposition=function(e,t){var i=e.getLibrary().properties.manifest;this.compositions.push(e),this.loadManifest(i,t)},o.loadAssets=function(e,t){return this.loadManifest(e.properties.manifest,t)},o.loadManifest=function(e,t){this.queue.loadManifest(e,!1,t)},o.handleFileLoad=function(e){"image"===e.item.type&&this.handleImageLoad(e.item.id,e.result)},o.task=function(e){this.tasks.push(e)},o.load=function(e){void 0===e&&(e={});var t=function(){};"function"==typeof e&&(t=e,e={}),"function"==typeof e.progress&&e.progress;var s=[];for(s.push(this.loadQueue());this.tasks.length>0;){var o=this.tasks.shift()();o&&s.push(o)}var n=i.when.apply(i,s);return n.then(function(){this.fixSpriteSheets(),t()}.bind(this)),n},o.loadQueue=function(){var e=new i;return this.queue.on("complete",function(){e.resolve()},this),this.queue.load(),e.promise()},o.handleImageLoad=function(e,t){this.compositions.forEach(function(i){i.getImages()[e]=t}.bind(this))},o.fixSpriteSheets=function(){this.compositions.forEach(function(e){var i=e.getLibrary();if(void 0!==i.ssMetadata)for(var s=e.getSpriteSheet(),o=i.ssMetadata,n=0;n<o.length;n++){var a=this.queue.getResult(o[n].name);a&&(s[o[n].name]=new t.SpriteSheet({images:[a],frames:o[n].frames}))}}.bind(this))},s});
define("CatLab/Easelbone/Utilities/GlobalProperties",["backbone"],function(t){return new(t.Model.extend({initialize:function(){this.set({width:800,height:600,font:"sans-serif",textColor:"white"})},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},getDefaultFont:function(){return this.get("font")},getDefaultTextColor:function(){return this.get("textColor")},ifUndefined:function(t,e){return null!=t?t:e}}))});
define("CatLab/Easelbone/Utilities/CustomAttributes",[],function(){"use strict";return["textAlign","textColor","textFont"]});
define("CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder",["easeljs","CatLab/Easelbone/Utilities/CustomAttributes"],function(i,e){var t=function(i){void 0!==i&&(this.initialize(),this.initializePlaceholder(i))};return(t.prototype=new i.Container).initializePlaceholder=function(t){if(t.easelPlaceholderInitialized)console.error("Element is already initialized as placeholder.",t);else{t.easelPlaceholderInitialized=!0;var n,a,s,d=this,l="0:0",h="0:0";if(e.forEach(function(i){Object.defineProperty(this,i,{get:function(){if(void 0!==t[i])return t[i]},set:function(e){console.log("setting",i,e)}})}.bind(this)),d.filters=t.filters,t.filters=[],t.uncache(),t.original_draw=t.draw,t.original_tick=t._tick,t.draw=function(i,e){return this.updateBounds(),this.updateZIndex(),t.original_draw.apply(t,arguments)},this.getBoundsHash=function(){return this.getBounds()?l=this.getBounds().width+":"+this.getBounds().height:null},this.hasBoundsChanged=function(){if(this.getBoundsHash()!==h)return h=l,!0},t._tick=function(){return this.updateZIndex(),t.original_tick.apply(t,arguments)},t.updateZIndex=function(){t.children&&(a=t.parent.getChildIndex(d),(s=t.parent.getChildIndex(t))+1!==a&&t.parent.addChildAt(d,s+1))},t.updateBounds=function(){d.setBounds(0,0,Math.ceil(100*this.scaleX),Math.ceil(100*this.scaleY)),d.x=this.x-this.regX*this.scaleX,d.y=this.y-this.regY*this.scaleY,d.rotation=this.rotation,d.hasBoundsChanged()&&(this.mask?d.mask=this.mask:this.originalMask&&(d.mask=this.originalMask),this.mask=!1,n=new i.Event("bounds:change"),d.dispatchEvent(n))},t.children)for(var r=0;r<t.children.length;r++)t.children[r].visible=!1;if(t.shape&&(t.shape=new i.Shape),t.timeline&&(t.timeline=new i.Timeline(null,[],{paused:!0,position:0,useTicks:!0})),t.parent){var o=t.parent.getChildIndex(t);t.parent.addChildAt(d,o+1),d.dispatchEvent("initialized")}else t.addEventListener("added",function(){var i=t.parent.getChildIndex(t);t.parent.addChildAt(d,i+1),d.dispatchEvent("initialized")})}},t});
define("CatLab/Easelbone/Utilities/MovieClipHelper",["easeljs","CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder","CatLab/Easelbone/Utilities/Deferred"],function(e,i,n){"use strict";var t=function(){},r=t.prototype;return r.findPlaceholders=function(e,n){var t=[];return this.findFromNames(e,n).forEach(function(e){t.push(new i(e))}),t},r.findFromNames=function(e,i,n){Array.isArray(i)||(i=[i]),Array.isArray(e)||(e=[e]);for(var t,r,a,s=[],o=0;o<e.length;o++)if(t=e[o],r=t.split("."),a=r.shift(),i.forEach(function(e){s=s.concat(this.findFromNameInContainer(e,a,n)),r.length>0&&(s=this.findFromNames(r.join("."),s))}.bind(this)),s.length>0)return s;return s},r.findFromNameInContainer=function(i,n,t,r){return void 0===r&&(r=[]),void 0===t&&(t={}),i[n]instanceof e.DisplayObject&&r.push(i[n]),(0===r.length||t.all)&&this.forEachNamedChild(i,function(e){this.findFromNameInContainer(e,n,t,r)}.bind(this)),r},r.forEachNamedChild=function(i,n){for(var t in i)if(i.hasOwnProperty(t)){switch(t){case"parent":case"mask":continue}if(i[t]instanceof e.DisplayObject&&!1===n(i[t],t,i))return}},r.forAllNamedChildren=function(e,i){this.forEachNamedChild(e,function(n,t){i(n,t,e),this.forAllNamedChildren(n,i)}.bind(this))},r.applySpriteFilters=function(i,n){this.forAllNamedChildren(n,function(n,t,r){if(n instanceof e.Sprite){var a=n.getBounds();n.filters=i,n.cache(0,0,a.width,a.height)}}.bind(this))},r.hasLabeledFrame=function(e,i){if(i.timeline)for(var n=i.timeline.getLabels(),t=0;t<n.length;t++)if(n[t].label===e)return!0;var r=!1;return this.forEachNamedChild(i,function(i){if(this.hasLabeledFrame(e,i))return r=!0,!1}.bind(this)),r},r.pause=function(e){e.timeline&&(e.timeline._was_paused=e.timeline.paused,e.timeline.paused=!0),this.forEachNamedChild(e,function(e){this.pause(e)}.bind(this))},r.resume=function(e){e.timeline&&(e.timeline.paused=e.timeline._was_paused,delete e.timeline._was_paused),this.forEachNamedChild(e,function(e){this.resume(e)}.bind(this))},r.countLabeledFrames=function(e,i){var n=0;if(i.timeline)for(var t=i.timeline.getLabels(),r=0;r<t.length;r++)t[r].label===e&&n++;return this.forEachNamedChild(i,function(i){n+=this.countLabeledFrames(e,i)}.bind(this)),n},r.jumpToFrame=function(e,i){var t=[];return this._timelineHasLabel(i.timeline,e)&&t.push(this._jumpToFrameUntilFinished(e,i)),this.forEachNamedChild(i,function(i){t.push(this.jumpToFrame(e,i))}.bind(this)),n.when.apply(this,t)},r._jumpToFrameUntilFinished=function(e,i){var t=new n;return i.parent?(i.gotoAndPlay(e),i.timeline.on("complete",function(){t.resolve()})):t.resolve(),t.promise()},r._timelineHasLabel=function(e,i){if(!e)return!1;for(var n=e.getLabels(),t=0;t<n.length;t++)if(n[t].label===i)return!0;return!1},r.attach=function(e){var i=this,n=e.MovieClip.prototype;n.forEachNamedChild=function(e){return i.forEachNamedChild(this,e)},n.findNamedChildren=function(e){return i.findFromNames(e,this)},n.findPlaceholders=function(e){return i.findPlaceholders(e,this)},n.applySpriteFilters=function(e){return i.applySpriteFilters(e,this)},n.hasLabeledFrame=function(e){return i.hasLabeledFrame(e,this)},n.jumpToFrame=function(e){return i.jumpToFrame(e,this)}},new t});
define("CatLab/Easelbone/Views/Base",["backbone","easeljs","CatLab/Easelbone/Utilities/GlobalProperties","CatLab/Easelbone/Utilities/MovieClipHelper"],function(e,t,i,n){"use strict";return e.View.extend({el:"div",easelScreen:null,setRootView:function(e){this.set("root",e)},getWidth:function(){return this.getStage().canvas.width},getHeight:function(){return this.getStage().canvas.height},getStage:function(){return void 0!==this.el.stage?this.el.stage:void 0!==this.el.getStage?this.el.getStage():void 0},setScreen:function(e){return this.easelScreen=e,this},getScreen:function(){return this.easelScreen},hasLabeledFrame:function(e,t){if(void 0===t&&(t=this.easelScreen),!t)throw new Error("hasLabeledFrame requires a screen to be set or a container to be provided.");return n.hasLabeledFrame(e,t)},jumpToFrame:function(e,t){if(void 0===t&&(t=this.easelScreen),!t)throw new Error("hasLabeledFrame requires a screen to be set or a container to be provided.");return n.jumpToFrame(e,t)},pause:function(e){if(void 0===e&&(e=this.easelScreen),!e)throw new Error("pause requires a screen to be set or a container to be provided.");return n.pause(this.easelScreen)},resume:function(e){if(void 0===e&&(e=this.easelScreen),!e)throw new Error("resume requires a screen to be set or a container to be provided.");return n.resume(this.easelScreen)},scale:function(e){var t=this.getScale();e.scaleX=t.x,e.scaleY=t.y},getScale:function(e,t,n){null==e&&(e=i.getWidth()),null==t&&(t=i.getHeight()),void 0===n&&(n=!1);var r=this.getWidth()/e,a=this.getHeight()/t,s=n?Math.max(r,a):Math.min(r,a);return{x:s,y:s}},addCenter:function(e,n,r,a,s){null==n&&(n=i.getWidth()),null==r&&(r=i.getHeight()),null==s&&(s=1);var h=this.getScale(n,r,a);h.x=h.x*s,h.y=h.y*s,e.x=(this.getWidth()-n*h.x)/2,e.y=(this.getHeight()-r*h.y)/2,e.scaleX=h.x,e.scaleY=h.y,this.el.addChild(e);var o=new t.Graphics;e.x>=1&&(o.beginFill(this.getBackground()).drawRect(0,0,Math.ceil(e.x),this.getHeight()),o.beginFill(this.getBackground()).drawRect(this.getWidth()-Math.ceil(e.x),0,Math.ceil(e.x),this.getHeight())),e.y>=1&&(o.beginFill(this.getBackground()).drawRect(0,0,this.getWidth(),Math.ceil(e.y)),o.beginFill(this.getBackground()).drawRect(0,this.getHeight()-Math.ceil(e.y),this.getWidth(),Math.ceil(e.y)));var l=new t.Shape(o);this.el.addChild(l)},clear:function(){this.el.removeAllChildren();var e=new t.Graphics;e.beginFill(this.getBackground()).drawRect(0,0,this.getWidth(),this.getHeight());var i=new t.Shape(e);this.el.addChild(i)},getBackground:function(){return"#000000"},render:function(){if(this.easelScreen)return this.addCenter(this.easelScreen),this;var e=new t.Container;e.setBounds(0,0,this.getWidth(),this.getHeight());var i=new t.BigText("easelbone view: no screen set and render function was not overridden...","Arial","#000000");e.addChild(i),this.el.addChild(e)},findPlaceholders:function(e,t){return void 0===t&&(t=[],this.easelScreen&&t.push(this.easelScreen)),n.findPlaceholders(e,t)},findTextPlaceholders:function(e,t){return this.findPlaceholdersPreferPostfix(e,t,"text")},findPlaceholdersPreferPostfix:function(e,t,i){var n=[];return Array.isArray(e)?e.forEach(function(e){n.push(e+".text"),n.push(e)}):(n.push(e+".text"),n.push(e)),this.findPlaceholders(n,t)},findFromNames:function(e,t){return void 0===t&&(t=[],this.easelScreen&&t.push(this.easelScreen)),n.findFromNames(e,t)},findFromNameInContainer:function(e,t,i){return n.findFromNameInContainer(e,t,i)},forEachNamedChild:function(e,t){return n.forEachNamedChild(e,t)},tick:function(){return!0},afterRender:function(){},onRemove:function(){}})});
define("CatLab/Easelbone/Views/LoadingView",["CatLab/Easelbone/Views/Base"],function(t){"use strict";var e=new Image;e.crossOrigin="anonymous",e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH3wMRCycoY5y7DgAAAeBJREFUSMel1j9sTlEYBvD3fv2DIqmmmmjTBSXVkYSBhAixWNRmMYvBgMZQSUeLQWIw2hqLWIRBYpCIQYcyYDBJNAQpBk21P8u5cdzcfv1835Pc3JznOed9zn3f95zciCbAAbzEIk5VtI04jxmMRzvAKD76i1VszvSZTFvESDsmk1jxLyYz/UtFu7pWrEYTn9EafUcyGIiIgYo23o5Jdw23kt79NVrR1AQNbEEe+F0WtMSLiIiiKN5HxGqdluL1oB89JdGFabzGLWxKfB9ms5zfqdTsYqbNoT+LN5tqdq+cfLrSQUcrOxrGCLoqJg1sxxg2ZPyZSsNcCTyvdMlUdABMpc2W+NyIiP2VecMtBjuMEzVSX2U82B0RSxHRk5H5gTsbEbcjYig1wpuI2BoRx7I5cxFxqCiK5URtq3SawINKui6nxfvwU2u4npneqGjzkQr3LRFPMZil40eLJnfLxsAQHuErHpfx1sr5Xnxq0WS6Wf2anfhzKb/r4XeqVcvt14sL//EFJZ6Uh3g9gzF80D7u4yQm1rzU8DYi9kRnWE333WBRFN/rarIQnaMREb/SU5uu3VjWOS6haFaX41iqWbjQosE8eltpgAk8TKf9FXYl/kgawzMcTPxOXMPN/B8gxx+XbHMxap3gAwAAAABJRU5ErkJggg==";var i=0,s={x:{start:0,end:100},y:{start:0,end:100}},a={x:s.x.end/2,y:s.y.end/2},n=[],h=!1;return t.extend({initialize:function(t){this.gameVersion=null,void 0!==t.gameVersion&&(this.gameVersion=t.gameVersion),this.dRotation=0,this.speed=10,this.angle=Math.random()*Math.PI*2,this.targetAngle=null,this.flippedX=!1,this.flippedY=!1,this.rotationSpeedRad=.2,this.screenMargin=50},render:function(){s={x:{start:0,end:this.el.stage.canvas.width},y:{start:0,end:this.el.stage.canvas.height}},this.loadingText=new createjs.Text("Loading","15px monospace","#ffffff"),this.loadingText.textAlign="center",this.loadingText.lineHeight=20,this.el.addChild(this.loadingText),this.versionText=new createjs.Text("v"+this.gameVersion,"12px monospace","#ffffff"),this.el.addChild(this.versionText),this.versionText.cache(-100,0,100,200),this.loadingText.cache(-100,-100,200,200),this.el.setBounds(0,0,this.el.stage.canvas.width,this.el.stage.canvas.height),this.updatePositions(),a={x:Math.random()*(s.x.end-2*this.screenMargin)+this.screenMargin,y:Math.random()*(s.y.end-2*this.screenMargin)+this.screenMargin}},tick:function(){this.updatePositions();let t=this.angle;null!==this.targetAngle&&(t=this.targetAngle),a.x<s.x.start+this.screenMargin&&Math.cos(t)<0?this.targetAngle=Math.PI-t:a.x>s.x.end-this.screenMargin&&Math.cos(t)>0&&(this.targetAngle=Math.PI-t),a.y<s.y.start+this.screenMargin&&Math.sin(t)<0?this.targetAngle=2*Math.PI-t:a.y>s.y.end-this.screenMargin&&Math.sin(t)>0&&(this.targetAngle=2*Math.PI-t),null!==this.targetAngle&&(this.targetAngle-this.angle>this.rotationSpeedRad?this.angle+=this.rotationSpeedRad:this.targetAngle-this.angle<0-this.rotationSpeedRad?this.angle-=this.rotationSpeedRad:this.targetAngle=null);var e=Math.cos(this.angle)*this.speed,h=Math.sin(this.angle)*this.speed;a.x+=e,a.y+=h,++i%6==0&&this.addPaw();for(var g=0;g<n.length;g++)n[g].alpha-=.025;var r=[];for(g=0;g<n.length;g++)n[g].alpha>0&&r.push(n[g]);return n=r,!0},updatePositions:function(){this.loadingText.x=this.el.getBounds().width/2,this.loadingText.y=this.el.getBounds().height/2,this.versionText.x=this.el.getBounds().width-60,this.versionText.y=this.el.getBounds().height-20},stop:function(){},start:function(){},addPaw:function(){var t=10;(h=!h)&&(t*=-1);var i=new createjs.Bitmap(e),s=this.angle;i.regX=10,i.regY=10,i.x=a.x+Math.cos(s+Math.PI/2)*t,i.y=a.y+Math.sin(s+Math.PI/2)*t,i.scaleX=20/e.width,i.scaleY=20/e.height,i.rotation=(s+Math.PI/2)*(180/Math.PI),this.el.addChild(i),n.push(i)},setProgress:function(t){t=Math.floor(100*t),this.loadingText.text="Loading\n"+t+"%",this.loadingText.cache(-100,-100,200,200)}})});
define("CatLab/Easelbone/Views/Layer",["easeljs","underscore","backbone","CatLab/Easelbone/Utilities/Deferred"],function(e,i,t,r){var n=function(r){i.extend(this,t.Events),void 0===r&&(r={}),void 0!==r.container?this.container=r.container:this.container=new e.Container,this.view=null};return n.prototype.setView=function(i){var t=this.view;this.view=i;var r=new e.Container;this.view.setElement(r),this.container.addChild(r),this.view.on("all",function(e){this.trigger("view:"+e)}.bind(this)),this.view.trigger("stage:added"),t&&this.container.children.length>0&&this.container.setChildIndex(t.el,this.container.children.length-1),this._waitForViewDestroy(t).then(function(){null!==t&&(t.trigger("stage:removed"),this.container.removeChild(t.el))}.bind(this))},n.prototype._waitForViewDestroy=function(e){var i=new r;return e&&void 0!==e.hasLabeledFrame&&void 0!==e.easelScreen&&e.easelScreen&&e.hasLabeledFrame("view:destroy")?(e.jumpToFrame("view:destroy").then(function(){i.resolve()}),i.promise()):(i.resolve(),i.promise())},n.prototype.render=function(){this.view&&(this.view.el.removeAllChildren(),this.view.trigger("render:before"),this.view.render(),this.view.trigger("render"),this.view.trigger("render:after"))},n.prototype.tick=function(e){return!!this.view&&this.view.tick(e)},n});
define("CatLab/Easelbone/Views/Root",["backbone","easeljs","CatLab/Easelbone/Views/Layer"],function(t,i,e){var n;return t.View.extend({stage:null,container:null,hudcontainer:null,view:null,hud:null,maxCanvasSize:null,width:null,height:null,initialize:function(t){if(void 0!==t.canvas)this.canvas=t.canvas,this.container=this.canvas.parentNode;else{if(void 0===t.container)throw new Error("Container must be defined for root view.");this.canvas=document.createElement("canvas"),this.container=t.container,this.container.appendChild(this.canvas)}void 0!==t.width&&void 0!==t.height&&(this.width=t.width,this.height=t.height),this.stage=this.createStage(t),this.layers=[],this.layerMap={},this.dirty=!1,this.mainLayer=this.nextLayer("main"),i.Ticker.addEventListener("tick",function(t){i.Ticker.paused||this.tick(t)}.bind(this)),this.resize()},createStage:function(t){return void 0!==t.webgl&&t.webgl?new i.StageGL(this.canvas):new i.Stage(this.canvas)},setMaxCanvasSize:function(t,i){this.maxCanvasSize=[t,i]},nextLayer:function(t){void 0===t&&(t="Layer"+this.layers.length);var i=new e;return this.stage.addChild(i.container),this.layers.push(i),this.layerMap[t]=i,i},getLayer:function(t){return this.layerMap[t]},setView:function(t){this.mainLayer.setView(t),this.render()},tick:function(t){for(this.trigger("tick:before",t),this.dirty=!1,n=0;n<this.layers.length;n++)this.layers[n].tick(t)&&(this.dirty=!0);this.dirty&&this.update(),this.trigger("tick:after")},render:function(){for(n=0;n<this.layers.length;n++)this.layers[n].render();return this.update(),this},update:function(){this.stage.update()},fullscreen:function(){},resize:function(){this.width&&this.height?(this.canvas.width=this.width,this.canvas.height=this.height):void 0!==this.container?(this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight):(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),null!==this.maxCanvasSize&&(this.canvas.width=Math.min(this.canvas.width,this.maxCanvasSize[0]),this.canvas.height=Math.min(this.canvas.height,this.maxCanvasSize[1])),this.render()},alert:function(t,i){alert(t),i()},confirm:function(t,i){i(confirm(t))}})});
define("CatLab/Easelbone/Views/Navigatable",["underscore","CatLab/Easelbone/Views/Base"],function(t,i){return i.extend({ORIENTATION:{VERTICAL:"vertical",HORIZONTAL:"horizontal"},DefaultControls:{navigation:["left","right"],toggle:["start","a"],manipulation:["down","up"],back:["b","back"]},initialize:function(t){this.initializeNavigatable(t)},initializeNavigatable:function(i){i=i||{},this._users=[],this._currentIndex=-1,this._current=null,this._options=[],this._backCallback=null,this._controls=t.extend(this.DefaultControls,{}),void 0!==i.orientation&&(i.orientation===this.ORIENTATION.VERTICAL?(this._controls.navigation=["up","down"],this._controls.manipulation=["left","right"]):(this._controls.navigation=["left","right"],this._controls.manipulation=["up","down"])),this.resetOptions()},setUsers:function(t){this._users=t;for(var i=0;i<this._users.length;i++)this.setWebremoteControls(this._users[i])},setWebremoteControls:function(t){var i=t.setView("catlab-nes");i.control(this._controls.navigation[0]).click(function(){this.previous()}.bind(this)),i.control(this._controls.navigation[1]).click(function(){this.next()}.bind(this));for(var n=0;n<this._controls.toggle.length;n++)(function(t){i.control(this._controls.toggle[t]).click(function(){this.keyInput(this._controls.toggle[t])}.bind(this))}).bind(this)(n);for(n=0;n<this._controls.back.length;n++)(function(t){i.control(this._controls.back[t]).click(function(){this.triggerBack()}.bind(this))}).bind(this)(n);i.control(this._controls.manipulation[0]).click(function(){this.keyInput("down")}.bind(this)),i.control(this._controls.manipulation[1]).click(function(){this.keyInput("up")}.bind(this))},setBack:function(t){this._backCallback=t},triggerBack:function(){null!==this._backCallback&&this._backCallback.apply()},next:function(){this.activate((this._currentIndex+1)%this._options.length)},previous:function(){var t=this._currentIndex-1;t<0&&(t=this._options.length-1),this.activate(t)},keyInput:function(t){this._current&&this._current.keyInput(t)},resetOptions:function(){this._options=[]},addControl:function(t){this._options.push(t),1===this._options.length?setTimeout(function(){this.activate(0,!1)}.bind(this),1):t.deactivate(!1)},activate:function(t,i){void 0===i&&(i=!0),-1!==this._currentIndex&&null!==this._currentIndex&&this._options[this._currentIndex].deactivate(i),this._currentIndex=t,this._options[t].activate(i),this._current=this._options[t]}})});
define("CatLab/Easelbone/Controls/Base",["underscore","backbone"],function(t,e){var i=function(i){this.checked=!1,this.active=!1,this.element=i,t.extend(this,e.Events)};return i.prototype.activate=function(t){this.active=!0,this.update(t)},i.prototype.deactivate=function(t){this.active=!1,this.update(t)},i.prototype.update=function(t){void 0===t&&(t=!0);var e;e=this.active?this.checked?"Hit":"Over":this.checked?"Down":"Up",this.gotoWithAnimate(e,t)},i.prototype.gotoWithAnimate=function(t,e){e||!this.element.timeline.resolve(t+"-NoAnim")?this.element.gotoAndPlay(t):this.element.gotoAndPlay(t+"-NoAnim")},i});
define("CatLab/Easelbone/Utilities/Path",[],function(){var t,i=function(t,i){this.start={x:t.x,y:t.y},this.end={x:i.x,y:i.y},this.distance={x:i.x-t.x,y:i.y-t.y},this.orientation=this.distance.x>this.distance.y?"horizontal":"vertical",this.indicatorSize={x:0,y:0}};return i.prototype.getPosition=function(t){return isNaN(t)&&(t=0),{x:this.start.x+(this.distance.x-this.indicatorSize.x)*t,y:this.start.y+(this.distance.y-this.indicatorSize.y)*t}},i.prototype.getValue=function(i,n){return t="horizontal"===this.orientation?(i-this.start.x)/this.distance.x:(n-this.start.y)/this.distance.y,Math.max(0,Math.min(1,t))},i.prototype.position=function(t,i){var n=this.getPosition(i);t.x=n.x,t.y=n.y},i.prototype.setIndicatorSize=function(t,i){this.indicatorSize={x:t,y:i}},i});
define("CatLab/Easelbone/Controls/Slider",["CatLab/Easelbone/Controls/Base","CatLab/Easelbone/Utilities/Path"],function(t,e){var i=function(t){var i;this.element=t,this.step=.1,this.path=new e(this.element.minimum,this.element.maximum),this.setValue(.5),this.element.pointer.on("pressmove",function(t){i=this.element.globalToLocal(t.stageX,t.stageY),this.setValue(this.path.getValue(i.x,i.y))}.bind(this)),this.element.pointer.on("click",function(t){t.stopPropagation()}),this.element.on("click",function(t){i=this.element.globalToLocal(t.stageX,t.stageY),this.setValue(this.path.getValue(i.x,i.y))}.bind(this))};return(i.prototype=Object.create(t.prototype)).constructor=i,i.prototype.link=function(t,e){return this.setValue(t.get(e)),this},i.prototype.setValue=function(t){this.value=t,this.path.position(this.element.pointer,this.value)},i.prototype.keyInput=function(t){switch(t){case"up":this.value=Math.min(1,this.value+this.step);break;case"down":this.value=Math.max(0,this.value-this.step)}this.setValue(this.value)},i});
define("CatLab/Easelbone/Controls/Checkbox",["CatLab/Easelbone/Controls/Base"],function(t){var e=function(e){t.call(this,e),this.element=e,this.element.addEventListener("click",function(){this.toggle()}.bind(this))};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.toggle=function(){this.checked=!this.checked,this.update(),this.trigger("update",this.checked)},e.prototype.check=function(){this.checked=!0,this.update(),this.trigger("update",this.checked)},e.prototype.uncheck=function(){this.checked=!1,this.update(),this.trigger("update",this.checked)},e.prototype.keyInput=function(t){switch(t){case"a":case"start":this.toggle()}},e});
define("CatLab/Easelbone/Utilities/EmojiRegex",[],function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDEF1\uD83C\uDFFF\u200D\uD83E\uDEF2)(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDEF1\uD83C\uDFFE\u200D\uD83E\uDEF2)(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDEF1\uD83C\uDFFD\u200D\uD83E\uDEF2)(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDEF1\uD83C\uDFFC\u200D\uD83E\uDEF2)(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDEF1\uD83C\uDFFB\u200D\uD83E\uDEF2)(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|[\u2695\u2696\u2708]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])))|\u200D(?:\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?|\u200D(?:\uD83D\uDC8B\u200D)?)\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\u200D[\u2695\u2696\u2708])?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764(?:\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F?\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F?\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83D\uDC41\uFE0F?\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F?\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F?\u200D\u26A7|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDEF1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764(?:\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\u200D(?:\uD83D\uDD25|\uD83E\uDE79))|\uD83D\uDC41\uFE0F?|\uD83C\uDFF3\uFE0F?|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F?\u20E3|\uD83E\uDD3C(?:\uD83C[\uDFFB-\uDFFF])|\u2764\uFE0F?|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD3C\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDDDE\uDDDF]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B50]|\uD83C[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]/g});
define("CatLab/Easelbone/EaselJS/DisplayObjects/EmojiText",["easeljs","CatLab/Easelbone/Utilities/EmojiRegex"],function(t,e){var i=String.fromCharCode(8205),n=/\uFE0F/g,r={},s={},o=null,h=t.Text;function a(t,e,i){this.Text_constructor(t,e,i)}a.setEmojis=function(t){s=t},a.setEmojiFont=function(t){o=t};var u=t.extend(a,h);return u._drawText=function(t,e,i){var n=!!t;n||((t=h._workingContext).save(),this._prepContext(t));for(var r=this.lineHeight||this.getMeasuredLineHeight(),s=0,o=0,a=this._replaceEmojis(String(this.text)).split(/(?:\r\n|\r|\n)/),u=0,l=0,d=a.length;l<d;l++){var f=a[l],c=null;if(null!=this.lineWidth&&(c=t.measureText(f).width)>this.lineWidth){var m=this._splitWords(f);f=m[0],c=t.measureText(f).width;for(var w=1,_=m.length;w<_;w+=2){var g=t.measureText(m[w]+m[w+1]).width;c+g>this.lineWidth?(n&&(this._drawLineWithEmoji(t,f,o*r,u,r),u+=f.length+1),i&&i.push(f),c>s&&(s=c),f=m[w+1],c=t.measureText(f).width,o++):(f+=m[w]+m[w+1],c+=g)}}n&&this._drawLineWithEmoji(t,f,o*r,u,r),i&&i.push(f),e&&null==c&&(c=t.measureText(f).width),c>s&&(s=c),o++}return e&&(e.width=s,e.height=o*r),n||t.restore(),e},u._drawLineWithEmoji=function(t,e,i,n,r){if(this._drawTextLine(t,e,i),0!==this._emoji.length)for(var s in this._emoji)s=parseInt(s),this._emoji.hasOwnProperty(s)&&s>=n&&s<n+e.length&&this._drawEmoji(t,this._emoji[s],t.measureText(e).width*h.H_OFFSETS[this.textAlign||"left"]+t.measureText(e.substring(0,s-n)).width,i,r)},u._setEmojiContext=function(t){this._prevAlign=t.textAlign,this._prevFont=t.font;var e=this._prevFont.split(" ")[0];t.textAlign="left",t.font=e+" "+o},u._unsetEmojiContext=function(t){t.textAlign=this._prevAlign,t.font=this._prevFont},u._drawEmoji=function(t,e,i,n,r){var s=t.measureText("  ");if(void 0!==e.src){var o=t.measureText("😀");this._getEmojiImage(e,o.width,function(e){var h=o.width,a=o.width*(e.width/e.height);t.drawImage(e,0,0,e.width,e.height,i+(s.width-o.width)/2,n-(a-r),h,a)}.bind(this))}if(void 0!==e.font&&e.raw){this._setEmojiContext(t);var h=t.measureText(e.raw);i+=(s.width-h.width)/2,this.outline?t.strokeText(e.raw,i,n,65535):t.fillText(e.raw,i,n,65535),this._unsetEmojiContext(t)}},u._splitWords=function(t){return t.split(/([ \f\n\r\t\v\u1680\u2000-\u2002\u2004-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff])/)},u._matchAll=function(t,e){"string"==typeof t&&(t=new RegExp(t,"g")),t=new RegExp(t);for(var i=[],n=[];null!==(i=t.exec(e));)n.push(i);return n},u._replaceEmojis=function(t){this._emoji=[];var i=this._matchAll(e,t),n=0;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r],o=s[0],h=o.length,a=this._replaceEmoji(o);if(a){this._emoji[s.index-n]=a;var u=a.replacement;t=t.slice(0,s.index-n)+u+t.slice(s.index+h-n),n+=h-u.length}}return t},u._replaceEmoji=function(t){var e,r=function(t,e){for(var i=[],n=0,r=0,s=0;s<t.length;)n=t.charCodeAt(s++),r?(i.push((65536+(r-55296<<10)+(n-56320)).toString(16)),r=0):55296<=n&&n<=56319?r=n:i.push(n.toString(16));return i.join("-")}((e=t).indexOf(i)<0?e.replace(n,""):e);return void 0===s[r]?null!==o&&{replacement:"  ",font:o,raw:t}:{replacement:"  ",src:s[r]}},u._getEmojiImage=function(t,e,i){if(void 0===r[t.src]){var n=new Image;r[t.src]=n,n.src=t.src,n.addEventListener("load",function(){this._requestRedraw()}.bind(this)),n.addEventListener("error",function(){delete r[t.src]})}else r[t.src].complete&&0!==r[t.src].naturalHeight?i(r[t.src]):r[t.src].addEventListener("load",function(){this._requestRedraw()}.bind(this))},u._requestRedraw=function(){this._redrawRequested=!0},t.promote(a,"Text")});
define("CatLab/Easelbone/EaselJS/DisplayObjects/BigText",["easeljs","CatLab/Easelbone/Utilities/GlobalProperties","CatLab/Easelbone/EaselJS/DisplayObjects/EmojiText"],function(t,i,e){var n,s,h,o,r,a,l=!1,c=!0,g={width:0,height:0},f={},u={},d={},x=t.Text,p=function(t,e,n,s){this.setText(t),this._font=i.ifUndefined(e,i.getDefaultFont()),this._color=i.ifUndefined(n,i.getDefaultTextColor()),this._align=void 0===s?"center":s,this.initialize(),this.initialized=!1,this.limits=null,this.debug=!1,this.fontsize=0,this.textConstructor=x};function w(t){a=t.getMetrics(),g.height=a.height,g.width=a.width}function _(i,e){var n=t.Text._workingContext;n.save();var s=i._prepContext(n).measureText(e);return n.restore(),s}p.setFontOffset=function(t,i,e){u[t]={x:i,y:e}},p.setFontLineHeightFactor=function(t,i){d[t]=i},p.getFontLineHeightFactor=function(t){return void 0!==d[t]?d[t]:1},p.setTextClass=function(t){x=t},p.autoCache=function(t){c=t};var C=p.prototype=new t.Container;return C.Container_initialize=C.initialize,C.Container_tick=C._tick,C.getFontOffset=function(t){var i=t.split(" ");return i.shift(),i=i.join(" "),void 0===u[i]?{x:0,y:0}:u[i]},C.initialize=function(){this.Container_initialize()},C.isVisible=function(){return!0},C.setText=function(t){this.textstring=t,this.textElement&&(this.textElement.text=t)},C.setColor=function(t){this._color=t,this.textElement&&(this.textElement.color=t)},C.setLimits=function(t,i){this.limits={width:t,height:i}},C.getAvailableSpace=function(){return null!==this.limits?this.limits:(this.getBounds()?(n=this.getBounds().width,s=this.getBounds().height):this.parent&&this.parent.getBounds()?(n=this.parent.getBounds().width,s=this.parent.getBounds().height):(n=0,s=0),{width:n,height:s})},C.createTextObject=function(t,i,e,n){return new this.textConstructor(""+String(t),i+"px "+e,n)},C.goBigOrGoHome=function(t,i,e){var n=5,s=Math.ceil(e/2),h=this.createTextObject(t,n,this._font,this._color);if(!h.getBounds())return h;for(var o,r,a,l=0;!(++l>500||((o=this.createTextObject(t,n,this._font,this._color)).lineWidth=i,o.lineHeight=(r=o,a=this._font,void 0===f[r.font]&&(f[r.font]=function(t){return 1.2*Math.max(_(t,"M").width,_(t,"m").width)}(r)),f[r.font]*p.getFontLineHeightFactor(a)),w(o),g.height<e&&g.width<=i?(h=o,n+=s,0):1===s||(s=Math.ceil(s/2),n-=s,0))););return this.fontsize=n,h},C.Container_draw=C.draw,C.getLocationHash=function(){return h=this.getAvailableSpace(),h=parseInt(h.width)+":"+parseInt(h.height)+":"+this.textstring+":"+this._align},C.hasChanged=function(){return this.textElement&&this.textElement._redrawRequested?(this.textElement._redrawRequested=!1,!0):(h=this.getLocationHash(),l=this.lastHash!==h,this.lastHash=h,l)},C.drawText=function(){this.initialized=!0,this.removeAllChildren(),c&&this.uncache();var i=this.getAvailableSpace();if(0!==i.width&&0!==i.height){if(this.parent&&this.adaptToParentProperties(this.parent),this.debug){var e=new t.Shape;e.graphics.beginStroke("#FFA500"),e.graphics.setStrokeStyle(1),e.snapToPixel=!0,e.graphics.drawRect(0,0,i.width,i.height),this.addChild(e)}var n=this.goBigOrGoHome(this.textstring,i.width,i.height);this.textElement=n,n.textBaseline="top",w(n),o=g.height,r=g.width,"center"===this._align?(n.textAlign="center",n.x=(i.width-r)/2+r/2):"left"===this._align?n.x=0:"right"===this._align&&(n.x=i.width-r),a=n.getMetrics();var s=this.getFontOffset(n.font);n.y=n.lineHeight*s.y+(i.height-o)/2,this.addChild(n),c&&this.cache(-15,-15,i.width+30,i.height+this.fontsize)}},C.redrawText=function(){this.drawText()},C._tick=function(t){this.Container_tick(t),this.initialized?this.hasChanged()&&this.redrawText():this.drawText()},C.adaptToParentProperties=function(t){t.textColor&&(this._color=t.textColor),t.textAlign&&(this._align=t.textAlign),t.textFont&&(this._font=t.textFont)},Object.defineProperty(C,"color",{get:function(){return this._color},set:function(t){this.setColor(t)}}),Object.defineProperty(C,"font",{get:function(){return this._font},set:function(t){this._font=t}}),Object.defineProperty(C,"align",{get:function(){return this._align},set:function(t){this._align=t}}),Object.defineProperty(C,"text",{get:function(){return this.textstring},set:function(t){this.setText(t)}}),t.BigText=p,p});
define("CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder",["CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder"],function(e){return e});
define("CatLab/Easelbone/Controls/Button",["CatLab/Easelbone/Controls/Base","CatLab/Easelbone/EaselJS/DisplayObjects/BigText","CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder"],function(t,e,n){var s=function(e){if(t.call(this,e),!this.element.text)throw"All buttons should have a text placeholder.";this.convertText(),this.element.addEventListener("click",function(){this.trigger("click")}.bind(this))};return(s.prototype=Object.create(t.prototype)).constructor=s,s.prototype.setText=function(t,n,s){var i=new e(t,n,s);this.text.addChild(i)},s.prototype.convertText=function(){if(this.element.text instanceof createjs.Text){var t=this;this.setText=function(e){t.element.text.text=e}}else this.text=new n(this.element.text)},s.prototype.keyInput=function(t){switch(t){case"a":case"start":this.trigger("click")}},s});
define("CatLab/Easelbone/Controls/Selectbox",["CatLab/Easelbone/Controls/Base","CatLab/Easelbone/EaselJS/DisplayObjects/BigText","CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder"],function(e,t,s){var l=function(s){if(e.call(this,s),this.repeat=!1,this.textcontainer=t,this.selectedIndex=0,this.selectedValue=null,this.allValues=[],!this.element.value)throw"All selectboxes should have a text placeholder.";if(!this.element.buttons)throw"All selectboxes must have a buttons object";this.element.buttons.on("click",function(e){this.element.buttons.globalToLocal(e.stageX,e.stageY).y>40?this.previous():this.next()}.bind(this)),this.convertText()};return(l.prototype=Object.create(e.prototype)).constructor=l,l.prototype.setText=function(e,t,s){var l=new this.textcontainer(e,t,s);this.textElement.removeAllChildren(),this.textElement.addChild(l)},l.prototype.convertText=function(){this.textElement=new s(this.element.value)},l.prototype.setValues=function(e){var t=[];if(e instanceof Array){for(var s=0;s<e.length;s++)t.push({text:e[s],value:e[s]});e=t}else for(var l in e)if(e.hasOwnProperty(l)){var n=e[l];n instanceof Object?t.push(n):t.push({text:n,value:l})}this.allValues=t,this.select(0)},l.prototype.getValue=function(){return this.value},l.prototype.select=function(e){e<0||e>this.values.length-1||(this.selectedIndex=e,this.selectedValue=this.values[this.selectedIndex],this.setText(this.selectedValue.text))},l.prototype.getIndexFromText=function(e){for(var t=0;t<this.allValues.length;t++)if(this.allValues[t].text==e)return t;return null},l.prototype.getIndexFromValue=function(e){for(var t=0;t<this.allValues.length;t++)if(this.allValues[t].value==e)return t;return null},l.prototype.next=function(){this.selectedIndex<this.allValues.length-1?this.select(this.selectedIndex+1):this.repeat&&this.select(0)},l.prototype.previous=function(){this.selectedIndex>0?this.select(this.selectedIndex-1):this.repeat&&this.select(this.allValues.length-1)},l.prototype.keyInput=function(e){switch(e){case"up":this.next();break;case"down":this.previous()}},Object.defineProperty(l.prototype,"text",{get:function(){return this.selectedValue.text},set:function(e){var t=this.getIndexFromText(e);null!==t&&(this.index=t)}}),Object.defineProperty(l.prototype,"value",{get:function(){return this.selectedValue.value},set:function(e){var t=this.getIndexFromValue(e);null!==t&&(this.index=t)}}),Object.defineProperty(l.prototype,"index",{get:function(){return this.selectedIndex},set:function(e){this.select(e)}}),Object.defineProperty(l.prototype,"values",{get:function(){return this.allValues},set:function(e){this.setValues(e)}}),l});
define("CatLab/Easelbone/Controls/ScrollBar",["underscore","CatLab/Easelbone/Utilities/Path"],function(t,e){var n,i=function(t){var i=this;this.element=t,this.element.up.on("click",this.up,this),this.element.down.on("click",this.down,this),this.path=new e(this.element.minimum,this.element.maximum),this.containers=[],this.element.on("pressmove",function(t){n=i.element.globalToLocal(t.stageX,t.stageY),i.scrollTo(i.path.getValue(n.x,n.y))})},o=i.prototype;return o.link=function(t){this.containers.push(t),t.on("scroll",this.onScroll,this)},o.up=function(){t.each(this.containers,function(t){t.up()})},o.down=function(){t.each(this.containers,function(t){t.down()})},o.getIndicatorSize=function(){return n=this.element.indicator.bottom&&this.element.indicator.top?{x:(this.element.indicator.bottom.x-this.element.indicator.top.x)*this.element.indicator.scaleX,y:(this.element.indicator.bottom.y-this.element.indicator.top.y)*this.element.indicator.scaleY}:{x:0,y:0}},o.scrollTo=function(e){t.each(this.containers,function(t){t.scrollTo(e)})},o.onScroll=function(t){Math.min(1,t.containerHeight/t.contentHeight),n=this.getIndicatorSize(),this.path.setIndicatorSize(n.x,n.y),this.path.position(this.element.indicator,t.percentage)},i});
define("CatLab/Easelbone/EaselJS/DisplayObjects/ScrollArea",["easeljs","CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder","CatLab/Easelbone/Utilities/Deferred"],function(t,e,i){var s,n=function(i){this.initialize();var s=new e(i);s.on("bounds:change",function(){var e=s.getBounds(),i=new t.Shape;i.graphics.drawRect(0,0,e.width,e.height),void 0!==this.setMask?this.setMask(i):this.mask=i}.bind(this)),s.addChild(this),this.on("tick",function(){this.setScroll(0)},this,!0),Object.defineProperty(this,"scroll",{set:function(t){this.setScroll(t)},get:function(){return this.getScroll()}})},h=n.prototype=new e;return h.isActive=function(){return null!==this.getBounds()&&null!==this.parent&&null!==this.parent.getBounds()},h.getFinalDestination=function(t){return this.isActive()?t<0?0:this.getBounds().height-this.parent.getBounds().height<0?0:t>this.getBounds().height-this.parent.getBounds().height?0-(this.getBounds().height-this.parent.getBounds().height):0-t:0},h.setScroll=function(t){return this.oldY=this.y,this.y=this.getFinalDestination(t),this.oldY!==this.y&&this.onScroll(),this},h.getDistance=function(t){return Math.abs(this.y-this.getFinalDestination(t))},h.getScroll=function(){return 0-this.y},h.down=function(t){return this.setScroll(this.getScroll()+t)},h.up=function(t){return this.setScroll(this.getScroll()-t)},h.getPercentage=function(){return this.getBounds()?this.getScroll()/(this.getBounds().height-this.parent.getBounds().height):0},h.focus=function(e,s,n){var h=new i;if(!this.parent.getBounds())return h.resolve(),h.promise();void 0===s&&(s=0);var o=e.y,r=0;return e.getBounds()&&(r=e.getBounds().height),r<this.parent.getBounds().height&&(o-=this.parent.getBounds().height/2-r/2),s>0?t.Tween.get(this).to({scroll:o},s,n).call(function(){h.resolve()}.bind(this)):(this.scroll=o,h.resolve()),h.promise()},h.scrollTo=function(t){this.getBounds()?this.setScroll(t*(this.getBounds().height-this.parent.getBounds().height)):this.setScroll(0)},h.onScroll=function(){s=new t.Event("scroll"),this.dispatchEvent(s)},n});
define("CatLab/Easelbone/Utilities/Mousewheel",[],function(){var t=function(){var t=this;document.body.addEventListener("mousewheel",function(e){t.scroll(e)})},e=t.prototype;return e.scroll=function(t){this.callback&&this.callback({x:0,y:t.wheelDelta})},e.listen=function(t){this.stop(),this.callback=t},e.stop=function(){this.callback=null},new t});
define("CatLab/Easelbone/Controls/ScrollArea",["underscore","backbone","CatLab/Easelbone/Controls/ScrollBar","CatLab/Easelbone/EaselJS/DisplayObjects/ScrollArea","CatLab/Easelbone/Utilities/Mousewheel"],function(t,e,n,o,s){var l=function(s){t.extend(this,e.Events),this.element=s,this.scrollbar=new n(s.scrollbar),this.scrollbar.link(this),this.content=new o(s.content),this.content.on("scroll",this.onScroll,this),this.element.on("mouseover",this.enableScrollMouse,this),this.element.on("mouseout",this.disableScrollMouse,this),this.element.on("removed",this.disableScrollMouse,this),this.element.on("added",this.onAdd,this)},i=l.prototype;return i.enableScrollMouse=function(){var t=this;s.listen(function(e){t.scroll(e.y>0?50:-50)})},i.onAdd=function(){this.scrollTo(0)},i.disableScrollMouse=function(){s.stop()},i.onScroll=function(t){var e={percentage:this.content.getPercentage(),contentHeight:this.content.getBounds().height,containerHeight:this.content.parent.getBounds().height};this.trigger("scroll",e)},i.scrollTo=function(t){this.content.scrollTo(t)},i.scroll=function(t){this.content.up(t)},i.up=function(){this.content.up(25)},i.down=function(){this.content.down(25)},i.focus=function(t,e,n){return this.content.focus(t,e,n)},l});
define("CatLab/Easelbone/Controls/ListElement",[],function(){var t=function(t){this.element=t},e=t.prototype;return e.focus=function(){this.dispatchEvent("focus")},e.getDimensions=function(){return{width:this.element.boundary.x,height:this.element.boundary.y}},t});
define("CatLab/Easelbone/Controls/List",["easeljs","CatLab/Easelbone/Controls/ListElement"],function(t,e){var n=function(t){this.initialize(),this.listItems=[],void 0!==t&&this.setChildElement(t)},i=n.prototype=new t.Container;return i.setChildElement=function(t){this.childElement=t;var e=new t;this.boundary={x:e.boundary.x,y:e.boundary.y}},i.getChildElement=function(){if(void 0===this.childElement)throw"No child element set.";return this.childElement},i.updateBounds=function(){this.setBounds(0,0,this.boundary.x,this.boundary.y*this.listItems.length)},i.createElement=function(){var t=new e(new(this.getChildElement()));return this.listItems.push(t),this.addChild(t.element),t.element.y=this.boundary.y*(this.listItems.length-1),this.updateBounds(),t},n});
define("CatLab/Easelbone/Controls/FloatContainer",["easeljs","CatLab/Easelbone/Controls/ListElement"],function(t,e){var i=function(t,e){this.initialize(),this.listItems=[],void 0!==t&&this.setChildElement(t),this.rows=0,this.columns=e,this.currentColumn=0,this.curX=0,this.curY=0,this.rowHeight=0},n=i.prototype=new t.Container;return n.setChildElement=function(t){this.childElement=t;var e=this.getChildElement(null,this.listItems.length);this.boundary={x:e.boundary.x,y:e.boundary.y},this.rowHeight=this.boundary.y},n.getChildElement=function(e,i){if(void 0===this.childElement)throw"No child element set.";return this.childElement.prototype instanceof t.DisplayObject?new this.childElement:this.childElement(e)},n.updateBounds=function(){this.setBounds(0,0,this.boundary.x*this.columns,this.curY+this.rowHeight)},n.nextRow=function(){this.currentColumn=1,this.rows++,this.curY+=this.rowHeight,this.rowHeight=0},n.getNextPosition=function(){var t={};return this.currentColumn++,this.currentColumn>this.columns&&this.nextRow(),t.x=this.boundary.x*(this.currentColumn-1),t.y=this.curY,t},n.createElement=function(t){var i=new e(this.getChildElement(t,this.listItems.length));this.listItems.push(i),this.addChild(i.element);var n=this.getNextPosition();return this.rowHeight=Math.max(this.rowHeight,i.getDimensions().height),i.element.x=n.x,i.element.y=n.y,this.updateBounds(),i},n.removeAllChildren_container=n.removeAllChildren,n.removeAllChildren=function(){this.currentColumn=0,this.rows=0,this.curY=0,this.listItems=[],this.removeAllChildren_container.apply(this,arguments)},i});
define("CatLab/Easelbone/Controls/GridFill",["easeljs"],function(i){var t=function(i){this.initialize(),this.placeholder=i,this.grid=[],this.floaters=[],this.rows=0,this.columns=0,this.paddingX=0,this.paddingY=0,this.forceRatio=null,this.cellSize=null,this.cellEvents={},this.placeholder.on("bounds:change",function(){this.redrawGrid()}.bind(this)),this.placeholder.on("tick",function(){this.update()}.bind(this))},e=t.prototype=new i.Container;return e.set=function(i,t,e){return void 0===this.grid[t]&&(this.grid[t]=[]),this.grid[t][i]=e,this.resetSize(),this},e.float=function(i,t,e,n,s){void 0===n&&(n=0),void 0===s&&(s=0),e.gx=i,e.gy=t;var h={ox:n,oy:s,e:e};return this.floaters.push(h),h},e.removeFloat=function(i){let t=this.floaters.findIndex(function(t){return t.e===i});t>-1&&this.floaters.splice(t,1)},e.clearFloats=function(i,t){for(var e=0;e<this.floaters.length;e++){var n=this.floaters[e];n.e.gx===i&&n.e.gy===t&&(this.floaters.splice(e,1),e--)}},e.forceCellRatio=function(i){return this.forceRatio=i,this},e.resetSize=function(){this.rows=this.grid.length,this.columns=0,this.grid.forEach(function(i){this.columns<i.length&&(this.columns=i.length)}.bind(this)),this.redrawGrid()},e.clear=function(i,t){void 0===this.grid[i]&&(this.grid[i]=[]),delete this.grid[i][t],0===this.grid[i].length&&delete this.grid[i],this.resetSize()},e.get=function(i,t){return void 0===this.grid[i]?null:void 0===this.grid[i][t]?null:this.grid[i][t]},e.setPadding=function(i,t){this.paddingX=i,this.paddingY=t},e.getCellSize=function(){return null===this.cellSize&&this.recalculateCellSize(),this.cellSize},e.recalculateCellSize=function(){var i=this.placeholder.getBounds();if(i){var t,e,n=0,s=0;if(t=i.width/this.columns,e=i.height/this.rows,null!==this.forceRatio){var h=t/e;h>this.forceRatio?(t=e*this.forceRatio,n=(i.width-t*this.columns)/2):h<this.forceRatio&&(e=t*this.forceRatio,s=(i.height-e*this.rows)/2)}var r=t*this.paddingX,l=e*this.paddingY,o=t-2*r,a=e-2*l;this.cellSize={width:t,height:e,marginX:n,marginY:s,innerWidth:o,innerHeight:a,paddingX:r,paddingY:l}}},e.getCellPosition=function(i,t){var e=this.getCellSize();return e?{x:e.marginX+i*e.width+e.paddingX,y:e.marginY+t*e.height+e.paddingY,innerWidth:e.innerWidth,innerHeight:e.innerHeight}:null},e.addCellEventListener=function(i,t,e,n){void 0===this.cellEvents[i+"-"+t]&&(this.cellEvents[i+"-"+t]=[]),this.cellEvents[i+"-"+t].push({event:e,callback:n})},e.redrawGrid=function(){this.placeholder.removeAllChildren();var t=this.placeholder.getBounds();if(0!==this.rows&&0!==this.columns&&t){this.recalculateCellSize(),this.getCellSize();for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++){var s=this.get(e,n);if(s){var h=new i.Container;this.placeholder.addChild(h);var r=this.getCellPosition(n,e);if(h.y=r.y,h.x=r.x,h.setBounds(0,0,r.innerWidth,r.innerHeight),void 0!==this.cellEvents[n+"-"+e]){this.cellEvents[n+"-"+e].forEach(function(i){h.addEventListener(i.event,i.callback)});var l=new i.Shape;l.graphics.beginFill("#000").drawRect(0,0,r.innerWidth,r.innerHeight),h.hitArea=l}h.addChild(s)}}this.floaters.forEach(function(t){var e=new i.Container;this.placeholder.addChild(e);var n=this.getCellPosition(t.e.gx+t.ox,t.e.gy+t.oy);e.y=n.y,e.x=n.x,e.setBounds(0,0,n.innerWidth,n.innerHeight),e.addChild(t.e)}.bind(this))}},e.update=function(){this.floaters.forEach(function(i){if(i.e&&i.e.parent){var t=this.getCellPosition(i.e.gx+i.ox,i.e.gy+i.oy);t&&(i.e.parent.x=t.x,i.e.parent.y=t.y)}}.bind(this))},t});
define("CatLab/Easelbone/EaselJS/DisplayObjects/Background",["easeljs"],function(i){var t,e,s,h,n=!1,a={},l=function(t,e){if(void 0===e&&(e={zoom:"stretch"}),this.fillOptions=e,this.limits=null,this.initialized=!1,this.debug=!1,this.childBounds=null,t instanceof Image||t instanceof HTMLImageElement)this.displayobject=new i.Bitmap(t);else if(t instanceof i.DisplayObject){if(!t.getBounds())throw"Objects to be filled must have bounds set.";var s=t.getBounds();this.childBounds={width:s.width,height:s.height},this.displayobject=t}else this.color=t;this.initialize()},o=l.prototype=new i.Container;return o.Container_initialize=o.initialize,o.initialize=function(){this.Container_initialize()},o.getChildBounds=function(){return this.childBounds?this.childBounds:this.displayobject.getBounds()?{width:this.displayobject.getBounds().width,height:this.displayobject.getBounds().height}:null},o.isVisible=function(){return!0},o.setLimits=function(i,t){this.limits={width:i,height:t}},o.getAvailableSpace=function(){return null!==this.limits?this.limits:(this.parent?(h=this.parent.getBounds())&&(t=h.width,e=h.height):this.getBounds()?(t=this.getBounds().width,e=this.getBounds().height):(t=100,e=100),{width:t,height:e})},o.Container_draw=o.draw,o.getLocationHash=function(){return s=this.getAvailableSpace(),Math.floor(s.width)+":"+Math.floor(s.height)},o.hasChanged=function(){return s=this.getLocationHash(),n=this.lastHash!==s,this.lastHash=s,n},o.center=function(i){if(this.displayobject){var t=this.getChildBounds();t&&(this.displayobject.x=(i.width-t.width*this.displayobject.scaleX)/2,this.displayobject.y=(i.height-t.height*this.displayobject.scaleY)/2)}},o.draw=function(t,e){if(this.initialized&&!this.hasChanged())return this.Container_draw(t,e);this.initialized=!0,this.removeAllChildren();var s=this.getAvailableSpace();if(this.color){var h=new i.Shape;h.graphics.setStrokeStyle(0),h.graphics.beginFill(this.color),h.graphics.beginStroke(this.color),h.snapToPixel=!0,h.graphics.drawRect(0,0,s.width,s.height),this.addChild(h)}else if(this.displayobject){try{if(!this.getChildBounds())return void(this.initialized=!1)}catch(i){return void(this.initialized=!1)}var n=this.getChildBounds();a={x:s.width/n.width,y:s.height/n.height};var l=this.fillOptions.zoom,o=this.findAttributeInParents("zoomStrategy",3);switch(o&&(l=o),l){case"minimum":this.displayobject.scaleX=this.displayobject.scaleY=Math.min(a.x,a.y),this.center(s);break;case"maximum":this.displayobject.scaleX=this.displayobject.scaleY=Math.max(a.x,a.y),this.center(s);break;case"stretch":case"default":this.displayobject.scaleX=a.x,this.displayobject.scaleY=a.y}this.addChild(this.displayobject)}return this.applyFilterCacheInParents(5),this.Container_draw(t,e)},o.findAttributeInParents=function(i,t,e){return void 0===e&&(e=this),e.parent?e.parent[i]?e.parent[i]:t>0?this.findAttributeInParents(i,t,e.parent):void 0:null},o.applyFilterCacheInParents=function(i,t){if(void 0===t&&(t=this),!t.parent)return null;if(t.parent.filters){var e=t.parent.getBounds();e&&t.parent.cache(e.x,e.y,e.width,e.height)}return i>0?this.applyFilterCacheInParents(i,t.parent):void 0},i.Background=l,l});
define("CatLab/Easelbone/EaselJS/Filters/ColorSwapFilter",["easeljs"],function(r){function e(r,e){this.Filter_constructor(),t.color=r,t.replaceColor=e}var t=r.extend(e,r.Filter);function o(r){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}return t._applyFilter=function(r){for(var e=r.data,t=this.color,n=[],a=[],i=0;i<t.length;i++)n.push(o(t[i]));for(i=0;i<this.replaceColor.length;i++)a.push(o(this.replaceColor[i]));function c(r,e,t){for(j=0;j<n.length;j++)if(n[j].r==r&&n[j].g==e&&n[j].b==t)return a[j]}var u=null;for(i=0,l=e.length;i<l;i+=4)(u=c(e[i],e[i+1],e[i+2]))&&(e[i]=u.r,e[i+1]=u.g,e[i+2]=u.b);return!0},t.clone=function(){return new e(this.color,this.replaceColor)},t.toString=function(){return"[ColorSwapFilter]"},r.ColorSwapFilter=r.promote(e,"Filter"),r.ColorSwapFilter});
define("CatLab/Easelbone/EaselJS/DisabledButtonHelper",["easeljs"],function(e){var t=function(e,t,n,s,i,l,o){this.initialize(e,t,n,s,i,l,o)},n=t.prototype;n.target=null,n.overLabel=null,n.outLabel=null,n.downLabel=null,n.play=!1,n.setEnabled=function(e){},n.getEnabled=function(){return this._enabled};try{Object.defineProperties(n,{enabled:{get:n.getEnabled,set:n.setEnabled}})}catch(e){}return n._isPressed=!1,n._isOver=!1,n._enabled=!1,n.initialize=function(e,t,n,s,i,l,o){e.addEventListener&&(this.target=e,e.mouseChildren=!1,this.overLabel=null==n?"over":n,this.outLabel=null==t?"out":t,this.downLabel=null==s?"down":s,this.play=i,this.setEnabled(!0),this.handleEvent({}),l&&(o&&(l.actionsEnabled=!1,l.gotoAndStop&&l.gotoAndStop(o)),e.hitArea=l))},n.toString=function(){return"[DisabledButtonHelper]"},n.handleEvent=function(e){var t,n=this.target,s=e.type;"mousedown"==s?(this._isPressed=!0,t=this.downLabel):"pressup"==s?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==s?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(t):n.gotoAndStop&&n.gotoAndStop(t)},t});
define("CatLab/FakeWebremote/Models/User",[],function(){return function(t){var n,e,i,r=t;this.getAccessToken=function(){return r},this.setId=function(t){i=t},this.getId=function(){return i},this.setName=function(t){n=t},this.getName=function(){return n},this.setAvatar=function(t){e=t},this.getAvatar=function(){return e}}});
define("CatLab/FakeWebremote/Models/Control",[],function(){return function(t,n){var i,e,r=0,s={},o=t,c=[];this.id=t,this.pushed=function(){return 0===r},this.scale=function(){return r},this.update=function(t){r>0&&0==t&&this.trigger("click"),r=t},this.getLabel=function(){return'<span class="control-label '+e+'">'+o+"</span>"},this.setStaticLabel=function(t,n){return o=t,e=n,this},this.setLabel=function(i,e){return n.emit("button:label",{id:t,label:i}),this},this.click=function(t){return this.on("click",t),this},this.on=function(t,n){return void 0===s[t]&&(s[t]=[]),s[t].push(n),this},this.trigger=function(t){var n=[];if(void 0!==s[t])for(i=0;i<s[t].length;i++)n.push(s[t][i]);for(i=0;i<n.length;i++)try{n[i]()}catch(t){console.log(t)}return this},this.off=function(t){return s[t]=[],this},this.clearEvents=function(){return s={},this},this.addDomElement=function(t){var n=this,i=[];return i.push(t.addEventListener("click",function(){n.trigger("click")})),c.push({element:t,listeners:i}),this},this.clearDomElements=function(){for(var t=0;t<c.length;t++)for(var n=0;n<c[t].listeners.length;n++)c[t].element.removeEventListener("click",c[t].listeners[n]);return c=[],this},this.isLocalAuthentication=function(){return!1},this.log=function(t){n.log("["+this.id+"] "+t)}}});
define("CatLab/FakeWebremote/Models/ControlUser",["CatLab/FakeWebremote/Models/User","CatLab/FakeWebremote/Models/Control"],function(t,o){var e=function(t){this.initialize(t)};return(e.prototype=t).setWebcontrol=function(t){this.Webcontrol=t},e.prototype.initialize=function(t){this.controls={},this.currentView=null,this.color="orange",this.colorName="orange",this.tmpid=null,this.active=!1,this.userdata=t,this.profiledata={},this.access_token=null},e.prototype.clearControls=function(){if(null!=this.currentView)for(var t=this.Webcontrol.getViewLabels(this.currentView),o=0;o<t.length;o++)this.control(t[o].id).setStaticLabel(t[o].label,"mobile")},e.prototype.clearEvents=function(){for(this.tmpid in this.controls)this.controls.hasOwnProperty(this.tmpid)&&this.controls[this.tmpid].clearEvents()},e.prototype.trigger=function(t,o){"button:down"==t?this.control(o.id).update(1):"button:up"==t?this.control(o.id).update(0):"user:login"==t?this.login(o):"user:logout"==t&&this.logout(o)},e.prototype.emit=function(t,o){return this.Webcontrol._playerEmit(this,t,o),!0},e.prototype.control=function(t){return void 0===this.controls[t]&&(this.controls[t]=new o(t,this)),this.controls[t]},e.prototype.getId=function(){return this.userdata.id},e.prototype.getName=function(){return"User "+this.getId()},e.prototype.getType=function(){return"mobile"},e.prototype.getIcon=function(){return"fa fa-mobile-phone"},e.prototype.login=function(t){var o=this;this.access_token=t.access_token,this.Webcontrol.getOAuthClient(function(t){t.profile(o.access_token,function(t){o.profiledata=t.user})})},e.prototype.getData=function(){return this.profiledata},e.prototype.logout=function(t){this.profiledata=null,this.access_token=null},e.prototype.setColor=function(t,o){this.color=t,this.colorName=o,this.emit("color:set",{color:t,name:o})},e.prototype.getColor=function(){return this.color},e.prototype.getColorName=function(){return this.colorName},e.prototype.isActive=function(){return this.active},e.prototype.toggleActive=function(){this.active=!this.active,this.setLabel()},e.prototype.setActive=function(t){this.active=t,this.setLabel()},e.prototype.setLabel=function(){1==this.active?this.control("join-game").setLabel("LEAVE"):this.control("join-game").setLabel("JOIN")},e.prototype.setView=function(t){this.currentView=t,this.clearControls(),this.emit("view:set",{id:t})},e.prototype.setUserData=function(t,o){console.log("Setting user data: ",t,o)},e.prototype.isLocalAuthentication=function(){return!0},e.prototype.log=function(t){console.log("[u:"+this.getId()+"] "+t)},e});
define("CatLab/FakeWebremote/Models/KeyboardUser",["CatLab/FakeWebremote/Models/ControlUser"],function(e){var t=function(e){void 0===e&&(e=[{id:"up",label:"↑",key:38},{id:"down",label:"↓",key:40},{id:"right",label:"→",key:39},{id:"left",label:"←",key:37},{id:"a",label:"A",key:65},{id:"b",label:"B",key:66},{id:"x",label:"X",key:88},{id:"y",label:"Y",key:89},{id:"join-game",label:"SPACE",key:32},{id:"start-game",label:"ENTER",key:13}]),this.keys=e,this.initialize({id:"keyboard"});var t,n=this,i=0;function o(o){for(i=0;i<e.length;i++)if(e[i].key==o)return t=n.control(e[i].id);return null}document.addEventListener("keydown",function(e){(t=o(e.keyCode))&&t.update(1)}),document.addEventListener("keyup",function(e){(t=o(e.keyCode))&&t.update(0)}),this.clearControls=function(){for(var t=0;t<e.length;t++)this.control(e[t].id).setStaticLabel(e[t].label,"keyboard")},this.getType=function(){return"keyboard"},this.getIcon=function(){return"fa fa-keyboard-o"},this.setView=function(e){return this.clearControls(),this},this.emit=function(e,t){return!1},this.isLocalAuthentication=function(){return!1},this.clearControls()};return(t.prototype=new e).constructor=t,t});
define("CatLab/Easelbone/FrontController",["CatLab/Easelbone/Utilities/Loader","CatLab/Easelbone/Views/LoadingView","CatLab/Easelbone/Views/Root","CatLab/Easelbone/Views/Base","CatLab/Easelbone/Views/Layer","CatLab/Easelbone/Views/Navigatable","CatLab/Easelbone/Controls/Slider","CatLab/Easelbone/Controls/Checkbox","CatLab/Easelbone/Controls/Button","CatLab/Easelbone/Controls/Selectbox","CatLab/Easelbone/Controls/ScrollBar","CatLab/Easelbone/Controls/ScrollArea","CatLab/Easelbone/Controls/List","CatLab/Easelbone/Controls/FloatContainer","CatLab/Easelbone/Controls/GridFill","CatLab/Easelbone/EaselJS/DisplayObjects/BigText","CatLab/Easelbone/EaselJS/DisplayObjects/EmojiText","CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder","CatLab/Easelbone/EaselJS/DisplayObjects/Background","CatLab/Easelbone/EaselJS/Filters/ColorSwapFilter","CatLab/Easelbone/EaselJS/DisabledButtonHelper","CatLab/Easelbone/Utilities/GlobalProperties","CatLab/Easelbone/Utilities/MovieClipHelper","CatLab/FakeWebremote/Models/KeyboardUser"],function(e,a,l,o,t,s,b,i,r,n,C,E,L,c,d,S,p,F,B,u,w,x,y,g){return{initialize:function(){},setProperties:function(e){x.set(e)},Views:{Root:l,Base:o,Layer:t,Navigatable:s,Loading:a},Controls:{Slider:b,Checkbox:i,Button:r,Selectbox:n,ScrollBar:C,ScrollArea:E,List:L,FloatContainer:c,GridFill:d},EaselJS:{BigText:S,EmojiText:p,Placeholder:F,Fill:B,DisabledButtonHelper:w,Filters:{ColorSwapFilter:u}},FakeWebremote:{KeyboardUser:g},Loader:e,Helpers:{MovieClipHelper:y}}});
define("easelbone",["CatLab/Easelbone/FrontController"],function(e){return e});
