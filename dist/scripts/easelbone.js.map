{"version":3,"file":"easelbone.js","sources":["CatLab/Easelbone/Utilities/Loader.js","CatLab/Easelbone/Views/Layer.js","CatLab/Easelbone/Views/Root.js","CatLab/Easelbone/Utilities/GlobalProperties.js","CatLab/Easelbone/Views/Base.js","CatLab/Easelbone/Views/Navigatable.js","CatLab/Easelbone/Controls/Base.js","CatLab/Easelbone/Utilities/Path.js","CatLab/Easelbone/Controls/Slider.js","CatLab/Easelbone/Controls/Checkbox.js","CatLab/Easelbone/EaselJS/DisplayObjects/BigText.js","CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder.js","CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder.js","CatLab/Easelbone/Controls/Button.js","CatLab/Easelbone/Controls/Selectbox.js","CatLab/Easelbone/Controls/ScrollBar.js","CatLab/Easelbone/EaselJS/DisplayObjects/ScrollArea.js","CatLab/Easelbone/Utilities/Mousewheel.js","CatLab/Easelbone/Controls/ScrollArea.js","CatLab/Easelbone/Controls/ListElement.js","CatLab/Easelbone/Controls/List.js","CatLab/Easelbone/Controls/FloatContainer.js","CatLab/Easelbone/EaselJS/DisplayObjects/Background.js","CatLab/Easelbone/EaselJS/DisabledButtonHelper.js","CatLab/FakeWebremote/Models/User.js","CatLab/FakeWebremote/Models/Control.js","CatLab/FakeWebremote/Models/ControlUser.js","CatLab/FakeWebremote/Models/KeyboardUser.js","CatLab/Easelbone/FrontController.js","easelbone.js"],"names":["define","Loader","this","loader","createjs","LoadQueue","prototype","loadAssets","assets","path","loadManifest","properties","manifest","load","callback","_","Backbone","Layer","options","extend","Events","container","Container","view","setView","trigger","removeAllChildren","setElement","addChild","self","on","event","render","el","tick","i","layer","dirty","View","stage","hudcontainer","hud","initialize","canvas","parentNode","Error","document","createElement","appendChild","Stage","layers","layerMap","mainLayer","nextLayer","Ticker","addEventListener","e","resize","name","length","push","getLayer","update","fullscreen","resizeFullscreen","width","offsetWidth","height","offsetHeight","window","innerWidth","innerHeight","backbone","model","Model","set","font","textColor","getWidth","get","getHeight","getDefaultFont","getDefaultTextColor","ifUndefined","value","defaultValue","GlobalProperties","setRootView","root","getStage","scale","element","getScale","scaleX","x","scaleY","y","originalwidth","originalheight","zoom","sx","sy","s","Math","max","min","addCenter","altScale","g","Graphics","beginFill","getBackground","drawRect","ceil","Shape","clear","setBounds","text","BigText","afterRender","onRemove","BaseView","_users","_currentIndex","_current","_options","_controls","navigation","toggle","manipulation","initializeNavigatable","orientation","resetOptions","setUsers","users","user","clearEvents","control","click","previous","next","keyInput","activate","button","addControl","deactivate","index","Base","checked","active","animate","gotoWithAnimate","frame","timeline","resolve","gotoAndPlay","dp","Path","minimum","maximum","start","end","distance","indicatorSize","getPosition","progress","isNaN","getValue","position","location","setIndicatorSize","Slider","step","setValue","pointer","evt","globalToLocal","stageX","stageY","stopPropagation","link","attribute","input","console","log","Checkbox","check","uncheck","hash","debug","hasChanged","aTextstring","aFont","aColor","textstring","color","initialized","limits","p","Container_initialize","isVisible","setText","setLimits","getAvailableSpace","parent","getBounds","goBigOrGoHome","availableWidth","availableHeight","bigger","maxSteps","Text","fontsize","lineWidth","stable","String","Container_draw","draw","getLocationHash","lastHash","ctx","ignoreCache","space","border","graphics","beginStroke","setStrokeStyle","snapToPixel","textAlign","Placeholder","initializePlaceholder","innerPlaceholder","boundHash","oldBoundHash","original_draw","updateBounds","getBoundsHash","hasBoundsChanged","rotation","mask","originalMask","Event","dispatchEvent","children","visible","getChildIndex","addChildAt","TextPlaceholder","Button","convertText","bigtext","Selectbox","repeat","textcontainer","selectedIndex","selectedValue","allValues","buttons","local","textElement","setValues","values","tmp","Array","ind","hasOwnProperty","v","Object","select","getIndexFromText","getIndexFromValue","defineProperty","heightPercentage","ScrollBar","up","down","containers","scrollTo","onScroll","each","getIndicatorSize","indicator","bottom","top","percentage","containerHeight","contentHeight","ScrollArea","maskShape","setMask","setScroll","getScroll","isActive","getFinalDestination","oldY","getDistance","abs","amount","getPercentage","focus","delay","ease","deffered","jQuery","Deferred","Tween","to","scroll","call","MouseWheel","body","wheelDelta","listen","stop","ScrollAreaDisplayObject","Mousewheel","scrollbar","content","enableScrollMouse","disableScrollMouse","onAdd","iv","perc","pixels","ListElement","List","childElement","listItems","setChildElement","tmpElement","boundary","getChildElement","child","columns","rows","currentColumn","DisplayObject","nextRow","getNextPosition","out","pos","removeAllChildren_container","apply","arguments","Background","background","Image","HTMLImageElement","bitmap","Bitmap","DisabledButtonHelper","target","outLabel","overLabel","downLabel","play","hitArea","hitLabel","setEnabled","getEnabled","_enabled","defineProperties","enabled","_isPressed","_isOver","mouseChildren","handleEvent","actionsEnabled","gotoAndStop","toString","label","t","type","aAccessToken","avatar","id","accessToken","getAccessToken","setId","aId","getId","setName","aName","getName","setAvatar","aAvatar","getAvatar","m_label_type","listeners","m_label","domwatchers","pushed","newvalue","getLabel","setStaticLabel","setLabel","emit","todo","off","addDomElement","clearDomElements","j","removeEventListener","isLocalAuthentication","msg","User","WebcontrolControl","WebcontrolUser","data","setWebcontrol","Webcontrol","controls","currentView","colorName","tmpid","userdata","profiledata","access_token","clearControls","labels","getViewLabels","method","login","logout","_playerEmit","getType","getIcon","getOAuthClient","client","profile","getData","setColor","getColor","getColorName","toggleActive","setActive","bool","setUserData","access_key","string","KeyboardUser","keys","getControlFromKey","keycode","key","keyCode","constructor","RootView","LayerView","NavigatableView","SliderControl","CheckboxControl","ButtonControl","SelectboxControl","ListControl","FloatContainer","setProperties","Views","Root","Navigatable","Controls","EaselJS","Fill","FakeWebremote","easelbone"],"mappings":"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","sourcesContent":["define (\n\t'CatLab/Easelbone/Utilities/Loader',[\n\t\t'PreloadJS'\n\t],\n\tfunction (PreloadJS) {\n\n\t\tvar Loader = function () {\n\n\t\t\tthis.loader = new createjs.LoadQueue (false);\n\n\t\t};\n\n\t\tLoader.prototype.loadAssets = function (assets, path) {\n\t\t\tthis.loader.loadManifest (assets.properties.manifest, true, path);\n\t\t};\n\n\t\tLoader.prototype.load = function (callback) {\n\t\t\tcallback ();\n\t\t};\n\n\t\treturn Loader;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Views/Layer',[\n\t\t'EaselJS',\n\t\t'underscore',\n\t\t'backbone'\n\t],\n\tfunction (createjs, _, Backbone) {\n\n\t\tvar Layer = function (options) {\n\n\t\t\t_.extend(this, Backbone.Events);\n\t\t\t\n            if (typeof (options) == 'undefined') {\n                options = {};\n            }\n\n            if (typeof (options.container) != 'undefined') {\n                this.container = options.container;\n            }\n            else {\n                this.container = new createjs.Container ();\n            }\n\n\t\t\tthis.view = null;\n\t\t};\n\n\t\tLayer.prototype.setView = function (view) {\n\t\t\tif (this.view != null)\n\t\t\t{\n\t\t\t\tthis.view.trigger ('stage:removed');\n\t\t\t}\n\n\t\t\tthis.view = view;\n\n\t\t\t// Clear the container\n\t\t\tthis.container.removeAllChildren ();\n\n\t\t\t// Create a container for the view\n\t\t\tvar container = new createjs.Container ();\n\n\t\t\t// Set the view correctly\n\t\t\tthis.view.setElement (container);\n\n\t\t\t// Add the container to the stage\n\t\t\tthis.container.addChild (container);\n\n            // Listen to all events and pass them trough.\n            var self = this;\n\n            this.view.on ('all', function (event) {\n                self.trigger (\"view:\" + event);\n            });\n\n\t\t\tthis.view.trigger ('stage:added');\n\t\t};\n\n\t\tLayer.prototype.render = function () {\n\n\t\t\tif (!this.view)\n\t\t\t\treturn;\n\n\t\t\t// Clear the element, so that render can recreate it\n\t\t\tthis.view.el.removeAllChildren ();\n\n\t\t\t// Before render\n\t\t\tthis.view.trigger ('render:before');\n\n\t\t\t// Render the subview\n\t\t\tthis.view.render ();\n\n\t\t\t// Post render\n\t\t\tthis.view.trigger ('render');\n\n\t\t\t// Also post render\n\t\t\tthis.view.trigger ('render:after');\n\n\t\t};\n\n\t\tLayer.prototype.tick = function (event) {\n\t\t\treturn false;\n\t\t};\n\n\t\treturn Layer;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Views/Root',[\n\t\t'backbone',\n\t\t'EaselJS',\n\n\t\t'CatLab/Easelbone/Views/Layer'\n\t],\n\tfunction (Backbone, createjs, Layer)\n\t{\n\t\tvar i;\n\t\tvar layer;\n\n\t\tvar dirty = false;\n\n\t\treturn Backbone.View.extend({\n\n\t\t\t'stage' : null,\n\t\t\t'container' : null,\n\t\t\t'hudcontainer' : null,\n\n\t\t\t'view' : null,\n\t\t\t'hud' : null,\n\n\t\t\t'initialize' : function (options)\n\t\t\t{\n\t\t\t\tvar self = this;\n\n\t\t\t\tif (typeof (options.canvas) !== 'undefined')\n\t\t\t\t{\n\t\t\t\t\tthis.canvas = options.canvas;\n\t\t\t\t\tthis.container = this.canvas.parentNode;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (typeof (options.container) == 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error (\"Container must be defined for root view.\");\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.canvas = document.createElement('canvas');\n\t\t\t\t\tthis.container = options.container;\n\t\t\t\t\tthis.container.appendChild (this.canvas);\n\n\t\t\t\t}\n\n\t\t\t\tthis.stage = new createjs.Stage (this.canvas);\n\n\t\t\t\t// Create the main layer.\n\t\t\t\tthis.layers = [];\n\t\t\t\tthis.layerMap = {};\n\n\t\t\t\tthis.mainLayer = this.nextLayer ('main');\n\n\t\t\t\t// Ticker\n\t\t\t\t//createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED;\n\t\t\t\tcreatejs.Ticker.addEventListener ('tick', function (e) { self.tick (e) });\n\t\t\t\tcreatejs.Ticker.addEventListener ('tick', this.stage);\n\n\t\t\t\t//this.stage.enableMouseOver(assets.properties.fps);\n\t\t\t\tthis.resize ();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Create a new layer that will be put on top of the previous one.\n\t\t\t * @param name\n\t\t\t * @returns {Layer}\n\t\t\t */\n\t\t\t'nextLayer' : function (name) {\n\n\t\t\t\tif (typeof (name) === 'undefined') {\n\t\t\t\t\tname = 'Layer' + this.layers.length;\n\t\t\t\t}\n\n\t\t\t\tvar layer = new Layer ();\n\t\t\t\tthis.stage.addChild (layer.container);\n\n\t\t\t\tthis.layers.push (layer);\n\t\t\t\tthis.layerMap[name] = layer;\n\n\t\t\t\treturn layer;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Return a previously created layer.\n\t\t\t * @param name\n\t\t\t * @returns {*}\n\t\t\t */\n\t\t\t'getLayer' : function (name) {\n\t\t\t\treturn this.layerMap[name];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Set a view on the main layer.\n\t\t\t * @param view\n\t\t\t */\n\t\t\t'setView' : function (view)\n\t\t\t{\n\t\t\t\tthis.mainLayer.setView (view);\n\n\t\t\t\t// And render!\n\t\t\t\tthis.render ();\n\t\t\t},\n\n\t\t\t'tick' : function (event)\n\t\t\t{\n\t\t\t\t// Listen to the voice\n\t\t\t\t//Speech.onRenderFrame ();\n\t\t\t\tthis.trigger ('tick:before', event);\n\n\t\t\t\tdirty = false;\n\n\t\t\t\tfor (i = 0; i < this.layers.length; i ++ ) {\n\n\t\t\t\t\tlayer = this.layers[i];\n\n\t\t\t\t\tif (layer.tick (event)) {\n\t\t\t\t\t\tdirty = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (dirty)\n\t\t\t\t\tthis.update ();\n\n\t\t\t\t// Update the stage.\n\t\t\t\t//this.stage.handleEvent (\"tick\", event);\n\n\t\t\t\tthis.trigger ('tick:after');\n\t\t\t},\n\n\t\t\t'render' : function ()\n\t\t\t{\n\t\t\t\tfor (i = 0; i < this.layers.length; i ++ ) {\n\t\t\t\t\tthis.layers[i].render ();\n\t\t\t\t}\n\n\t\t\t\t// And update the stage.\n\t\t\t\tthis.update ();\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t'update' : function ()\n\t\t\t{\n\t\t\t\tthis.stage.update ();\n\t\t\t},\n\n\t\t\t'fullscreen' : function () {\n\n\t\t\t\tthis.resizeFullscreen ();\n\n\t\t\t},\n\n\t\t\t'resize' : function () {\n\t\t\t\tif (typeof (this.container) !== 'undefined') {\n\n\t\t\t\t\tthis.canvas.width = this.container.offsetWidth;\n\t\t\t\t\tthis.canvas.height = this.container.offsetHeight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.canvas.width = window.innerWidth;\n\t\t\t\t\tthis.canvas.height = window.innerHeight;\n\t\t\t\t}\n\n\t\t\t\tthis.render ();\n\t\t\t}\n\t\t});\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Utilities/GlobalProperties',[\n\t\t'backbone'\n\t],\n\tfunction (backbone)\n\t{\n\n\t\tvar model = backbone.Model.extend ({\n\n\t\t\t'initialize' : function () {\n\n\t\t\t\tthis.set ({\n\t\t\t\t\t'width': 800,\n\t\t\t\t\t'height' : 600,\n\t\t\t\t\t'font' : 'sans-serif',\n\t\t\t\t\t'textColor' : 'white'\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\t'getWidth' : function () {\n\t\t\t\treturn this.get ('width');\n\t\t\t},\n\n\t\t\t'getHeight' : function () {\n\t\t\t\treturn this.get ('height');\n\t\t\t},\n\n\t\t\t'getDefaultFont' : function () {\n\t\t\t\treturn this.get ('font');\n\t\t\t},\n\n\t\t\t'getDefaultTextColor' : function () {\n\t\t\t\treturn this.get ('textColor');\n\t\t\t},\n\n\t\t\t'ifUndefined' : function (value, defaultValue) {\n\t\t\t\tif (typeof (value) !== 'undefined' && value !== null) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\n\n\t\t});\n\n\t\t// Return an instance, not a prototype!\n\t\treturn new model ();\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Views/Base',[\n\t\t'backbone',\n\t\t'CatLab/Easelbone/Utilities/GlobalProperties'\n\t],\n\tfunction (Backbone, GlobalProperties)\n\t{\n\t\treturn Backbone.View.extend({\n\n\t\t\t'el' : 'div',\n\n\t\t\t'setRootView' : function (root) {\n\t\t\t\tthis.set ('root', root);\n\t\t\t},\n\n\t\t\t'getWidth' : function ()\n\t\t\t{\n\t\t\t\treturn this.el.getStage ().canvas.width;\n\t\t\t},\n\n\t\t\t'getHeight' : function ()\n\t\t\t{\n\t\t\t\treturn this.el.getStage ().canvas.height;\n\t\t\t},\n\n\t\t\t'scale' : function (element)\n\t\t\t{\n\t\t\t\tvar scale = this.getScale ();\n\n\t\t\t\telement.scaleX = scale.x;\n\t\t\t\telement.scaleY = scale.y;\n\t\t\t},\n\n\t\t\t'getScale' : function (originalwidth, originalheight, zoom)\n\t\t\t{\n\t\t\t\tif (typeof (originalwidth) == 'undefined' || originalwidth === null)\n\t\t\t\t{\n\t\t\t\t\toriginalwidth = GlobalProperties.getWidth ();\n\t\t\t\t}\n\n\t\t\t\tif (typeof (originalheight) == 'undefined' || originalheight === null)\n\t\t\t\t{\n\t\t\t\t\toriginalheight = GlobalProperties.getHeight ();\n\t\t\t\t}\n\n\t\t\t\tif (typeof (zoom) == 'undefined')\n\t\t\t\t{\n\t\t\t\t\tzoom = false;\n\t\t\t\t}\n\n\t\t\t\tvar sx = this.getWidth () / originalwidth;\n\t\t\t\tvar sy = this.getHeight () / originalheight;\n\n\t\t\t\tvar s = zoom ? Math.max (sx, sy) : Math.min (sx, sy);\n\n\t\t\t\treturn { 'x' : s, 'y' : s };\n\t\t\t},\n\n\t\t\t'addCenter' : function (element, originalwidth, originalheight, zoom, altScale)\n\t\t\t{\n\t\t\t\tif (typeof (originalwidth) == 'undefined' || originalwidth === null)\n\t\t\t\t{\n\t\t\t\t\toriginalwidth = GlobalProperties.getWidth ();\n\t\t\t\t}\n\n\t\t\t\tif (typeof (originalheight) == 'undefined' || originalheight === null)\n\t\t\t\t{\n\t\t\t\t\toriginalheight = GlobalProperties.getHeight ();\n\t\t\t\t}\n\n\t\t\t\tif (typeof (altScale) == 'undefined' || altScale === null)\n\t\t\t\t{\n\t\t\t\t\taltScale = 1;\n\t\t\t\t}\n\n\t\t\t\tvar scale = this.getScale (originalwidth, originalheight, zoom);\n\n\t\t\t\tscale.x = scale.x * altScale;\n\t\t\t\tscale.y = scale.y * altScale;\n\n\t\t\t\telement.x = ((this.getWidth () - (originalwidth * scale.x)) / 2);\n\t\t\t\telement.y = ((this.getHeight () - (originalheight * scale.y)) / 2);\n\n\t\t\t\telement.scaleX = scale.x;\n\t\t\t\telement.scaleY = scale.y;\n\n\t\t\t\tthis.el.addChild(element);\n\n\t\t\t\t// Black borders\n\t\t\t\tvar g = new createjs.Graphics ();\n\n\t\t\t\tif (element.x > 0)\n\t\t\t\t{\n\t\t\t\t\tg.beginFill(this.getBackground ()).drawRect(0, 0, Math.ceil (element.x), this.getHeight ());\n\t\t\t\t\tg.beginFill(this.getBackground ()).drawRect(this.getWidth () - Math.ceil (element.x), 0, Math.ceil (element.x), this.getHeight ());\n\t\t\t\t}\n\n\t\t\t\tif (element.y > 0)\n\t\t\t\t{\n\t\t\t\t\tg.beginFill(this.getBackground ()).drawRect(0, 0, this.getWidth (), Math.ceil (element.y));\n\t\t\t\t\tg.beginFill(this.getBackground ()).drawRect(0, this.getHeight () - Math.ceil (element.y), this.getWidth (), Math.ceil (element.y));\n\t\t\t\t}\n\n\t\t\t\tvar s = new createjs.Shape(g);\n\t\t\t\tthis.el.addChild (s);\n\t\t\t},\n\n\t\t\t'clear' : function ()\n\t\t\t{\n\t\t\t\tthis.el.removeAllChildren ();\n\n\t\t\t\t// Black\n\t\t\t\tvar g = new createjs.Graphics ();\n\t\t\t\tg.beginFill(this.getBackground ()).drawRect(0, 0, this.getWidth (), this.getHeight ());\n\t\t\t\tvar s = new createjs.Shape(g);\n\n\t\t\t\tthis.el.addChild (s);\n\t\t\t},\n\n\t\t\t'getBackground' : function ()\n\t\t\t{\n\t\t\t\treturn '#000000';\n\t\t\t},\n\n\t\t\t'render' : function ()\n\t\t\t{\n\t\t\t\tvar container = new createjs.Container ();\n\t\t\t\tcontainer.setBounds (0, 0, this.getWidth (), this.getHeight ());\n\n\t\t\t\tvar text = new createjs.BigText (\"Please wait, initializing application\", \"Arial\", \"#000000\");\n\t\t\t\tcontainer.addChild (text);\n\n\t\t\t\tthis.el.addChild (container);\n\t\t\t},\n\n\t\t\t'tick' : function ()\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\t'afterRender' : function ()\n\t\t\t{\n\n\t\t\t},\n\n\t\t\t'onRemove' : function ()\n\t\t\t{\n\n\t\t\t}\n\n\t\t});\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Views/Navigatable',[\n\t\t'CatLab/Easelbone/Views/Base'\n\t],\n\tfunction (BaseView)\n\t{\n\t\treturn BaseView.extend ({\n\n\t\t\t'_users' : [],\n\t\t\t'_currentIndex' : -1,\n\t\t\t'_current' : null,\n\t\t\t'_options' : [],\n\n\t\t\t'_controls' : {\n\n\t\t\t\t'navigation' : [ 'left' , 'right' ],\n\t\t\t\t'toggle' : [ 'a' ],\n\t\t\t\t'manipulation' : [ 'down', 'up' ]\n\n\t\t\t},\n\n\t\t\t'initialize' : function (options)\n\t\t\t{\n\t\t\t\tthis.initializeNavigatable (options);\n\t\t\t},\n\n\t\t\t'initializeNavigatable' : function (options)\n\t\t\t{\n\t\t\t\toptions = options || {};\n\n\t\t\t\tif (typeof (options.orientation) !== 'undefined') {\n\n\t\t\t\t\tif (options.orientation == 'vertical') {\n\t\t\t\t\t\tthis._controls.navigation = [ 'up', 'down' ];\n\t\t\t\t\t\tthis._controls.manipulation = [ 'left' , 'right' ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Reset the options for Navigatable\n\t\t\t\tthis.resetOptions ();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * To control the navigatable with keyboard, gamepad or smartphone,\n\t\t\t * set a user collection here.\n\t\t\t * @param users\n\t\t\t */\n\t\t\t'setUsers' : function (users) {\n\n\t\t\t\tthis._users = users;\n\n\t\t\t\tvar self = this;\n\n\t\t\t\t// Set the events for this controller.\n\t\t\t\tfor (var i = 0; i < this._users.length; i ++)\n\t\t\t\t{\n\t\t\t\t\tvar user = this._users[i];\n\n\t\t\t\t\tuser.setView (\"catlab-nes\");\n\t\t\t\t\tuser.clearEvents ();\n\n\t\t\t\t\tuser.control (this._controls.navigation[0]).click (function () { self.previous (); });\n\t\t\t\t\tuser.control (this._controls.navigation[1]).click (function () { self.next (); });\n\n\t\t\t\t\t// A or start.\n\t\t\t\t\tuser.control (this._controls.toggle).click (function () { self.keyInput ('a'); });\n\t\t\t\t\tuser.control (this._controls.toggle).click (function () { self.keyInput ('b'); });\n\n\t\t\t\t\tuser.control (this._controls.manipulation[0]).click (function () { self.keyInput ('down'); });\n\t\t\t\t\tuser.control (this._controls.manipulation[1]).click (function () { self.keyInput ('up'); });\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t'next' : function () {\n\t\t\t\tthis.activate ((this._currentIndex + 1) % this._options.length);\n\t\t\t},\n\n\t\t\t'previous' : function () {\n\t\t\t\tvar previous = this._currentIndex - 1;\n\t\t\t\tif (previous < 0) {\n\t\t\t\t\tprevious = this._options.length - 1;\n\t\t\t\t}\n\t\t\t\tthis.activate (previous);\n\t\t\t},\n\n\t\t\t'keyInput' : function (button) {\n\t\t\t\tif (this._current) {\n\t\t\t\t\tthis._current.keyInput (button);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t'resetOptions' : function ()\n\t\t\t{\n\t\t\t\tthis._options = [];\n\t\t\t},\n\n\t\t\t'addControl' : function (control) {\n\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis._options.push (control);\n\n\t\t\t\t/*\n\t\t\t\tif (this._options.length === 1) {\n\t\t\t\t\t// First control added? Activate that one.\n\t\t\t\t\tsetTimeout (function ()\n\t\t\t\t\t{\n\t\t\t\t\t\tself.activate (0);\n\t\t\t\t\t}, 1);\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t*/\n\t\t\t\t\tcontrol.deactivate (false);\n\t\t\t\t//}\n\t\t\t},\n\n\t\t\t'activate' : function (index) {\n\n\t\t\t\tif (this._currentIndex !== -1 && this._currentIndex !== null) {\n\t\t\t\t\tthis._options[this._currentIndex].deactivate ();\n\t\t\t\t}\n\n\t\t\t\tthis._currentIndex = index;\n\t\t\t\tthis._options[index].activate ();\n\t\t\t\tthis._current = this._options[index];\n\t\t\t}\n\n\t\t});\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/Base',[\n\t\t'underscore',\n\t\t'backbone'\n\t],\n\tfunction (_, Backbone)\n\t{\n\t\tvar Base = function () {\n\t\t\tthis.checked = false;\n\t\t\tthis.active = false;\n\n\t\t\t_.extend (this, Backbone.Events);\n\t\t};\n\n\t\tBase.prototype.activate = function (animate) {\n\t\t\tthis.active = true;\n\t\t\tthis.update (animate);\n\t\t};\n\n\t\tBase.prototype.deactivate = function (animate) {\n\t\t\tthis.active = false;\n\t\t\tthis.update (animate);\n\t\t};\n\n\t\tBase.prototype.update = function (animate) {\n\n\t\t\tif (typeof (animate) === 'undefined') {\n\t\t\t\tanimate = true;\n\t\t\t}\n\n\t\t\tif (this.active) {\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tthis.gotoWithAnimate ('Hit', animate);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.gotoWithAnimate ('Over', animate);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tthis.gotoWithAnimate ('Down', animate);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.gotoWithAnimate ('Up', animate);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Check if there is a NoAnim framename and use that if animate is set to false.\n\t\t * @param frame\n\t\t * @param animate\n\t\t */\n\t\tBase.prototype.gotoWithAnimate = function (frame, animate) {\n\n\t\t\tif (!animate) {\n\t\t\t\tif (this.element.timeline.resolve (frame + '-NoAnim')) {\n\t\t\t\t\tthis.element.gotoAndPlay (frame + '-NoAnim');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.element.gotoAndPlay (frame);\n\t\t};\n\n\t\treturn Base;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Utilities/Path',[],\n\tfunction ()\n\t{\n\t\tvar dp, value;\n\n\t\tvar Path = function (minimum, maximum) {\n\n\t\t\tthis.start = { 'x' : minimum.x, 'y' : minimum.y };\n\t\t\tthis.end = { 'x' : maximum.x, 'y' : maximum.y };\n\n\t\t\tthis.distance = {\n\t\t\t\t'x' : (maximum.x - minimum.x),\n\t\t\t\t'y' : (maximum.y - minimum.y)\n\t\t\t};\n\n\t\t\tthis.orientation = (this.distance.x > this.distance.y) ? 'horizontal' : 'vertical';\n\t\t\tthis.indicatorSize = { 'x' : 0, 'y' : 0 };\n\t\t};\n\n\t\tPath.prototype.getPosition = function (progress) {\n\n\t\t\tif (isNaN (progress)) {\n\t\t\t\tprogress = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t'x' : this.start.x + ((this.distance.x - this.indicatorSize.x) * progress),\n\t\t\t\t'y' : this.start.y + ((this.distance.y - this.indicatorSize.y) * progress)\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * Return an estimated value from x and y values.\n\t\t * @param x\n\t\t * @param y\n\t\t */\n\t\tPath.prototype.getValue = function (x, y) {\n\n\t\t\tif (this.orientation === 'horizontal') {\n\t\t\t\tdp = (x - this.start.x) / this.distance.x;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdp = (y - this.start.y) / this.distance.y;\n\t\t\t}\n\n\t\t\tvalue = Math.max (0, Math.min (1, dp));\n\t\t\treturn value;\n\t\t};\n\n\t\tPath.prototype.position = function (element, progress) {\n\n\t\t\tvar location = this.getPosition (progress);\n\n\t\t\telement.x = location.x;\n\t\t\telement.y = location.y;\n\n\t\t};\n\n\t\t/**\n\t\t * If set, indicator size will be withdraw\n\t\t * @param width\n\t\t * @param height\n\t\t */\n\t\tPath.prototype.setIndicatorSize = function (width, height) {\n\t\t\tthis.indicatorSize = { 'x' : width, 'y' : height };\n\t\t};\n\n\t\treturn Path;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/Slider',[\n\t\t'CatLab/Easelbone/Controls/Base',\n\t\t'CatLab/Easelbone/Utilities/Path'\n\t],\n\tfunction (\n\t\tBase,\n\t\tPath\n\t) {\n\n\t\tvar Slider = function (element) {\n\n\t\t\tvar self = this;\n\t\t\tvar position;\n\n\t\t\tthis.element = element;\n\t\t\tthis.step = 0.1;\n\n\t\t\tthis.path = new Path (this.element.minimum, this.element.maximum);\n\t\t\tthis.setValue (0.5);\n\n\t\t\t// Mouse events\n\t\t\tthis.element.pointer.on ('pressmove', function (evt) {\n\t\t\t\tposition = self.element.globalToLocal (evt.stageX, evt.stageY);\n\t\t\t\tself.setValue (self.path.getValue (position.x, position.y));\n\t\t\t});\n\n\t\t\tthis.element.pointer.on ('click', function (evt) {\n\t\t\t\tevt.stopPropagation ();\n\t\t\t});\n\n\t\t\tthis.element.on ('click', function (evt) {\n\t\t\t\tposition = self.element.globalToLocal (evt.stageX, evt.stageY);\n\t\t\t\tself.setValue (self.path.getValue (position.x, position.y));\n\t\t\t});\n\n\t\t};\n\n\t\t// Extend base.\n\t\tSlider.prototype = new Base ();\n\n\t\tSlider.prototype.link = function (model, attribute) {\n\n\t\t\tthis.setValue (model.get (attribute));\n\t\t\treturn this;\n\n\t\t};\n\n\t\tSlider.prototype.setValue = function (value) {\n\n\t\t\tthis.value = value;\n\t\t\tthis.path.position (this.element.pointer, this.value);\n\t\t};\n\n\t\tSlider.prototype.keyInput = function (input) {\n\n\t\t\tconsole.log (input);\n\n\t\t\tswitch (input) {\n\t\t\t\tcase 'up':\n\t\t\t\t\tthis.value = Math.min (1, this.value + this.step);\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'down':\n\t\t\t\t\tthis.value = Math.max (0, this.value - this.step);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.setValue (this.value);\n\n\t\t};\n\n\t\treturn Slider;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/Checkbox',[\n\t\t'CatLab/Easelbone/Controls/Base'\n\t],\n\tfunction (\n\t\tBase\n\t) {\n\n\t\tvar Checkbox = function (element) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.element = element;\n\n\t\t\t// Listen to click event\n\t\t\tthis.element.addEventListener ('click', function () {\n\t\t\t\tself.toggle ();\n\t\t\t});\n\n\t\t};\n\n\t\t// Extend base.\n\t\tCheckbox.prototype = new Base ();\n\n\t\tCheckbox.prototype.toggle = function () {\n\t\t\tthis.checked = !this.checked;\n\t\t\tthis.update ();\n\t\t};\n\n\t\tCheckbox.prototype.check = function () {\n\t\t\tthis.checked = true;\n\t\t\tthis.update ();\n\t\t};\n\n\t\tCheckbox.prototype.uncheck = function () {\n\t\t\tthis.checked = false;\n\t\t\tthis.update ();\n\t\t};\n\n\t\tCheckbox.prototype.keyInput = function (input) {\n\n\t\t\tswitch (input) {\n\t\t\t\tcase 'a':\n\n\t\t\t\t\tthis.toggle ();\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\treturn Checkbox;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/EaselJS/DisplayObjects/BigText',[\n\t\t'EaselJS',\n\t\t'CatLab/Easelbone/Utilities/GlobalProperties'\n\t],\n\tfunction (createjs, GlobalProperties)\n\t{\n\t\tvar width;\n\t\tvar height;\n\t\tvar debug = false;\n\t\tvar hash;\n\t\tvar hasChanged = false;\n\n\t\tvar BigText = function (aTextstring, aFont, aColor)\n\t\t{\n\t\t\tthis.textstring = aTextstring;\n\t\t\tthis.font = GlobalProperties.ifUndefined (aFont, GlobalProperties.getDefaultFont ());\n\t\t\tthis.color = GlobalProperties.ifUndefined (aColor, GlobalProperties.getDefaultTextColor ());\n\n\t\t\tthis.initialize ();\n\t\t\tthis.initialized = false;\n\t\t\tthis.limits = null;\n\n\t\t\tthis.debug = debug;\n\t\t};\n\n\t\tvar p = BigText.prototype = new createjs.Container ();\n\n\t\tp.Container_initialize = p.initialize;\n\n\t\tp.initialize = function() {\n\t\t\tthis.Container_initialize ();\n\t\t};\n\n\t\tp.isVisible = function ()\n\t\t{\n\t\t\treturn true;\n\t\t};\n\n\t\tp.setText = function (text)\n\t\t{\n\t\t\tthis.initialized = false;\n\t\t\tthis.textstring = text;\n\t\t};\n\n\t\tp.setLimits = function (width, height)\n\t\t{\n\t\t\tthis.limits = { 'width' : width, 'height' : height };\n\t\t};\n\n\t\tp.getAvailableSpace = function ()\n\t\t{\n\t\t\tif (this.limits !== null)\n\t\t\t{\n\t\t\t\treturn this.limits;\n\t\t\t}\n\n\t\t\telse if (this.parent)\n\t\t\t{\n\t\t\t\twidth = this.parent.getBounds ().width;\n\t\t\t\theight = this.parent.getBounds ().height\n\t\t\t}\n\t\t\telse if (this.getBounds ())\n\t\t\t{\n\t\t\t\twidth = this.getBounds ().width;\n\t\t\t\theight = this.getBounds ().height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twidth = 100;\n\t\t\t\theight = 100;\n\t\t\t}\n\n\t\t\treturn { 'width' : width, 'height' : height };\n\t\t};\n\n\t\t/**\n\t\t * Return an array of createjs.Text elements that should be displayed below eachother.\n\t\t * @param textstring\n\t\t * @param availableWidth\n\t\t * @param availableHeight\n\t\t */\n\t\tp.goBigOrGoHome = function (textstring, availableWidth, availableHeight)\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tvar fontsize = 10;\n\t\t\tvar stable = new createjs.Text (\"\" + String(textstring), fontsize + \"px \" + this.font, this.color);\n\n\t\t\tvar maxSteps = 500;\n\n\t\t\tfunction bigger ()\n\t\t\t{\n\t\t\t\tmaxSteps --;\n\n\t\t\t\tif (maxSteps < 0)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t//console.log (fontsize + \"px \" + self.font);\n\n\t\t\t\tvar text = new createjs.Text (textstring, fontsize + \"px \" + self.font, self.color);\n\t\t\t\ttext.lineWidth = availableWidth;\n\n\t\t\t\tif (text.getBounds ().height < availableHeight && text.getBounds ().width <= availableWidth)\n\t\t\t\t{\n\t\t\t\t\tstable = text;\n\t\t\t\t\tfontsize ++;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twhile (bigger ()) {}\n\n\t\t\treturn stable;\n\t\t};\n\n\t\tp.Container_draw = p.draw;\n\n\t\tp.getLocationHash = function () {\n\t\t\thash = this.getAvailableSpace ();\n\t\t\treturn hash.width + ':' + hash.height;\n\t\t};\n\n\t\t/**\n\t\t * Determine if the dimensions have changed since last frame.\n\t\t * @returns {boolean}\n\t\t */\n\t\tp.hasChanged = function () {\n\t\t\thash = this.getLocationHash ();\n\t\t\thasChanged = this.lastHash != hash;\n\t\t\tthis.lastHash = hash;\n\n\t\t\treturn hasChanged;\n\t\t};\n\n\t\tp.draw = function (ctx, ignoreCache)\n\t\t{\n\t\t\tif (this.initialized && !this.hasChanged ())\n\t\t\t{\n\t\t\t\treturn this.Container_draw (ctx, ignoreCache);\n\t\t\t}\n\n\t\t\tthis.initialized = true;\n\n\t\t\tthis.removeAllChildren ();\n\n\t\t\tvar space = this.getAvailableSpace ();\n\t\t\t//console.log (space);\n\n\t\t\t// Draw container size\n\t\t\tif (debug)\n\t\t\t{\n\t\t\t\tvar border = new createjs.Shape();\n\t\t\t\tborder.graphics.beginStroke(\"#FFA500\");\n\t\t\t\tborder.graphics.setStrokeStyle(1);\n\t\t\t\tborder.snapToPixel = true;\n\t\t\t\tborder.graphics.drawRect(0, 0, space.width, space.height);\n\t\t\t\tthis.addChild (border);\n\t\t\t}\n\n\t\t\tvar text = this.goBigOrGoHome (this.textstring, space.width, space.height);\n\n\t\t\t//console.log (text);\n\n\t\t\t//text.textBaseline = 'top';\n\t\t\ttext.textAlign = 'center';\n\n\t\t\ttext.x = ((space.width - text.getBounds ().width) / 2) + text.getBounds ().width / 2;\n\t\t\ttext.y = (space.height - text.getBounds ().height) / 2;\n\n\t\t\tthis.addChild (text);\n\n\t\t\treturn this.Container_draw (ctx, ignoreCache);\n\t\t};\n\n\t\tcreatejs.BigText = BigText;\n\t\treturn BigText;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder',[\n\t\t'EaselJS'\n\t],\n\tfunction (createjs)\n\t{\n\t\tvar Placeholder = function (element) {\n\n\t\t\tif (typeof (element) != 'undefined') {\n\n\t\t\t\tthis.initialize ();\n\t\t\t\tthis.initializePlaceholder (element);\n\t\t\t}\n\n\t\t};\n\n\t\tvar p = Placeholder.prototype = new createjs.Container ();\n\n\t\tp.initializePlaceholder = function (element) {\n\n\t\t\tvar innerPlaceholder = this;\n\t\t\tvar boundHash = '0:0';\n\t\t\tvar oldBoundHash = '0:0';\n\t\t\tvar event;\n\n\t\t\telement.original_draw = element.draw;\n\n\t\t\t// Override the draw method of the original placeholder.\n\t\t\telement.draw = function (ctx, ignoreCache) {\n\n\t\t\t\tthis.updateBounds ();\n\t\t\t\treturn element.original_draw (ctx, ignoreCache);\n\t\t\t};\n\n\t\t\tthis.getBoundsHash = function () {\n\n\t\t\t\tif (this.getBounds ()) {\n\t\t\t\t\tboundHash = this.getBounds ().width + ':' + this.getBounds ().height;\n\n\t\t\t\t\treturn boundHash;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\n\t\t\tthis.hasBoundsChanged = function () {\n\n\t\t\t\tif (this.getBoundsHash () != oldBoundHash) {\n\t\t\t\t\toldBoundHash = boundHash;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\telement.updateBounds = function () {\n\n\t\t\t\t// Set the bounds on this local container\n\t\t\t\tinnerPlaceholder.setBounds (\n\t\t\t\t\t0, 0,\n\t\t\t\t\tMath.ceil (this.scaleX * 100),\n\t\t\t\t\tMath.ceil (this.scaleY * 100)\n\t\t\t\t);\n\n\t\t\t\tinnerPlaceholder.x = this.x;\n\t\t\t\tinnerPlaceholder.y = this.y;\n\n\t\t\t\tinnerPlaceholder.rotation = this.rotation;\n\n\t\t\t\tif (innerPlaceholder.hasBoundsChanged ()) {\n\n\t\t\t\t\tif (this.mask) {\n\t\t\t\t\t\tinnerPlaceholder.mask = this.mask;\n\t\t\t\t\t}\n\n\t\t\t\t\telse if (this.originalMask) {\n\t\t\t\t\t\tinnerPlaceholder.mask = this.originalMask;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.mask = false;\n\n\t\t\t\t\tevent = new createjs.Event ('bounds:change');\n\t\t\t\t\tinnerPlaceholder.dispatchEvent (event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Remove everything\n\t\t\t//element.removeAllChildren ();\n\t\t\tfor (var i = 0; i < element.children.length; i ++) {\n\t\t\t\telement.children[i].visible = false;\n\t\t\t}\n\n\t\t\t//element.visible = false;\n\n\t\t\t// And add ourselves\n\t\t\tif (element.parent != null) {\n\t\t\t\tvar index = element.parent.getChildIndex (element);\n\n\t\t\t\telement.parent.addChildAt (innerPlaceholder, index + 1);\n\t\t\t\tinnerPlaceholder.dispatchEvent ('initialized');\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.addEventListener ('added', function () {\n\n\t\t\t\t\tvar index = element.parent.getChildIndex (element);\n\t\t\t\t\telement.parent.addChildAt (innerPlaceholder, index + 1);\n\t\t\t\t\tinnerPlaceholder.dispatchEvent ('initialized');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t// And add ourselves\n\t\t\tif (element.parent != null) {\n\t\t\t\telement.parent.addChild (innerPlaceholder);\n\t\t\t\tinnerPlaceholder.dispatchEvent ('initialized');\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.addEventListener ('added', function () {\n\t\t\t\t\telement.parent.addChild (innerPlaceholder);\n\t\t\t\t\tinnerPlaceholder.dispatchEvent ('initialized');\n\t\t\t\t});\n\t\t\t}\n\t\t\t*/\n\t\t};\n\n\n\t\treturn Placeholder;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder',[\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder'\n\t],\n\tfunction (Placeholder)\n\t{\n\t\treturn Placeholder;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/Button',[\n\t\t'CatLab/Easelbone/Controls/Base',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/BigText',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder'\n\t],\n\tfunction (\n\t\tBase,\n\t\tBigText,\n\t\tTextPlaceholder\n\t) {\n\n\t\tvar Button = function (element) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.element = element;\n\t\t\tthis.checked = false;\n\n\t\t\t// Check for text placeholder.\n\t\t\tif (!this.element.text) {\n\t\t\t\tthrow \"All buttons should have a text placeholder.\";\n\t\t\t}\n\n\t\t\tthis.convertText ();\n\n\t\t\t// Listen to click event\n\t\t\tthis.element.addEventListener ('click', function () {\n\t\t\t\tself.trigger ('click');\n\t\t\t});\n\n\t\t};\n\n\t\t// Extend base.\n\t\tButton.prototype = new Base ();\n\n\t\tButton.prototype.setText = function (text, font, color) {\n\t\t\tvar bigtext = new BigText (text, font, color);\n\t\t\tthis.text.addChild (bigtext);\n\t\t};\n\n\t\tButton.prototype.convertText = function (){\n\n            if (this.element.text instanceof createjs.Text) {\n\n                // Overwrite origal \"bigtext\" solution.\n                var self = this;\n                this.setText = function (text) {\n                    self.element.text.text = text;\n                };\n            }\n            else {\n                this.text = new TextPlaceholder (this.element.text);\n            }\n\n\t\t};\n\n\t\tButton.prototype.keyInput = function (input) {\n\n\t\t\tswitch (input) {\n\t\t\t\tcase 'a':\n\n\t\t\t\t\tthis.trigger ('click');\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\treturn Button;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/Selectbox',[\n\t\t'CatLab/Easelbone/Controls/Base',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/BigText',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/TextPlaceholder'\n\t],\n\tfunction (\n\t\tBase,\n\t\tBigText,\n\t\tTextPlaceholder\n\t) {\n\n\t\tvar Selectbox = function (element) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.element = element;\n\t\t\tthis.checked = false;\n\n\t\t\tthis.repeat = false;\n\t\t\tthis.textcontainer = BigText;\n\n\t\t\tthis.selectedIndex = 0;\n\t\t\tthis.selectedValue = null;\n\t\t\tthis.allValues = [];\n\n\t\t\t// Check for text placeholder.\n\t\t\tif (!this.element.value) {\n\t\t\t\tthrow \"All selectboxes should have a text placeholder.\";\n\t\t\t}\n\n\t\t\tif (!this.element.buttons) {\n\t\t\t\tthrow \"All selectboxes must have a buttons object\";\n\t\t\t}\n\n\t\t\tthis.element.buttons.on ('click', function (evt) {\n\n\t\t\t\t// @TODO fix this, I don't know what's going on here...\n\t\t\t\tvar local = self.element.buttons.globalToLocal (evt.stageX, evt.stageY);\n\t\t\t\tif (local.y > 40) {\n\t\t\t\t\tself.previous ();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tself.next ();\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tthis.convertText ();\n\n\t\t};\n\n\t\t// Extend base.\n\t\tSelectbox.prototype = new Base ();\n\n\t\tSelectbox.prototype.setText = function (text, font, color) {\n\t\t\tvar bigtext = new this.textcontainer (text, font, color);\n\t\t\tthis.textElement.removeAllChildren ();\n\t\t\tthis.textElement.addChild (bigtext);\n\t\t};\n\n\t\tSelectbox.prototype.convertText = function (){\n\t\t\tthis.textElement = new TextPlaceholder (this.element.value);\n\t\t};\n\n\t\tSelectbox.prototype.setValues = function (values) {\n\n\t\t\tvar tmp = [];\n\t\t\tif (!(values instanceof Array)) {\n\t\t\t\t// Check if array of objects, or array of strings\n\t\t\t\tfor (var ind in values) {\n\t\t\t\t\tif (values.hasOwnProperty (ind)) {\n\t\t\t\t\t\tvar v = values[ind];\n\t\t\t\t\t\tif (v instanceof Object) {\n\t\t\t\t\t\t\ttmp.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// 't is a map.\n\t\t\t\t\t\t\ttmp.push({\n\t\t\t\t\t\t\t\t'text': v,\n\t\t\t\t\t\t\t\t'value': ind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < values.length; i++) {\n\t\t\t\t\ttmp.push({\n\t\t\t\t\t\t'text': values[i],\n\t\t\t\t\t\t'value': values[i]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvalues = tmp;\n\t\t\t}\n\n\t\t\tthis.allValues = tmp;\n\t\t\tthis.select (0);\n\t\t};\n\n\t\tSelectbox.prototype.getValue = function () {\n\t\t\treturn this.value;\n\t\t};\n\n\t\tSelectbox.prototype.select = function (index) {\n\n\t\t\tif (index < 0 || index > this.values.length - 1)\n\t\t\t\treturn;\n\n\t\t\tthis.selectedIndex = index;\n\t\t\tthis.selectedValue = this.values[this.selectedIndex];\n\n\t\t\tthis.setText (this.selectedValue.text);\n\t\t};\n\n\t\tSelectbox.prototype.getIndexFromText = function (value) {\n\t\t\tfor (var i = 0; i < this.allValues.length; i ++) {\n\t\t\t\tif (this.allValues[i].text == value) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tSelectbox.prototype.getIndexFromValue = function (value) {\n\t\t\tfor (var i = 0; i < this.allValues.length; i ++) {\n\t\t\t\tif (this.allValues[i].value == value) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tSelectbox.prototype.next = function () {\n\t\t\tif (this.selectedIndex < this.allValues.length - 1) {\n\t\t\t\tthis.select (this.selectedIndex + 1);\n\t\t\t}\n\t\t\telse if (this.repeat) {\n\t\t\t\tthis.select (0);\n\t\t\t}\n\t\t};\n\n\t\tSelectbox.prototype.previous = function () {\n\t\t\tif (this.selectedIndex > 0) {\n\t\t\t\tthis.select (this.selectedIndex - 1);\n\t\t\t}\n\t\t\telse if (this.repeat) {\n\t\t\t\tthis.select (this.allValues.length - 1);\n\t\t\t}\n\t\t};\n\n\t\tSelectbox.prototype.keyInput = function (input) {\n\n\t\t\tswitch (input) {\n\t\t\t\tcase 'up':\n\t\t\t\t\tthis.next ();\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'down':\n\t\t\t\t\tthis.previous ();\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\tObject.defineProperty (Selectbox.prototype, \"text\", {\n\t\t\tget: function () {\n\t\t\t\treturn this.selectedValue.text;\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\t//alert (value);\n\t\t\t\t//this.selectedValue = value;\n\t\t\t\tvar index = this.getIndexFromText (value);\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tthis.index = index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty (Selectbox.prototype, \"value\", {\n\t\t\tget : function () {\n\t\t\t\treturn this.selectedValue.value;\n\t\t\t},\n\n\t\t\tset : function (value) {\n\t\t\t\tvar index = this.getIndexFromValue (value);\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tthis.index = index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty (Selectbox.prototype, \"index\", {\n\t\t\tget : function () {\n\t\t\t\treturn this.selectedIndex;\n\t\t\t},\n\n\t\t\tset : function (value) {\n\t\t\t\tthis.select (value);\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty (Selectbox.prototype, \"values\", {\n\t\t\tget : function () {\n\t\t\t\treturn this.allValues;\n\t\t\t},\n\n\t\t\tset : function (values) {\n\t\t\t\tthis.setValues (values);\n\t\t\t}\n\t\t});\n\n\t\treturn Selectbox;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/ScrollBar',[\n\t\t'underscore',\n\n\t\t'CatLab/Easelbone/Utilities/Path'\n\t],\n\tfunction (_, Path) {\n\n\t\tvar ScrollBar = function (element) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.element = element;\n\n\t\t\tthis.element.up.on ('click', this.up, this);\n\t\t\tthis.element.down.on ('click', this.down, this);\n\n\t\t\tthis.path = new Path (this.element.minimum, this.element.maximum);\n\n\t\t\tthis.containers = [];\n\n\t\t\t// Set scroller\n\t\t\tthis.element.on ('pressmove', function (evt) {\n\t\t\t\tposition = self.element.globalToLocal (evt.stageX, evt.stageY);\n\t\t\t\tself.scrollTo (self.path.getValue (position.x, position.y));\n\t\t\t});\n\n\t\t};\n\n\t\tvar p = ScrollBar.prototype;\n\n\t\tvar heightPercentage;\n\t\tvar position;\n\n\t\tp.link = function (container) {\n\t\t\tthis.containers.push (container);\n\n\t\t\tcontainer.on ('scroll', this.onScroll, this);\n\t\t};\n\n\t\tp.up = function () {\n\t\t\t_.each (this.containers, function (v) {\n\t\t\t\tv.up ();\n\t\t\t});\n\t\t};\n\n\t\tp.down = function () {\n\t\t\t_.each (this.containers, function (v) {\n\t\t\t\tv.down ();\n\t\t\t});\n\t\t};\n\n\t\tp.getIndicatorSize = function () {\n\n\t\t\tif (this.element.indicator.bottom && this.element.indicator.top) {\n\t\t\t\tposition = {\n\t\t\t\t\t'x' : (this.element.indicator.bottom.x - this.element.indicator.top.x) * this.element.indicator.scaleX,\n\t\t\t\t\t'y' : (this.element.indicator.bottom.y - this.element.indicator.top.y) * this.element.indicator.scaleY\n\t\t\t\t};\n\t\t\t}\n\t\t\telse {\n\t\t\t\tposition = { 'x' : 0, 'y' : 0 };\n\t\t\t}\n\n\t\t\treturn position;\n\t\t};\n\n\t\tp.scrollTo = function (percentage) {\n\t\t\t_.each (this.containers, function (v) {\n\t\t\t\tv.scrollTo (percentage);\n\t\t\t});\n\t\t};\n\n\t\tp.onScroll = function (percentage) {\n\n\t\t\theightPercentage = Math.min (1, percentage.containerHeight / percentage.contentHeight);\n\n\t\t\tposition = this.getIndicatorSize ();\n\t\t\tthis.path.setIndicatorSize (position.x, position.y);\n\t\t\tthis.path.position (this.element.indicator, percentage.percentage);\n\n\t\t};\n\n\t\treturn ScrollBar;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/EaselJS/DisplayObjects/ScrollArea',[\n\t\t'EaselJS',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder',\n\t\t'jquery'\n\t],\n\tfunction (createjs, Placeholder)\n\t{\n\t\tvar ScrollArea = function (element) {\n\n\t\t\tvar self = this;\n\n\t\t\tthis.initialize ();\n\n\t\t\tvar parent = new Placeholder (element);\n\n\t\t\tparent.on ('bounds:change', function () {\n\t\t\t\t// Also set the mask.\n\t\t\t\tvar maskShape = new createjs.Shape();\n\t\t\t\tmaskShape.graphics.drawRect (0, 0, this.getBounds ().width, this.getBounds ().height);\n\n\t\t\t\tif (typeof (self.setMask) != 'undefined') {\n\t\t\t\t\tself.setMask (maskShape);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tself.mask = maskShape;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparent.addChild (this);\n\n\t\t\tthis.on ('tick', function () {\n\t\t\t\tself.setScroll (0);\n\t\t\t}, this, true);\n\n\t\t\tObject.defineProperty (this, 'scroll', {\n\t\t\t\t'set' : function (value) {\n\t\t\t\t\tthis.setScroll (value);\n\t\t\t\t},\n\t\t\t\t'get' : function () {\n\t\t\t\t\treturn this.getScroll ();\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\n\t\tvar p = ScrollArea.prototype = new Placeholder ();\n\t\tvar event;\n\n\t\tp.isActive = function () {\n\t\t\treturn this.getBounds () != null &&\n\t\t\t\tthis.parent != null &&\n\t\t\t\tthis.parent.getBounds () != null;\n\t\t};\n\n\t\tp.getFinalDestination = function (y) {\n\n\t\t\tif (!this.isActive ()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\telse if (y < 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\telse if (this.getBounds ().height - this.parent.getBounds ().height < 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\telse if (y > (this.getBounds ().height - this.parent.getBounds ().height)) {\n\t\t\t\treturn 0 - (this.getBounds ().height - this.parent.getBounds ().height);\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\treturn 0 - y;\n\t\t\t}\n\t\t};\n\n\t\tp.setScroll = function (y) {\n\n\t\t\tthis.oldY = this.y;\n\t\t\tthis.y = this.getFinalDestination (y);\n\n\t\t\tif (this.oldY != this.y) {\n\t\t\t\tthis.onScroll();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\tp.getDistance = function (y) {\n\t\t\treturn Math.abs (this.y - this.getFinalDestination (y));\n\t\t};\n\n\t\tp.getScroll = function () {\n\t\t\treturn 0 - this.y;\n\t\t};\n\n\t\tp.down = function (amount) {\n\t\t\treturn this.setScroll (this.getScroll () + amount);\n\t\t};\n\n\t\tp.up = function (amount) {\n\t\t\treturn this.setScroll (this.getScroll () - amount);\n\t\t};\n\n\t\tp.getPercentage = function () {\n\t\t\tif (!this.getBounds ()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn this.getScroll () / (this.getBounds ().height - this.parent.getBounds ().height);\n\t\t};\n\n\t\tp.focus = function (element, delay, ease) {\n\n\t\t\tvar deffered = new jQuery.Deferred ();\n\n\t\t\tif (!this.parent.getBounds ()) {\n\t\t\t\tdeffered.resolve ();\n\t\t\t\treturn deffered;\n\t\t\t}\n\n\t\t\tif (typeof (delay) == 'undefined')\n\t\t\t\tdelay = 0;\n\n\t\t\tvar y = element.y;\n\t\t\t//this.setScroll (y);\n\n\t\t\t// Center around this y position.\n\t\t\tvar height = 0;\n\t\t\tif (element.getBounds ()) {\n\t\t\t\theight = element.getBounds ().height;\n\t\t\t}\n\n\t\t\t// y should be in the middle of the screen, so...\n\t\t\tif (height < this.parent.getBounds ().height)\n\t\t\t\ty -= (this.parent.getBounds ().height / 2) - (height / 2);\n\n\t\t\tif (this.getDistance () == 0.0001) {\n\t\t\t\t// Do nothing.\n\t\t\t\tdeffered.resolve ();\n\t\t\t}\n\n\t\t\telse if (delay > 0) {\n\t\t\t\tcreatejs.Tween.get (this).to ({ 'scroll' : y }, delay, ease).call (deffered.resolve);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.scroll = y;\n\t\t\t\tdeffered.resolve ();\n\t\t\t}\n\n\t\t\treturn deffered;\n\t\t};\n\n\t\tp.scrollTo = function (percentage) {\n\n\t\t\tif (!this.getBounds ()) {\n\t\t\t\tthis.setScroll (0);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setScroll (percentage * (this.getBounds ().height - this.parent.getBounds ().height));\n\t\t};\n\n\t\tp.onScroll = function () {\n\n\t\t\tevent = new createjs.Event ('scroll');\n\t\t\tthis.dispatchEvent (event);\n\t\t};\n\n\t\treturn ScrollArea;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Utilities/Mousewheel',[],\n\tfunction () {\n\n\t\tvar MouseWheel = function () {\n\n\t\t\tvar self = this;\n\n\t\t\tdocument.body.addEventListener ('mousewheel', function (evt) {\n\t\t\t\tself.scroll (evt);\n\t\t\t})\n\n\t\t};\n\n\t\tvar p = MouseWheel.prototype;\n\n\t\tp.scroll = function (evt) {\n\n\t\t\tif (this.callback) {\n\t\t\t\tthis.callback ({ 'x' : 0, 'y' : evt.wheelDelta });\n\t\t\t}\n\n\t\t};\n\n\t\tp.listen = function (callback) {\n\n\t\t\tthis.stop ();\n\t\t\tthis.callback = callback;\n\n\t\t};\n\n\t\tp.stop = function () {\n\t\t\tthis.callback = null;\n\t\t};\n\n\t\treturn new MouseWheel ();\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/ScrollArea',[\n\t\t'CatLab/Easelbone/Controls/Base',\n\n\t\t'CatLab/Easelbone/Controls/ScrollBar',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/ScrollArea',\n\n\t\t'CatLab/Easelbone/Utilities/Mousewheel'\n\t],\n\tfunction (Base, ScrollBar, ScrollAreaDisplayObject, Mousewheel) {\n\n\t\tvar ScrollArea = function (element) {\n\n\t\t\tvar self = this;\n\t\t\tthis.element = element;\n\n\t\t\tthis.scrollbar = new ScrollBar (element.scrollbar);\n\t\t\tthis.scrollbar.link (this);\n\n\t\t\tthis.content = new ScrollAreaDisplayObject (element.content);\n\t\t\tthis.content.on ('scroll', this.onScroll, this);\n\n\t\t\t// If mouseover events are available, listen to those\n\t\t\tthis.element.on ('mouseover', this.enableScrollMouse, this);\n\t\t\tthis.element.on ('mouseout', this.disableScrollMouse, this);\n\t\t\tthis.element.on ('removed', this.disableScrollMouse, this);\n\n\t\t\t//this.scrollTo (0);\n\t\t\tthis.element.on ('added', this.onAdd, this);\n\t\t};\n\n\t\tvar p = ScrollArea.prototype = new Base ();\n\n\t\tp.enableScrollMouse = function () {\n\t\t\tvar self = this;\n\t\t\tMousewheel.listen (function (iv) {\n\t\t\t\tself.scroll (iv.y > 0 ? 50 : - 50);\n\t\t\t});\n\t\t};\n\n\t\tp.onAdd = function () {\n\t\t\tthis.scrollTo (0);\n\t\t};\n\n\t\tp.disableScrollMouse = function () {\n\t\t\tMousewheel.stop ();\n\t\t};\n\n\t\tp.onScroll = function (evt) {\n\n\t\t\tvar perc = {\n\t\t\t\t'percentage' : this.content.getPercentage (),\n\t\t\t\t'contentHeight' : this.content.getBounds ().height,\n\t\t\t\t'containerHeight' : this.content.parent.getBounds ().height\n\t\t\t};\n\n\t\t\tthis.trigger ('scroll', perc);\n\t\t};\n\n\t\tp.scrollTo = function (percentage) {\n\t\t\tthis.content.scrollTo (percentage);\n\t\t};\n\n\t\tp.scroll = function (pixels) {\n\t\t\tthis.content.up (pixels);\n\t\t};\n\n\t\tp.up = function () {\n\t\t\tthis.content.up (25);\n\t\t};\n\n\t\tp.down = function () {\n\t\t\tthis.content.down (25);\n\t\t};\n\n\t\tp.focus = function (element, delay, ease) {\n\t\t\treturn this.content.focus (element, delay, ease);\n\t\t};\n\n\t\treturn ScrollArea;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/ListElement',[],\n\tfunction () {\n\n\t\tvar ListElement = function (element) {\n\n\t\t\tthis.element = element;\n\n\t\t};\n\n\t\tvar p = ListElement.prototype;\n\n\t\tp.focus = function () {\n\t\t\tthis.dispatchEvent ('focus');\n\t\t};\n\n\t\treturn ListElement;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/List',[\n\t\t'EaselJS',\n\n\t\t'CatLab/Easelbone/Controls/ListElement'\n\t],\n\tfunction (createjs, ListElement)\n\t{\n\t\tvar List = function (childElement) {\n\n\t\t\tthis.initialize ();\n\n\t\t\tthis.listItems = [];\n\n\t\t\tif (typeof (childElement) != 'undefined') {\n\t\t\t\tthis.setChildElement (childElement);\n\t\t\t}\n\t\t};\n\n\t\tvar p = List.prototype = new createjs.Container ();\n\n\t\tp.setChildElement = function (element) {\n\t\t\tthis.childElement = element;\n\n\t\t\tvar tmpElement = new element ();\n\t\t\tthis.boundary = {\n\t\t\t\t'x' : tmpElement.boundary.x,\n\t\t\t\t'y' : tmpElement.boundary.y\n\t\t\t};\n\t\t};\n\n\t\tp.getChildElement = function () {\n\t\t\tif (typeof (this.childElement) == 'undefined') {\n\t\t\t\tthrow \"No child element set.\";\n\t\t\t}\n\t\t\treturn this.childElement;\n\t\t};\n\n\t\tp.updateBounds = function () {\n\t\t\tthis.setBounds (\n\t\t\t\t0, 0,\n\t\t\t\tthis.boundary.x, (this.boundary.y * (this.listItems.length))\n\t\t\t);\n\t\t};\n\n\t\tp.createElement = function () {\n\n\t\t\tvar child = new ListElement (new (this.getChildElement ()) ());\n\t\t\tthis.listItems.push (child);\n\n\t\t\tthis.addChild (child.element);\n\t\t\tchild.element.y = (this.boundary.y * (this.listItems.length - 1));\n\n\t\t\tthis.updateBounds ();\n\n\t\t\treturn child;\n\t\t};\n\n\t\treturn List;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/Controls/FloatContainer',[\n\t\t'EaselJS',\n\n\t\t'CatLab/Easelbone/Controls/ListElement'\n\t],\n\tfunction (createjs, ListElement)\n\t{\n\t\tvar List = function (childElement, columns) {\n\n\t\t\tthis.initialize ();\n\n\t\t\tthis.listItems = [];\n\n\t\t\tif (typeof (childElement) != 'undefined') {\n\t\t\t\tthis.setChildElement (childElement);\n\t\t\t}\n\n\t\t\tthis.rows = 0;\n\t\t\tthis.columns = columns;\n\t\t\tthis.currentColumn = 0;\n\t\t};\n\n\t\tvar p = List.prototype = new createjs.Container ();\n\n\t\tp.setChildElement = function (element) {\n\t\t\tthis.childElement = element;\n\n\t\t\tvar tmpElement = this.getChildElement ();\n\t\t\tthis.boundary = {\n\t\t\t\t'x' : tmpElement.boundary.x,\n\t\t\t\t'y' : tmpElement.boundary.y\n\t\t\t};\n\t\t};\n\n\t\tp.getChildElement = function (options) {\n\t\t\tif (typeof (this.childElement) == 'undefined') {\n\t\t\t\tthrow \"No child element set.\";\n\t\t\t}\n\n\t\t\tif (this.childElement.prototype instanceof createjs.DisplayObject) {\n\t\t\t\treturn new this.childElement ();\n\t\t\t}\n\t\t\t\n\t\t\treturn this.childElement (options);\n\t\t};\n\n\t\tp.updateBounds = function () {\n\t\t\tthis.setBounds (\n\t\t\t\t0, 0,\n\t\t\t\tthis.boundary.x * this.columns, (this.boundary.y * this.rows)\n\t\t\t);\n\t\t};\n\n\t\tp.nextRow = function () {\n\t\t\tthis.currentColumn = 1;\n\t\t\tthis.rows ++;\n\t\t};\n\n\t\tp.getNextPosition = function () {\n\n\t\t\tvar out = {};\n\n\t\t\tthis.currentColumn ++;\n\t\t\tif (this.currentColumn > this.columns) {\n\t\t\t\tthis.nextRow ();\n\t\t\t}\n\n\t\t\tout.x = this.boundary.x * (this.currentColumn - 1);\n\t\t\tout.y = this.boundary.y * (this.rows);\n\n\t\t\treturn out;\n\t\t};\n\n\t\tp.createElement = function (options) {\n\n\t\t\tvar child = new ListElement (this.getChildElement (options));\n\t\t\tthis.listItems.push (child);\n\n\t\t\tthis.addChild (child.element);\n\n\t\t\t// Check if there is space getPleft on the current row.\n\t\t\tvar pos = this.getNextPosition ();\n\n\t\t\tchild.element.x = pos.x;\n\t\t\tchild.element.y = pos.y;\n\n\t\t\tthis.updateBounds ();\n\n\t\t\treturn child;\n\t\t};\n\n        p.removeAllChildren_container = p.removeAllChildren;\n\n        p.removeAllChildren = function () {\n\n            this.currentColumn = 0;\n            this.rows = 0;\n\n            this.removeAllChildren_container.apply (this, arguments);\n\n        };\n\n\t\treturn List;\n\t}\n);\n","define (\n\t'CatLab/Easelbone/EaselJS/DisplayObjects/Background',[\n\t\t'EaselJS'\n\t],\n\tfunction (createjs)\n\t{\n\t\tvar width;\n\t\tvar height;\n\t\tvar debug = false;\n\t\tvar hash;\n\t\tvar hasChanged = false;\n\n\t\tvar Background = function (background)\n\t\t{\n\t\t\tif (\n\t\t\t\tbackground instanceof Image ||\n\t\t\t\tbackground instanceof HTMLImageElement\n\t\t\t) {\n\t\t\t\tthis.bitmap = new createjs.Bitmap (background);\n\t\t\t}\n\t\t\telse if (background instanceof createjs.Bitmap) {\n\t\t\t\tthis.bitmap = background;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.color = background;\n\t\t\t}\n\t\t\t\n\t\t\tthis.initialize ();\n\t\t\tthis.initialized = false;\n\t\t\tthis.limits = null;\n\n\t\t\tthis.debug = debug;\n\t\t};\n\n\t\tvar p = Background.prototype = new createjs.Container ();\n\n\t\tp.Container_initialize = p.initialize;\n\n\t\tp.initialize = function() {\n\t\t\tthis.Container_initialize ();\n\t\t};\n\n\t\tp.isVisible = function () {\n\t\t\treturn true;\n\t\t};\n\n\t\tp.setLimits = function (width, height) {\n\t\t\tthis.limits = { 'width' : width, 'height' : height };\n\t\t};\n\n\t\tp.getAvailableSpace = function ()\n\t\t{\n\t\t\tif (this.limits !== null)\n\t\t\t{\n\t\t\t\treturn this.limits;\n\t\t\t}\n\n\t\t\telse if (this.parent)\n\t\t\t{\n\t\t\t\twidth = this.parent.getBounds ().width;\n\t\t\t\theight = this.parent.getBounds ().height\n\t\t\t}\n\t\t\telse if (this.getBounds ())\n\t\t\t{\n\t\t\t\twidth = this.getBounds ().width;\n\t\t\t\theight = this.getBounds ().height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twidth = 100;\n\t\t\t\theight = 100;\n\t\t\t}\n\n\t\t\treturn { 'width' : width, 'height' : height };\n\t\t};\n\n\t\tp.Container_draw = p.draw;\n\n\t\tp.getLocationHash = function () {\n\t\t\thash = this.getAvailableSpace ();\n\t\t\treturn hash.width + ':' + hash.height;\n\t\t};\n\n\t\t/**\n\t\t * Determine if the dimensions have changed since last frame.\n\t\t * @returns {boolean}\n\t\t */\n\t\tp.hasChanged = function () {\n\t\t\thash = this.getLocationHash ();\n\t\t\thasChanged = this.lastHash != hash;\n\t\t\tthis.lastHash = hash;\n\n\t\t\treturn hasChanged;\n\t\t};\n\n\t\tp.draw = function (ctx, ignoreCache)\n\t\t{\n\t\t\tif (this.initialized && !this.hasChanged ())\n\t\t\t{\n\t\t\t\treturn this.Container_draw (ctx, ignoreCache);\n\t\t\t}\n\n\t\t\tthis.initialized = true;\n\n\t\t\tthis.removeAllChildren ();\n\n\t\t\tvar space = this.getAvailableSpace ();\n\n\t\t\t// Background color!\n\t\t\tif (this.color) {\n\t\t\t\tvar border = new createjs.Shape();\n\n\t\t\t\tborder.graphics.setStrokeStyle(0);\n\t\t\t\tborder.graphics.beginFill(this.color);\n\t\t\t\tborder.graphics.beginStroke(this.color);\n\t\t\t\tborder.snapToPixel = true;\n\t\t\t\tborder.graphics.drawRect(0, 0, space.width, space.height);\n\n\t\t\t\tthis.addChild(border);\n\t\t\t}\n\t\t\telse if (this.bitmap) {\n\n\t\t\t\tthis.bitmap.scaleX = (space.width / this.bitmap.getBounds ().width);\n\t\t\t\tthis.bitmap.scaleY = (space.height / this.bitmap.getBounds ().height);\n\n\t\t\t\tthis.addChild (this.bitmap);\n\n\t\t\t}\n\t\n\t\t\treturn this.Container_draw (ctx, ignoreCache);\n\t\t};\n\n\t\tcreatejs.Background = Background;\n\t\treturn Background;\n\t}\n);\n","/*\n * ButtonHelper\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2010 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @module EaselJS\n */\n\n// namespace:\n//this.createjs = this.createjs||{};\n\ndefine ('CatLab/Easelbone/EaselJS/DisabledButtonHelper',['EaselJS'], function (createjs)\n{\n\n\t/**\n\t * The ButtonHelper is a helper class to create interactive buttons from {{#crossLink \"MovieClip\"}}{{/crossLink}} or\n\t * {{#crossLink \"Sprite\"}}{{/crossLink}} instances. This class will intercept mouse events from an object, and\n\t * automatically call {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}},\n\t * to the respective animation labels, add a pointer cursor, and allows the user to define a hit state frame.\n\t *\n\t * The ButtonHelper instance does not need to be added to the stage, but a reference should be maintained to prevent\n\t * garbage collection.\n\t *\n\t * Note that over states will not work unless you call {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var helper = new createjs.ButtonHelper(myInstance, \"out\", \"over\", \"down\", false, myInstance, \"hit\");\n\t *      myInstance.addEventListener(\"click\", handleClick);\n\t *      function handleClick(event) {\n *          // Click Happened.\n *      }\n\t *\n\t * @class ButtonHelper\n\t * @param {Sprite|MovieClip} target The instance to manage.\n\t * @param {String} [outLabel=\"out\"] The label or animation to go to when the user rolls out of the button.\n\t * @param {String} [overLabel=\"over\"] The label or animation to go to when the user rolls over the button.\n\t * @param {String} [downLabel=\"down\"] The label or animation to go to when the user presses the button.\n\t * @param {Boolean} [play=false] If the helper should call \"gotoAndPlay\" or \"gotoAndStop\" on the button when changing\n\t * states.\n\t * @param {DisplayObject} [hitArea] An optional item to use as the hit state for the button. If this is not defined,\n\t * then the button's visible states will be used instead. Note that the same instance as the \"target\" argument can be\n\t * used for the hitState.\n\t * @param {String} [hitLabel] The label or animation on the hitArea instance that defines the hitArea bounds. If this is\n\t * null, then the default state of the hitArea will be used. *\n\t * @constructor\n\t */\n\tvar DisabledButtonHelper = function(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel) {\n\t\tthis.initialize(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel);\n\t};\n\tvar p = DisabledButtonHelper.prototype;\n\n// public properties:\n\t/**\n\t * The target for this button helper.\n\t * @property target\n\t * @type MovieClip | Sprite\n\t * @readonly\n\t **/\n\tp.target = null;\n\n\t/**\n\t * The label name or frame number to display when the user mouses out of the target. Defaults to \"over\".\n\t * @property overLabel\n\t * @type String | Number\n\t **/\n\tp.overLabel = null;\n\n\t/**\n\t * The label name or frame number to display when the user mouses over the target. Defaults to \"out\".\n\t * @property outLabel\n\t * @type String | Number\n\t **/\n\tp.outLabel = null;\n\n\t/**\n\t * The label name or frame number to display when the user presses on the target. Defaults to \"down\".\n\t * @property downLabel\n\t * @type String | Number\n\t **/\n\tp.downLabel = null;\n\n\t/**\n\t * If true, then ButtonHelper will call gotoAndPlay, if false, it will use gotoAndStop. Default is false.\n\t * @property play\n\t * @default false\n\t * @type Boolean\n\t **/\n\tp.play = false;\n\n// getter / setters:\n\n\t/**\n\t * Enables or disables the button functionality on the target.\n\t * @property enabled\n\t * @type {Boolean}\n\t **/\n\t/**\n\t * Enables or disables the button functionality on the target.\n\t * @deprecated in favour of the enabled property.\n\t * @method setEnabled\n\t * @param {Boolean} value\n\t **/\n\tp.setEnabled = function(value) { // TODO: deprecated.\n\n\t\t/*\n\t\t var o = this.target;\n\t\t this._enabled = value;\n\t\t if (value) {\n\t\t o.cursor = \"pointer\";\n\t\t o.addEventListener(\"rollover\", this);\n\t\t o.addEventListener(\"rollout\", this);\n\t\t o.addEventListener(\"mousedown\", this);\n\t\t o.addEventListener(\"pressup\", this);\n\t\t } else {\n\t\t o.cursor = null;\n\t\t o.removeEventListener(\"rollover\", this);\n\t\t o.removeEventListener(\"rollout\", this);\n\t\t o.removeEventListener(\"mousedown\", this);\n\t\t o.removeEventListener(\"pressup\", this);\n\t\t }\n\t\t */\n\t};\n\t/**\n\t * Returns enabled state of this instance.\n\t * @deprecated in favour of the enabled property.\n\t * @method getEnabled\n\t * @return {Boolean} The last value passed to setEnabled().\n\t **/\n\tp.getEnabled = function() {\n\t\treturn this._enabled;\n\t};\n\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tenabled: { get: p.getEnabled, set: p.setEnabled }\n\t\t});\n\t} catch (e) {} // TODO: use Log\n\n//  private properties\n\t/**\n\t * @property _isPressed\n\t * @type Boolean\n\t * @protected\n\t **/\n\tp._isPressed = false;\n\n\t/**\n\t * @property _isOver\n\t * @type Boolean\n\t * @protected\n\t **/\n\tp._isOver = false;\n\n\t/**\n\t * @property _enabled\n\t * @type Boolean\n\t * @protected\n\t **/\n\tp._enabled = false;\n\n// constructor:\n\t/**\n\t * Initialization method.\n\t * @method initialize\n\t * @param {Sprite|MovieClip} target The instance to manage.\n\t * @param {String} [outLabel=\"out\"] The label or animation to go to when the user rolls out of the button.\n\t * @param {String} [overLabel=\"over\"] The label or animation to go to when the user rolls over the button.\n\t * @param {String} [downLabel=\"down\"] The label or animation to go to when the user presses the button.\n\t * @param {Boolean} [play=false] If the helper should call \"gotoAndPlay\" or \"gotoAndStop\" on the button when changing\n\t * states.\n\t * @param {DisplayObject} [hitArea] An optional item to use as the hit state for the button. If this is not defined,\n\t * then the button's visible states will be used instead. Note that the same instance as the \"target\" argument can be\n\t * used for the hitState.\n\t * @param {String} [hitLabel] The label or animation on the hitArea instance that defines the hitArea bounds. If this is\n\t * null, then the default state of the hitArea will be used.\n\t * @protected\n\t **/\n\tp.initialize = function(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel) {\n\t\tif (!target.addEventListener) { return; }\n\t\tthis.target = target;\n\t\ttarget.mouseChildren = false; // prevents issues when children are removed from the display list when state changes.\n\t\tthis.overLabel = overLabel == null ? \"over\" : overLabel;\n\t\tthis.outLabel = outLabel == null ? \"out\" : outLabel;\n\t\tthis.downLabel = downLabel == null ? \"down\" : downLabel;\n\t\tthis.play = play;\n\t\tthis.setEnabled(true);\n\t\tthis.handleEvent({});\n\t\tif (hitArea) {\n\t\t\tif (hitLabel) {\n\t\t\t\thitArea.actionsEnabled = false;\n\t\t\t\thitArea.gotoAndStop&&hitArea.gotoAndStop(hitLabel);\n\t\t\t}\n\t\t\ttarget.hitArea = hitArea;\n\t\t}\n\t};\n\n// public methods:\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[DisabledButtonHelper]\";\n\t};\n\n\n// protected methods:\n\t/**\n\t * @method handleEvent\n\t * @param {Object} evt The mouse event to handle.\n\t * @protected\n\t **/\n\tp.handleEvent = function(evt) {\n\t\tvar label, t = this.target, type = evt.type;\n\t\tif (type == \"mousedown\") {\n\t\t\tthis._isPressed = true;\n\t\t\tlabel = this.downLabel;\n\t\t} else if (type == \"pressup\") {\n\t\t\tthis._isPressed = false;\n\t\t\tlabel = this._isOver ? this.overLabel : this.outLabel;\n\t\t} else if (type == \"rollover\") {\n\t\t\tthis._isOver = true;\n\t\t\tlabel = this._isPressed ? this.downLabel : this.overLabel;\n\t\t} else { // rollout and default\n\t\t\tthis._isOver = false;\n\t\t\tlabel = this._isPressed ? this.overLabel : this.outLabel;\n\t\t}\n\t\tif (this.play) {\n\t\t\tt.gotoAndPlay&&t.gotoAndPlay(label);\n\t\t} else {\n\t\t\tt.gotoAndStop&&t.gotoAndStop(label);\n\t\t}\n\t};\n\n\treturn DisabledButtonHelper;\n});\n","define (\n\t'CatLab/FakeWebremote/Models/User',[],\n\tfunction ()\n\t{\n\t\treturn function (aAccessToken)\n\t\t{\n\t\t\tvar accessToken = aAccessToken;\n\t\t\tvar name;\n\t\t\tvar avatar;\n\t\t\tvar id;\n\n\t\t\tthis.getAccessToken = function ()\n\t\t\t{\n\t\t\t\treturn accessToken;\n\t\t\t};\n\n\t\t\tthis.setId = function (aId)\n\t\t\t{\n\t\t\t\tid = aId;\n\t\t\t};\n\n\t\t\tthis.getId = function ()\n\t\t\t{\n\t\t\t\treturn id;\n\t\t\t};\n\n\t\t\tthis.setName = function (aName)\n\t\t\t{\n\t\t\t\tname = aName;\n\t\t\t};\n\n\t\t\tthis.getName = function ()\n\t\t\t{\n\t\t\t\treturn name;\n\t\t\t};\n\n\t\t\tthis.setAvatar = function (aAvatar)\n\t\t\t{\n\t\t\t\tavatar = aAvatar;\n\t\t\t};\n\n\t\t\tthis.getAvatar = function ()\n\t\t\t{\n\t\t\t\treturn avatar;\n\t\t\t};\n\t\t};\n\t}\n);\n","define (\n\t'CatLab/FakeWebremote/Models/Control',[],\n\tfunction () {\n\t\treturn function (id, user)\n\t\t{\n\t\t\tvar value = 0;\n\t\t\tvar listeners = {};\n\t\t\tvar i;\n\t\t\tvar m_label = id;\n\t\t\tvar m_label_type;\n\t\t\tvar domwatchers = [];\n\n\t\t\tthis.id = id;\n\n\t\t\tthis.pushed = function ()\n\t\t\t{\n\t\t\t\treturn value === 0;\n\t\t\t};\n\n\t\t\tthis.scale = function ()\n\t\t\t{\n\t\t\t\treturn value;\n\t\t\t};\n\n\t\t\tthis.update = function (newvalue)\n\t\t\t{\n\t\t\t\tif (value > 0 && newvalue == 0)\n\t\t\t\t{\n\t\t\t\t\tthis.trigger ('click');\n\t\t\t\t}\n\t\t\t\tvalue = newvalue;\n\t\t\t};\n\n\t\t\tthis.getLabel = function ()\n\t\t\t{\n\t\t\t\treturn '<span class=\"control-label ' + m_label_type + '\">' + m_label + '</span>';\n\t\t\t};\n\n\t\t\tthis.setStaticLabel = function (label, type)\n\t\t\t{\n\t\t\t\tm_label = label;\n\t\t\t\tm_label_type = type;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tthis.setLabel = function (label, force)\n\t\t\t{\n\t\t\t\t// Networky stuff to set the label\n\t\t\t\tuser.emit ('button:label', { 'id' : id, 'label' : label });\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Event will be called any time specific button is clicked (= released)\n\t\t\t */\n\t\t\tthis.click = function (callback)\n\t\t\t{\n\t\t\t\tthis.on ('click', callback);\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.on = function (event, callback)\n\t\t\t{\n\t\t\t\t//this.log ('Setting trigger ' + event);\n\t\t\t\tif (typeof (listeners[event]) == 'undefined')\n\t\t\t\t{\n\t\t\t\t\tlisteners[event] = [];\n\t\t\t\t}\n\t\t\t\tlisteners[event].push (callback);\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.trigger = function (event)\n\t\t\t{\n\t\t\t\t//this.log (\"Triggering \" + event);\n\n\t\t\t\tvar todo = [];\n\n\t\t\t\tif (typeof (listeners[event]) != 'undefined')\n\t\t\t\t{\n\t\t\t\t\t//this.log (\"Found \" + listeners[event].length + \" events\");\n\n\t\t\t\t\tfor (i = 0; i < listeners[event].length; i ++)\n\t\t\t\t\t{\n\t\t\t\t\t\ttodo.push (listeners[event][i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0; i < todo.length; i ++)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttodo[i] ();\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log (e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.off = function (event)\n\t\t\t{\n\t\t\t\tlisteners[event] = [];\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.clearEvents = function ()\n\t\t\t{\n\t\t\t\t//this.log ('Clearing events');\n\n\t\t\t\tlisteners = {};\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.addDomElement = function (element)\n\t\t\t{\n\t\t\t\tvar self = this;\n\t\t\t\tvar listeners = [];\n\n\t\t\t\tlisteners.push (element.addEventListener ('click', function ()\n\t\t\t\t{\n\t\t\t\t\tself.trigger ('click');\n\t\t\t\t}));\n\n\t\t\t\tdomwatchers.push ({ 'element' : element, 'listeners' : listeners });\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.clearDomElements = function ()\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < domwatchers.length; i ++)\n\t\t\t\t{\n\t\t\t\t\tfor (var j = 0; j < domwatchers[i].listeners.length; j ++)\n\t\t\t\t\t{\n\t\t\t\t\t\tdomwatchers[i].element.removeEventListener ('click', domwatchers[i].listeners[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdomwatchers = [];\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.isLocalAuthentication = function ()\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tthis.log = function (msg)\n\t\t\t{\n\t\t\t\tuser.log ('[' + this.id + '] ' + msg);\n\t\t\t};\n\t\t};\n\t}\n);\n","define (\n\t'CatLab/FakeWebremote/Models/ControlUser',[\n\t\t'CatLab/FakeWebremote/Models/User',\n\t\t'CatLab/FakeWebremote/Models/Control'\n\t],\n\tfunction (User, WebcontrolControl) {\n\n\t\tvar WebcontrolUser = function (data) {\n\t\t\tthis.initialize (data);\n\t\t};\n\n\t\tWebcontrolUser.prototype = User;\n\n\t\tWebcontrolUser.prototype.setWebcontrol = function (Webcontrol) {\n\t\t\tthis.Webcontrol = Webcontrol;\n\t\t};\n\n\t\tWebcontrolUser.prototype.initialize = function (data)\n\t\t{\n\t\t\tthis.controls = {};\n\t\t\tthis.currentView = null;\n\t\t\tthis.color = 'orange';\n\t\t\tthis.colorName = 'orange';\n\t\t\tthis.tmpid = null;\n\t\t\tthis.active = false;\n\n\t\t\tthis.userdata = data;\n\t\t\tthis.profiledata = {};\n\n\t\t\tthis.access_token = null;\n\t\t};\n\n\t\tWebcontrolUser.prototype.clearControls = function ()\n\t\t{\n\t\t\tif (this.currentView != null)\n\t\t\t{\n\t\t\t\tvar labels = this.Webcontrol.getViewLabels (this.currentView);\n\t\t\t\tfor (var i = 0; i < labels.length; i ++)\n\t\t\t\t{\n\t\t\t\t\tthis.control(labels[i].id).setStaticLabel (labels[i].label, 'mobile');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWebcontrolUser.prototype.clearEvents = function ()\n\t\t{\n\t\t\t//this.log ('Clearing events');\n\t\t\tfor (this.tmpid in this.controls)\n\t\t\t{\n\t\t\t\tif (this.controls.hasOwnProperty (this.tmpid))\n\t\t\t\t{\n\t\t\t\t\tthis.controls[this.tmpid].clearEvents ();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWebcontrolUser.prototype.trigger = function (method, data)\n\t\t{\n\t\t\tif (method == 'button:down')\n\t\t\t{\n\t\t\t\tthis.control (data.id).update (1);\n\t\t\t}\n\n\t\t\telse if (method == 'button:up')\n\t\t\t{\n\t\t\t\tthis.control (data.id).update (0);\n\t\t\t}\n\n\t\t\telse if (method == 'user:login')\n\t\t\t{\n\t\t\t\tthis.login (data);\n\t\t\t}\n\n\t\t\telse if (method == 'user:logout')\n\t\t\t{\n\t\t\t\tthis.logout (data);\n\t\t\t}\n\t\t};\n\n\t\tWebcontrolUser.prototype.emit = function (method, data)\n\t\t{\n\t\t\tthis.Webcontrol._playerEmit (this, method, data);\n\t\t\treturn true;\n\t\t};\n\n\t\tWebcontrolUser.prototype.control = function (id)\n\t\t{\n\t\t\tvar self = this;\n\t\t\tif (typeof (this.controls[id]) == 'undefined')\n\t\t\t{\n\t\t\t\tthis.controls[id] = new WebcontrolControl (id, self);\n\t\t\t}\n\t\t\treturn this.controls[id];\n\t\t};\n\n\t\tWebcontrolUser.prototype.getId = function ()\n\t\t{\n\t\t\treturn this.userdata.id;\n\t\t};\n\n\t\tWebcontrolUser.prototype.getName = function ()\n\t\t{\n\t\t\treturn 'User ' + this.getId ();\n\t\t};\n\n\t\tWebcontrolUser.prototype.getType = function ()\n\t\t{\n\t\t\treturn 'mobile';\n\t\t};\n\n\t\tWebcontrolUser.prototype.getIcon = function ()\n\t\t{\n\t\t\treturn 'fa fa-mobile-phone';\n\t\t};\n\n\t\tWebcontrolUser.prototype.login = function (data)\n\t\t{\n\t\t\tvar self = this;\n\n\t\t\tthis.access_token = data.access_token;\n\n\t\t\tthis.Webcontrol.getOAuthClient (function (client)\n\t\t\t{\n\t\t\t\tclient.profile  (self.access_token, function (data)\n\t\t\t\t{\n\t\t\t\t\tself.profiledata = data.user;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tWebcontrolUser.prototype.getData = function ()\n\t\t{\n\t\t\treturn this.profiledata;\n\t\t};\n\n\t\tWebcontrolUser.prototype.logout = function (data)\n\t\t{\n\t\t\tthis.profiledata = null;\n\t\t\tthis.access_token = null;\n\t\t};\n\n\t\tWebcontrolUser.prototype.setColor = function (aColor, colorName)\n\t\t{\n\t\t\tthis.color = aColor;\n\t\t\tthis.colorName = colorName;\n\t\t\tthis.emit ('color:set', { 'color' : aColor, 'name' : colorName });\n\t\t};\n\n\t\tWebcontrolUser.prototype.getColor = function ()\n\t\t{\n\t\t\treturn this.color;\n\t\t};\n\n\t\tWebcontrolUser.prototype.getColorName = function ()\n\t\t{\n\t\t\treturn this.colorName;\n\t\t};\n\n\t\tWebcontrolUser.prototype.isActive = function ()\n\t\t{\n\t\t\treturn this.active;\n\t\t};\n\n\t\tWebcontrolUser.prototype.toggleActive = function ()\n\t\t{\n\t\t\tthis.active = !this.active;\n\t\t\tthis.setLabel();\n\t\t};\n\n\t\tWebcontrolUser.prototype.setActive = function (bool)\n\t\t{\n\t\t\tthis.active = bool;\n\t\t\tthis.setLabel();\n\t\t};\n\n\t\tWebcontrolUser.prototype.setLabel = function ()\n\t\t{\n\t\t\tif (this.active==true){\n\t\t\t\tthis.control ('join-game').setLabel ('LEAVE');\n\t\t\t}else{\n\t\t\t\tthis.control ('join-game').setLabel ('JOIN');\n\t\t\t}\n\t\t};\n\n\t\tWebcontrolUser.prototype.setView = function (id)\n\t\t{\n\t\t\tthis.currentView = id;\n\n\t\t\t// Clear controls\n\t\t\tthis.clearControls ();\n\n\t\t\t// Set view\n\t\t\tthis.emit ('view:set', { 'id' : id });\n\t\t};\n\n\t\tWebcontrolUser.prototype.setUserData = function (access_key, userdata)\n\t\t{\n\t\t\tconsole.log ('Setting user data: ', access_key, userdata);\n\t\t};\n\n\t\tWebcontrolUser.prototype.isLocalAuthentication = function ()\n\t\t{\n\t\t\treturn true;\n\t\t};\n\n\t\tWebcontrolUser.prototype.log = function (string)\n\t\t{\n\t\t\tconsole.log (\"[u:\" + this.getId () + \"] \" + string);\n\t\t};\n\n\t\treturn WebcontrolUser;\n\t}\n);\n","define (\n\t'CatLab/FakeWebremote/Models/KeyboardUser',[\n\t\t'CatLab/FakeWebremote/Models/ControlUser'\n\t],\n\tfunction (User)\n\t{\n\n\t\tvar KeyboardUser = function (keys) {\n\t\t\tif (typeof (keys) == 'undefined') {\n\t\t\t\tkeys = [\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'up',\n\t\t\t\t\t\t'label': '',\n\t\t\t\t\t\t'key': 38\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'down',\n\t\t\t\t\t\t'label': '',\n\t\t\t\t\t\t'key': 40\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'right',\n\t\t\t\t\t\t'label': '',\n\t\t\t\t\t\t'key': 39\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'left',\n\t\t\t\t\t\t'label': '',\n\t\t\t\t\t\t'key': 37\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'a',\n\t\t\t\t\t\t'label': 'A',\n\t\t\t\t\t\t'key': 65\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'b',\n\t\t\t\t\t\t'label': 'B',\n\t\t\t\t\t\t'key': 66\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'x',\n\t\t\t\t\t\t'label': 'X',\n\t\t\t\t\t\t'key': 88\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'y',\n\t\t\t\t\t\t'label': 'Y',\n\t\t\t\t\t\t'key': 89\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'join-game',\n\t\t\t\t\t\t'label': 'SPACE',\n\t\t\t\t\t\t'key': 32\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': 'start-game',\n\t\t\t\t\t\t'label': 'ENTER',\n\t\t\t\t\t\t'key': 13\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tthis.keys = keys;\n\n\t\t\tthis.initialize ({ 'id' : 'keyboard' });\n\n\t\t\tvar controls = {};\n\t\t\tvar self = this;\n\n\t\t\tvar control;\n\t\t\tvar i = 0;\n\n\t\t\t// Attach the events\n\t\t\tdocument.addEventListener('keydown', function (e) {\n\t\t\t\tcontrol = getControlFromKey(e.keyCode);\n\t\t\t\tif (control) {\n\t\t\t\t\tcontrol.update(1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdocument.addEventListener('keyup', function (e) {\n\t\t\t\tcontrol = getControlFromKey(e.keyCode);\n\t\t\t\tif (control) {\n\t\t\t\t\tcontrol.update(0);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction getControlFromKey(keycode) {\n\t\t\t\tfor (i = 0; i < keys.length; i++) {\n\t\t\t\t\tif (keys[i].key == keycode) {\n\t\t\t\t\t\tcontrol = self.control (keys[i].id);\n\t\t\t\t\t\treturn control;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tthis.clearControls = function () {\n\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\tthis.control (keys[i].id).setStaticLabel(keys[i].label, 'keyboard');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getType = function () {\n\t\t\t\treturn 'keyboard';\n\t\t\t};\n\n\t\t\tthis.getIcon = function () {\n\t\t\t\treturn 'fa fa-keyboard-o';\n\t\t\t};\n\n\t\t\tthis.setView = function (id) {\n\t\t\t\t// Clear controls\n\t\t\t\tthis.clearControls();\n\t\t\t};\n\n\t\t\tthis.emit = function (method, data) {\n\t\t\t\t// Keyboard. Do nothing.\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tthis.isLocalAuthentication = function ()\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\t// Set labels\n\t\t\tthis.clearControls();\n\t\t};\n\n\t\tKeyboardUser.prototype = new User ();\n\t\tKeyboardUser.prototype.constructor = KeyboardUser;\n\n\t\treturn KeyboardUser;\n\n\t}\n);\n","define (\n\t'CatLab/Easelbone/FrontController',[\n\t\t'CatLab/Easelbone/Utilities/Loader',\n\n\t\t'CatLab/Easelbone/Views/Root',\n\t\t'CatLab/Easelbone/Views/Base',\n        'CatLab/Easelbone/Views/Layer',\n\t\t'CatLab/Easelbone/Views/Navigatable',\n\n\t\t'CatLab/Easelbone/Controls/Slider',\n\t\t'CatLab/Easelbone/Controls/Checkbox',\n\t\t'CatLab/Easelbone/Controls/Button',\n\t\t'CatLab/Easelbone/Controls/Selectbox',\n\n\t\t'CatLab/Easelbone/Controls/ScrollBar',\n\t\t'CatLab/Easelbone/Controls/ScrollArea',\n\t\t'CatLab/Easelbone/Controls/List',\n\t\t'CatLab/Easelbone/Controls/FloatContainer',\n\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/BigText',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/Placeholder',\n\t\t'CatLab/Easelbone/EaselJS/DisplayObjects/Background',\n\n\t\t'CatLab/Easelbone/EaselJS/DisabledButtonHelper',\n\n\t\t'CatLab/Easelbone/Utilities/GlobalProperties',\n\n\t\t'CatLab/FakeWebremote/Models/KeyboardUser'\n\t],\n\tfunction (\n\t\tLoader,\n\n\t\tRootView,\n\t\tBaseView,\n        LayerView,\n\t\tNavigatableView,\n\n\t\tSliderControl,\n\t\tCheckboxControl,\n\t\tButtonControl,\n\t\tSelectboxControl,\n\n\t\tScrollBar,\n\t\tScrollArea,\n\t\tListControl,\n\t\tFloatContainer,\n\n\t\tBigText,\n\t\tPlaceholder,\n\t\tBackground,\n\n\t\tDisabledButtonHelper,\n\n\t\tGlobalProperties,\n\n\t\tKeyboardUser\n\t) {\n\n\n\n\t\treturn {\n\n\t\t\t'initialize' : function () {\n\n\n\n\t\t\t},\n\n\t\t\t'setProperties' : function (properties) {\n\t\t\t\tGlobalProperties.set (properties);\n\t\t\t},\n\n\t\t\t'Views' : {\n\t\t\t\t'Root' : RootView,\n\t\t\t\t'Base' : BaseView,\n                'Layer' : LayerView,\n\t\t\t\t'Navigatable' : NavigatableView\n\t\t\t},\n\n\t\t\t'Controls' : {\n\t\t\t\t'Slider' : SliderControl,\n\t\t\t\t'Checkbox' : CheckboxControl,\n\t\t\t\t'Button' : ButtonControl,\n\t\t\t\t'Selectbox' : SelectboxControl,\n\t\t\t\t'ScrollBar' : ScrollBar,\n\t\t\t\t'ScrollArea' : ScrollArea,\n\t\t\t\t'List' : ListControl,\n\t\t\t\t'FloatContainer' : FloatContainer\n\t\t\t},\n\n\t\t\t'EaselJS' : {\n\t\t\t\t'BigText' : BigText,\n\t\t\t\t'Placeholder' : Placeholder,\n\t\t\t\t'Fill' : Background,\n\n\t\t\t\t'DisabledButtonHelper' : DisabledButtonHelper\n\t\t\t},\n\n\t\t\t'FakeWebremote' : {\n\t\t\t\t'KeyboardUser' : KeyboardUser\n\t\t\t},\n\n\t\t\t'Loader' : new Loader ()\n\n\t\t};\n\n\t}\n);\n","define (\n\t'easelbone',\n\t[\n\t\t'CatLab/Easelbone/FrontController'\n\t],\n\tfunction (easelbone) {\n\t\treturn easelbone;\n\t}\n);\n"]}